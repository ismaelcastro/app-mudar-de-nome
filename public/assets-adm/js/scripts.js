var $jscomp={scope:{},findInternal:function(t,e,n){t instanceof String&&(t=String(t));for(var i=t.length,r=0;r<i;r++){var o=t[r];if(e.call(n,o,r,t))return{i:r,v:o}}return{i:-1,v:void 0}}};function init_mask(){$(".process_number").mask("0000000-00.0000.0.00.0000"),$(".date").mask("00/00/0000"),$(".time").mask("00:00:00"),$(".date_time").mask("00/00/0000 00:00:00"),$(".cep").mask("00000-000"),$(".phone").mask("0000-0000"),$(".phone_with_ddd").mask("(00) 0000-0000"),$(".phone_us").mask("(000) 000-0000"),$(".mixed").mask("AAA 000-S0S"),$(".ip_address").mask("099.099.099.099"),$(".percent").mask("##0,00%",{reverse:!0}),$(".clear-if-not-match").mask("00/00/0000",{clearIfNotMatch:!0}),$(".placeholder").mask("00/00/0000",{placeholder:"__/__/____"}),$(".fallback").mask("00r00r0000",{translation:{r:{pattern:/[\/]/,fallback:"/"},placeholder:"__/__/____"}}),$(".selectonfocus").mask("00/00/0000",{selectOnFocus:!0}),$(".cep_with_callback").mask("00000-000",{onComplete:function(t){console.log("Mask is done!:",t)},onKeyPress:function(t,e,n,i){console.log("An key was pressed!:",t," event: ",e,"currentField: ",n.attr("class")," options: ",i)},onInvalid:function(t,e,n,i,r){var o=i[0];console.log("Digit: ",o.v," is invalid for the position: ",o.p,". We expect something like: ",o.e)}}),$(".crazy_cep").mask("00000-000",{onKeyPress:function(t,e,n,i){var r=["00000-000","0-00-00-00"];mask=t.length>7?r[1]:r[0],$(".crazy_cep").mask(mask,i)}}),$(".cnpj").mask("00.000.000/0000-00",{reverse:!0}),$(".cpf").mask("000.000.000-00",{reverse:!1}),$(".money").mask("#.##0,00",{reverse:!0}),$(".money_en").mask("###0.00",{reverse:!0}),$(".points").mask("###0.0",{reverse:!0});var t=function(t){return 11===t.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},e={onKeyPress:function(e,n,i,r){i.mask(t.apply({},arguments),r)}};$(".sp_celphones").mask(t,e),$(".bt-mask-it").click(function(){$(".mask-on-div").mask("000.000.000-00"),$(".mask-on-div").fadeOut(500).fadeIn(500)}),$("pre").each(function(t,e){hljs.highlightBlock(e)})}function load_step(){var t,e,n,i,r=1,o="yes",a=$("fieldset").length;function s(t){var e=parseFloat(100/a)*t;e=e.toFixed(),$(".progress-bar").css("width",e+"%")}s(r),$(".next").click(function(){t=$(this).parent(),e=$(this).parent().next(),t.find("input").removeClass("is-invalid"),t.find("label").removeClass("text-danger"),o="yes",t.find("input").each(function(){$(this).prop("required")&&""==$(this).val()&&(o="no",$(this).addClass("is-invalid"),$(this).parent().find("label").addClass("text-danger"))}),"yes"==o&&($("#progressbar li").eq($("fieldset").index(e)).addClass("active"),e.show(),t.animate({opacity:0},{step:function(n){i=1-n,t.css({display:"none",position:"relative"}),e.css({opacity:i})},duration:500}),s(++r))}),$(".previous").click(function(){t=$(this).parent(),n=$(this).parent().prev(),$("#progressbar li").eq($("fieldset").index(t)).removeClass("active"),n.show(),t.animate({opacity:0},{step:function(e){i=1-e,t.css({display:"none",position:"relative"}),n.css({opacity:i})},duration:500}),s(--r)})}function copy_text(t){var e=window.document.getElementById(t).innerHTML,n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","temp_"+t),n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}function copy_field(t){window.document.getElementById(t).select(),document.execCommand("copy"),toastr.success("Sucesso!","Copiado para à área de transferência com sucesso")}function progressIcon(t,e,n,i,r,o,a){var s=d3.select(t),l=o,u=2*Math.PI,c=d3.format(".0%"),d=2*e,h=Math.abs((l-0)/.01),p=l<0?-.01:.01,f=s.append("svg").attr("width",d).attr("height",d).append("g").attr("transform","translate("+d/2+","+d/2+")"),g=d3.svg.arc().startAngle(0).innerRadius(e).outerRadius(e-n).cornerRadius(20);f.append("path").attr("class","d3-progress-background").attr("d",g.endAngle(u)).style("fill",i);var m=f.append("path").attr("class","d3-progress-foreground").attr("filter","url(#blur)").style({fill:r,stroke:r}),v=f.append("path").attr("class","d3-progress-front").style({fill:r,"fill-opacity":1}),y=d3.select(".progress-percentage").attr("class","mt-15 mb-5");d3.select(t).append("i").attr("class",a+" counter-icon").style({color:r,top:(d-32)/2+"px"});var _=0;!function t(){!function(t){m.attr("d",g.endAngle(u*t)),v.attr("d",g.endAngle(u*t)),y.text(c(t))}(_),h>0&&(h--,_+=p,setTimeout(t,10))}()}function openblocks(t,e,n=""){e!=n?$(t).show(50):$(t).hide(50)}function openblocks_docs(t){"simple"==t?($(".openthis,.openthisprice").hide(50),$(".open_d4sign").hide(50)):"despachante"==t?$(".open_d4sign,.openthis,.openthisprice").hide(50):"word"==t||"pdf"==t?($(".openthis").show(50),$(".open_d4sign,.openthisprice").hide(50)):"declaracao"==t?$(".openthisprice,.openthis").show(50):"d4sign"==t&&($(".openthis,.openthisprice").hide(50),$(".open_d4sign").show(50))}function saveClient(t){event.preventDefault();var e=$(t).serialize(),n=$(t).attr("action");$.ajax({url:n,type:"POST",data:e,success:function(t){return $("#box-clients").load("/manager-setup/clients/box"),$("#add-cliente").modal("hide"),!1}})}function ajaxSaveClientPicture(t,e,n,i){var r=!1;window.FormData&&(r=new FormData),r&&(r.append("image",e),r.append("_token",n)),$.ajax({url:"/manager-setup/clients/"+t+"/update_image",type:"POST",data:r,processData:!1,contentType:!1,success:function(t){$(i).html('<img src="/storage/clients/'+e+'" width="70" height="70">')}})}function upload_user(t,e,n,i,r){var o=!1;window.FormData&&(o=new FormData);for(var a,s=0,l=t.files.length;s<l;s++){if(a=t.files[s],window.FileReader&&(new FileReader).readAsDataURL(a),o){var u=$('meta[name="csrf-token"]').attr("content");o.append("file",a),o.append("extra","extra-data"),o.append("_token",u),o.append("folder",i)}$.ajax({url:e,type:"POST",data:o,processData:!1,contentType:!1,success:function(t){var e=t.file;ajaxSaveClientPicture(r,e,u,n),t.success?toastr.success("Sucesso!",t.mesagem):toastr.error("Error!",t.mesagem)}})}}function delform(t,e){var n=$("#"+e).attr("href");$("#"+t).attr("action",n),$("#"+t).submit()}function upload(t,e,n,i=""){var r=!1;window.FormData&&(r=new FormData);for(var o,a=0,s=t.files.length;a<s;a++)if(o=t.files[a],window.FileReader&&(new FileReader).readAsDataURL(o),r){var l=$('meta[name="csrf-token"]').attr("content");r.append("file",o),r.append("extra","extra-data"),r.append("_token",l),""!=i&&r.append("folder",i),$.ajax({url:e,type:"POST",data:r,processData:!1,contentType:!1,success:function(t){$("#"+n).val(t.file),t.success?toastr.success("Sucesso!",t.mesagem):toastr.error("Error!",t.mesagem)}})}}function loadQuerent(t){""==$("#querent").val()&&$("#querent").val(t)}function selectAllFilter(t,e){$(t+" option").prop("selected",!0),$(e).submit()}function deselectAllFilter(t,e){$(t+" option").prop("selected",!1),$(e).submit()}function deselectSatrItem(t,e,n){var i=$(t).val(),r=jQuery.grep(i,function(t){return t!=e});$(t).val(r),$(n).submit()}function deselectSatrFilter(t,e){$(t).val([]),$(e).submit()}function addSatrFilter(t,e,n){var i=$(t).val();$(t).val([]),i.push(e),$(t).val(i),$(n).submit()}function removeFilters(){console.log("remove filter selected")}function swalConfirm(t,e){swal({title:"Realmente quer executar esta operação?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Sim, pode continuar!",closeOnConfirm:!1},function(){"link"==e?location.href=t:$(t).submit()})}function swalPrompt(t,e,n,i){switch(e){case"2":swallSelect(t,n,i);break;default:swallInput(t,n,i)}}function swallInput(t,e,n){swal({title:n,type:"input",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Enviar!",closeOnConfirm:!1},function(n){return!1!==n&&(""===n?(swal.showInputError("Você precisa escrever alguma coisa!"),!1):($("#motivoFieldSend").val(n),void("link"==e?location.href=t:$(t).submit())))})}function swallSelect(t,e,n){swal.fire({title:n,input:"select",inputOptions:{baixo_interesse:"Baixo Interesse",custo_alto:"Custo Alto",prazo_estimado:"Prazo Estimado",concorrente:"Concorrente",futuramente:"Futuramente",curiosidade:"Curiosidade",encerrado:"Encerrado"},inputPlaceholder:"Selecione uma opção",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Enviar",inputValidator:n=>!1!==n&&(""===n?(swal.showInputError("Você precisa escrever alguma coisa!"),!1):($("#motivoFieldSend").val(n),void("link"==e?location.href=t:$(t).submit())))})}function sizebox_comment(){var t=$(".au-consulting-notes-message__note").height();$(".au-consulting-notes-message__content").height(t+30)}function habcampoRegister(t){var e=t.closest(".au-consulting-notes-message"),n=t.closest(".au-consulting-notes-message__content"),i=$(n).height();$(n).css("height",i+85),$(e).find(".au-consulting-notes-message__edit").removeClass("ng-hide")}function cancelcampoRegister(t){var e=t.closest(".au-consulting-notes-message"),n=t.closest(".au-consulting-notes-message__content"),i=$(n).height();$(n).css("height",i),$(e).find(".au-consulting-notes-message__edit").addClass("ng-hide"),window.sizebox_comment()}function changeInstallments(t){"gerencianet"==t?($("#nInstallments").show(),$("#box_gerencianetId").show(),$("#max_installments").attr("required","required")):($("#nInstallments").hide(),$("#box_gerencianetId").hide(),$("#max_installments").removeAttr("required")),"adexitum"==t?$(".paydatebox").hide():$(".paydatebox").show()}function atualizacep(t){var e,n;n="https://viacep.com.br/ws/"+(t=t.replace(/\D/g,""))+"/json/?callback=correiocontrolcep",(e=document.createElement("script")).setAttribute("charset","utf-8"),e.src=n,document.querySelector("head").appendChild(e)}function correiocontrolcep(t){t.erro?alert("Cep não encontrado"):($("#addressstreet").val(t.logradouro),$("#addressdistrict").val(t.bairro),$("#addresscity").val(t.localidade),$("#addressstate").val(t.uf))}$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6-impl","es3"),function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e||n)}(function(t){var e=function(e,n,i){var r={invalid:[],getCaret:function(){try{var t,n=0,i=e.get(0),o=document.selection,a=i.selectionStart;return o&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=o.createRange()).moveStart("character",-r.val().length),n=t.text.length):(a||"0"===a)&&(n=a),n}catch(t){}},setCaret:function(t){try{if(e.is(":focus")){var n,i=e.get(0);i.setSelectionRange?i.setSelectionRange(t,t):((n=i.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select())}}catch(t){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which),e.data("mask-previus-value",e.val()),e.data("mask-previus-caret-pos",r.getCaret()),r.maskDigitPosMapOld=r.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",r.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){s===r.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){s=r.val()}).on("focus.mask",function(e){!0===i.selectOnFocus&&t(e.target).select()}).on("focusout.mask",function(){i.clearIfNotMatch&&!o.test(r.val())&&r.val("")})},getRegexMask:function(){for(var t,e,i,r,o=[],s=0;s<n.length;s++)(t=a.translation[n.charAt(s)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=t.optional,(t=t.recursive)?(o.push(n.charAt(s)),r={digit:n.charAt(s),pattern:e}):o.push(i||t?e+"?":e)):o.push(n.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=o.join(""),r&&(o=o.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(o)},destroyEvents:function(){e.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var n=e.is("input")?"val":"text";return 0<arguments.length?(e[n]()!==t&&e[n](t),n=e):n=e[n](),n},calculateCaretPosition:function(){var t=e.data("mask-previus-value")||"",n=r.getMasked(),i=r.getCaret();if(t!==n){var o,a=e.data("mask-previus-caret-pos")||0,s=(n=n.length,t.length),l=t=0,u=0,c=0;for(o=i;o<n&&r.maskDigitPosMap[o];o++)l++;for(o=i-1;0<=o&&r.maskDigitPosMap[o];o--)t++;for(o=i-1;0<=o;o--)r.maskDigitPosMap[o]&&u++;for(o=a-1;0<=o;o--)r.maskDigitPosMapOld[o]&&c++;i>s?i=10*n:a>=i&&a!==s?r.maskDigitPosMapOld[i]||(a=i,i=i-(c-u)-t,r.maskDigitPosMap[i]&&(i=a)):i>a&&(i=i+(u-c)+l)}return i},behaviour:function(n){n=n||window.event,r.invalid=[];var i=e.data("mask-keycode");if(-1===t.inArray(i,a.byPassKeys)){i=r.getMasked();var o=r.getCaret();return setTimeout(function(){r.setCaret(r.calculateCaretPosition())},t.jMaskGlobals.keyStrokeCompensation),r.val(i),r.setCaret(o),r.callbacks(n)}},getMasked:function(t,e){var o,s,l,u=[],c=void 0===e?r.val():e+"",d=0,h=n.length,p=0,f=c.length,g=1,m="push",v=-1,y=0,_=[];for(i.reverse?(m="unshift",g=-1,o=0,d=h-1,p=f-1,s=function(){return-1<d&&-1<p}):(o=h-1,s=function(){return d<h&&p<f});s();){var x=n.charAt(d),b=c.charAt(p),w=a.translation[x];w?(b.match(w.pattern)?(u[m](b),w.recursive&&(-1===v?v=d:d===o&&d!==v&&(d=v-g),o===v&&(d-=g)),d+=g):b===l?(y--,l=void 0):w.optional?(d+=g,p-=g):w.fallback?(u[m](w.fallback),d+=g,p-=g):r.invalid.push({p:p,v:b,e:w.pattern}),p+=g):(t||u[m](x),b===x?(_.push(p),p+=g):(l=x,_.push(p+y),y++),d+=g)}return c=n.charAt(o),h!==f+1||a.translation[c]||u.push(c),u=u.join(""),r.mapMaskdigitPositions(u,_,f),u},mapMaskdigitPositions:function(t,e,n){for(t=i.reverse?t.length-n:0,r.maskDigitPosMap={},n=0;n<e.length;n++)r.maskDigitPosMap[e[n]+t]=1},callbacks:function(t){var o=r.val(),a=o!==s,l=[o,t,e,i],u=function(t,e,n){"function"==typeof i[t]&&e&&i[t].apply(this,n)};u("onChange",!0===a,l),u("onKeyPress",!0===a,l),u("onComplete",o.length===n.length,l),u("onInvalid",0<r.invalid.length,[o,t,e,r.invalid,i])}};e=t(e);var o,a=this,s=r.val();n="function"==typeof n?n(r.val(),void 0,e,i):n,a.mask=n,a.options=i,a.remove=function(){var t=r.getCaret();return a.options.placeholder&&e.removeAttr("placeholder"),e.data("mask-maxlength")&&e.removeAttr("maxlength"),r.destroyEvents(),r.val(a.getCleanVal()),r.setCaret(t),e},a.getCleanVal=function(){return r.getMasked(!0)},a.getMaskedVal=function(t){return r.getMasked(!1,t)},a.init=function(s){if(s=s||!1,i=i||{},a.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,a.byPassKeys=t.jMaskGlobals.byPassKeys,a.translation=t.extend({},t.jMaskGlobals.translation,i.translation),a=t.extend(!0,{},a,i),o=r.getRegexMask(),s)r.events(),r.val(r.getMasked());else{i.placeholder&&e.attr("placeholder",i.placeholder),e.data("mask")&&e.attr("autocomplete","off"),s=0;for(var l=!0;s<n.length;s++){var u=a.translation[n.charAt(s)];if(u&&u.recursive){l=!1;break}}l&&e.attr("maxlength",n.length).data("mask-maxlength",!0),r.destroyEvents(),r.events(),s=r.getCaret(),r.val(r.getMasked()),r.setCaret(s)}},a.init(!e.is("input"))};t.maskWatchers={};var n=function(){var n=t(this),r={},o=n.attr("data-mask");if(n.attr("data-mask-reverse")&&(r.reverse=!0),n.attr("data-mask-clearifnotmatch")&&(r.clearIfNotMatch=!0),"true"===n.attr("data-mask-selectonfocus")&&(r.selectOnFocus=!0),i(n,o,r))return n.data("mask",new e(this,o,r))},i=function(e,n,i){i=i||{};var r=t(e).data("mask"),o=JSON.stringify;e=t(e).val()||t(e).text();try{return"function"==typeof n&&(n=n(e)),"object"!=typeof r||o(r.options)!==o(i)||r.mask!==n}catch(t){}},r=function(t){var e,n=document.createElement("div");return(e=(t="on"+t)in n)||(n.setAttribute(t,"return;"),e="function"==typeof n[t]),e};t.fn.mask=function(n,r){r=r||{};var o=this.selector,a=(s=t.jMaskGlobals).watchInterval,s=r.watchInputs||s.watchInputs,l=function(){if(i(this,n,r))return t(this).data("mask",new e(this,n,r))};return t(this).each(l),o&&""!==o&&s&&(clearInterval(t.maskWatchers[o]),t.maskWatchers[o]=setInterval(function(){t(document).find(o).each(l)},a)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){((e=e||t.jMaskGlobals.maskElements)instanceof t?e:t(e)).filter(t.jMaskGlobals.dataMaskAttr).each(n)},r={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&r("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},t.jMaskGlobals=t.jMaskGlobals||{},(r=t.jMaskGlobals=t.extend(!0,{},r,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},r.watchInterval)},window.jQuery,window.Zepto),$(function(){init_mask()}),function(t){t(["jquery"],function(t){return function(){var e,n,i,r=0,o={error:"error",info:"info",success:"success",warning:"warning"},a={clear:function(n,i){var r=d();e||s(r);l(n,r,i)||function(n){for(var i=e.children(),r=i.length-1;r>=0;r--)l(t(i[r]),n)}(r)},remove:function(n){var i=d();e||s(i);if(n&&0===t(":focus",n).length)return void h(n);e.children().length&&e.remove()},error:function(t,e,n){return c({type:o.error,iconClass:d().iconClasses.error,message:t,optionsOverride:n,title:e})},getContainer:s,info:function(t,e,n){return c({type:o.info,iconClass:d().iconClasses.info,message:t,optionsOverride:n,title:e})},options:{},subscribe:function(t){n=t},success:function(t,e,n){return c({type:o.success,iconClass:d().iconClasses.success,message:t,optionsOverride:n,title:e})},version:"2.1.4",warning:function(t,e,n){return c({type:o.warning,iconClass:d().iconClasses.warning,message:t,optionsOverride:n,title:e})}};return a;function s(n,i){return n||(n=d()),(e=t("#"+n.containerId)).length?e:(i&&(e=function(n){return(e=t("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(t(n.target)),e}(n)),e)}function l(e,n,i){var r=!(!i||!i.force)&&i.force;return!(!e||!r&&0!==t(":focus",e).length)&&(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){h(e)}}),!0)}function u(t){n&&n(t)}function c(n){var o=d(),a=n.iconClass||o.iconClass;if(void 0!==n.optionsOverride&&(o=t.extend(o,n.optionsOverride),a=n.optionsOverride.iconClass||a),!function(t,e){if(t.preventDuplicates){if(e.message===i)return!0;i=e.message}return!1}(o,n)){r++,e=s(o,!0);var l=null,c=t("<div/>"),p=t("<div/>"),f=t("<div/>"),g=t("<div/>"),m=t(o.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},y={toastId:r,state:"visible",startTime:new Date,options:o,map:n};return n.iconClass&&c.addClass(o.toastClass).addClass(a),function(){if(n.title){var t=n.title;o.escapeHtml&&(t=_(n.title)),p.append(t).addClass(o.titleClass),c.append(p)}}(),function(){if(n.message){var t=n.message;o.escapeHtml&&(t=_(n.message)),f.append(t).addClass(o.messageClass),c.append(f)}}(),o.closeButton&&(m.addClass(o.closeClass).attr("role","button"),c.prepend(m)),o.progressBar&&(g.addClass(o.progressClass),c.prepend(g)),o.rtl&&c.addClass("rtl"),o.newestOnTop?e.prepend(c):e.append(c),function(){var t="";switch(n.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}c.attr("aria-live",t)}(),c.hide(),c[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(l=setTimeout(x,o.timeOut),v.maxHideTime=parseFloat(o.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,o.progressBar&&(v.intervalId=setInterval(C,10))),function(){o.closeOnHover&&c.hover(w,b);!o.onclick&&o.tapToDismiss&&c.click(x);o.closeButton&&m&&m.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),o.onCloseClick&&o.onCloseClick(t),x(!0)});o.onclick&&c.click(function(t){o.onclick(t),x()})}(),u(y),o.debug&&console&&console.log(y),c}function _(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function x(e){var n=e&&!1!==o.closeMethod?o.closeMethod:o.hideMethod,i=e&&!1!==o.closeDuration?o.closeDuration:o.hideDuration,r=e&&!1!==o.closeEasing?o.closeEasing:o.hideEasing;if(!t(":focus",c).length||e)return clearTimeout(v.intervalId),c[n]({duration:i,easing:r,complete:function(){h(c),clearTimeout(l),o.onHidden&&"hidden"!==y.state&&o.onHidden(),y.state="hidden",y.endTime=new Date,u(y)}})}function b(){(o.timeOut>0||o.extendedTimeOut>0)&&(l=setTimeout(x,o.extendedTimeOut),v.maxHideTime=parseFloat(o.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)}function w(){clearTimeout(l),v.hideEta=0,c.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}function C(){var t=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;g.width(t+"%")}}function d(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},a.options)}function h(t){e||(e=s()),t.is(":visible")||(t.remove(),t=null,0===e.children().length&&(e.remove(),i=void 0))}}()})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)}),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,a,s=this,l=arguments;return o=function(){i=null,n||(r=t.apply(s,l))},a=n&&!i,clearTimeout(i),i=setTimeout(o,e),a&&(r=t.apply(s,l)),r}},throttle:function(t,e){var n,i,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,u=e-(l-a);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,a=l,o=t.apply(n,i)):r||(r=setTimeout(s,u)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,n,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(i()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=function(t){var e,n,i=[],r=a.length;for(e=0;r>e;e++)(n=a.key(e)).match(t)&&i.push(n.replace(t,""));return i}(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&i()>n)}}),n}(),a=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):s}var i=0,o={},a=6,s=new r(10);return n.setMaxPendingRequests=function(t){a=t},n.resetCache=function(){s.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),u._cache.set(s,t)}function r(){e(!0)}var s,l,u=this;s=this._fingerprint(t),this.cancelled||s!==this.lastReq||((l=o[s])?l.done(n).fail(r):a>i?(i++,o[s]=this._send(t).done(n).fail(r).always(function(){i--,delete o[s],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,o;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),s=window.SearchIndex=function(){"use strict";function n(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[a]=[],t[o]={},t}var o="c",a="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,l;n.datums[s=n.identify(t)]=t,l=i(n.datumTokenizer(t)),e.each(l,function(t){var e,i,l;for(e=n.trie,i=t.split("");l=i.shift();)(e=e[o][l]||(e[o][l]=r()))[a].push(s)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,s=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,l;if(r&&0===r.length)return!1;for(e=s.trie,n=t.split("");e&&(i=n.shift());)e=e[o][i];return e&&0===n.length?(l=e[a].slice(0),void(r=r?function(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,a=e.length;o>n&&a>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}(r,l):l)):(r=[],!1)}),r?e.map(function(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}(r),function(t){return s.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){var e,n=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,n.transform(e))}))},clear:function(){return this.storage.clear(),this}}),t}(),u=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new a({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){var n,i=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,function(t,n){e(t?[]:i.transform(n))})},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(r,i)).url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?o(i.transport):t.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(i,n)).url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=function(t){var e,n,i;return e=t.prepare,n=t.replace,i=t.wildcard,e||(e=n?function(t,e){return e.url=n(e.url,t),e}:t.wildcard?function(t,e){return e.url=e.url.replace(i,encodeURIComponent(t)),e}:function(t,e){return e})}(n),n.limiter=function(t){var n,i,r;return n=t.limiter,i=t.rateLimitBy,r=t.rateLimitWait,n||(n=/^throttle$/i.test(i)?function(t){return function(n){return e.throttle(n,t)}}(r):function(t){return function(n){return e.debounce(n,t)}}(r)),n}(n),n.transport=n.transport?o(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(n){return function(i){var r=t.Deferred();return n(i,function(t){e.defer(function(){r.resolve(t)})},function(t){e.defer(function(){r.reject(t)})}),r}}return function(n){var o,a;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(n=e.mixin(o,n||{})).datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),a=n.sorter,n.sorter=a?function(t){return t.sort(a)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}();return function(){"use strict";function n(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){var t=this;return this.remote?function(e,n,i){return t.search(e,n,i)}:function(e,n){return t.search(e,n)}},_loadPrefetch:function(){var e,n,i=this;return e=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),e.resolve()):this.prefetch.fromNetwork(function(t,n){return t?e.reject():(i.add(n),i.prefetch.store(i.index.serialize()),void e.resolve())}):e.resolve(),e.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){t.add(t.local)}),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){var r,o=this;return r=this.sorter(this.index.search(t)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,function(t){var n=[];e.each(t,function(t){!e.some(r,function(e){return o.identify(t)===o.identify(e)})&&n.push(t)}),i&&i(n)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,a,s=this,l=arguments;return o=function(){i=null,n||(r=t.apply(s,l))},a=n&&!i,clearTimeout(i),i=setTimeout(o,e),a&&(r=t.apply(s,l)),r}},throttle:function(t,e){var n,i,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,u=e-(l-a);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,a=l,o=t.apply(n,i)):r||(r=setTimeout(s,u)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function i(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(o){var a,s;return s=e.mixin({},r,o),{css:(a={css:i(),classes:s,html:t(s),selectors:n(s)}).css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(t){e.mixin(t,a)}}}}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i;return"typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var i;return i=t.Event("typeahead:"+e),(n=n||[]).unshift(i),this.$el.trigger.apply(this.$el,n),i},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=i[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,i,r){var o;if(!i)return this;for(e=e.split(n),i=r?function(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}(i,r):i,this._callbacks=this._callbacks||{};o=e.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][t].push(i);return this}function e(t,e,n){return function(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=!1===t[r].apply(e,n);return!i}}var n=/\s+/,i=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return{onSync:function(e,n,i){return t.call(this,"sync",e,n,i)},onAsync:function(e,n,i){return t.call(this,"async",e,n,i)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(n);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var r,o,a,s,l;if(!this._callbacks)return this;for(t=t.split(n),a=[].slice.call(arguments,1);(r=t.shift())&&(o=this._callbacks[r]);)s=e(o.sync,this,[r].concat(a)),l=e(o.async,this,[r].concat(a)),s()&&i(l);return this}}}(),o=function(t){"use strict";var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){var r;(i=e.mixin({},n,i)).node&&i.pattern&&(i.pattern=e.isArray(i.pattern)?i.pattern:[i.pattern],r=function(t,n,i){for(var r,o=[],a=0,s=t.length;s>a;a++)o.push(e.escapeRegExChars(t[a]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}(i.pattern,i.caseSensitive,i.wordsOnly),function t(e,n){for(var i,r=0;r<e.childNodes.length;r++)3===(i=e.childNodes[r]).nodeType?r+=n(i)?1:0:t(i,n)}(i.node,function(e){var n,o,a;return(n=r.exec(e.data))&&(a=t.createElement(i.tagName),i.className&&(a.className=i.className),(o=e.splitText(n.index)).splitText(n[0].length),a.appendChild(o.cloneNode(!0)),e.parentNode.replaceChild(a,o)),!!n}))}}(window.document),a=function(){"use strict";function n(n,i){(n=n||{}).input||t.error("input is missing"),i.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=function(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,r;r=!!(n=i(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),s=function(){"use strict";function n(n,i){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!function(t){return/^[_a-zA-Z0-9-]+$/.test(t)}(n.name)&&t.error("invalid dataset name: "+n.name),i.mixin(this),this.highlight=!!n.highlight,this.name=n.name||a(),this.limit=n.limit||5,this.displayFn=function(t){return t=t||e.stringify,e.isFunction(t)?t:function(e){return e[t]}}(n.display||n.displayKey),this.templates=function(n,i){return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||function(e){return t("<div>").text(i(e))}}}(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}var i,a;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},a=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(i.obj)?{val:n.data(i.val)||"",obj:n.data(i.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,r){var a,s=this;return a=document.createDocumentFragment(),e.each(r,function(e){var r,o;o=s._injectQuery(n,e),r=t(s.templates.suggestion(o)).data(i.obj,e).data(i.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),a.appendChild(r[0])}),this.highlight&&o({className:this.classes.highlight,node:a,pattern:n}),t(a)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){o||(o=!0,t=(t||[]).slice(0,i.limit),a=t.length,i._overwrite(e,t),a<i.limit&&i.async&&i.trigger("asyncRequested",e))}var i=this,r=!1,o=!1,a=0;this.cancel(),this.cancel=function(){r=!0,i.cancel=t.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,n,function(n){n=n||[],!r&&a<i.limit&&(i.cancel=t.noop,a+=n.length,i._append(e,n.slice(0,i.limit-a)),i.async&&i.trigger("asyncReceived",e))}),!o&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){var r=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,function(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new s(e,i)})}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=-1>(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)?e.length-1:i)?null:e.eq(i)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?s.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,function(e){e.update(t)})),n},empty:function(){e.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,function(t){t.destroy()})}}),n}(),u=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),c=function(){"use strict";function n(n,r){var o,a,s,l,u,c,d,h,p,f,g;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),a=i(this,"deactivate","_onBlurred"),s=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),u=i(this,"isActive","_onEscKeyed"),c=i(this,"isActive","open","_onUpKeyed"),d=i(this,"isActive","open","_onDownKeyed"),h=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",a,this).onSync("enterKeyed",s,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",c,this).onSync("downKeyed",d,this).onSync("leftKeyed",h,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,a;r=document.activeElement,o=i.is(r),a=i.has(r).length>0,e.isMsie()&&(o||a)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,n,i,r,o,s;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=a.normalizeQuery(i),o=e.escapeRegExChars(r),(s=new RegExp("^(?:"+o+")(.+$)","i").exec(n.val))&&this.input.setHint(i+s[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),r=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(h.typeahead))&&n(e,i)})}function o(t){var n,i;n=t.data(h.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(h.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(h.typeahead).removeData(h.www).removeData(h.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function s(n){var i;return(i=e.isJQuery(n)||e.isElement(n)?t(n).first():[]).length?i:null}var d,h,p;d=t.fn.typeahead,h={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},p={initialize:function(r,o){var d;return o=e.isArray(o)?o:[].slice.call(arguments,1),d=n((r=r||{}).classNames),this.each(function(){var n,p,f,g,m,v,y,_,x,b,w;e.each(o,function(t){t.highlight=!!r.highlight}),n=t(this),p=t(d.html.wrapper),f=s(r.hint),g=s(r.menu),m=!1!==r.hint&&!f,v=!1!==r.menu&&!g,m&&(f=function(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(function(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}(n,d)),v&&(g=t(d.html.menu).css(d.css.menu)),f&&f.val(""),n=function(t,e){t.data(h.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}(n,d),(m||v)&&(p.css(d.css.wrapper),n.css(m?d.css.input:d.css.inputWithNoHint),n.wrap(p).parent().prepend(m?f:null).append(v?g:null)),w=v?u:l,y=new i({el:n}),_=new a({hint:f,input:n},d),x=new w({node:g,datasets:o},d),b=new c({input:_,menu:x,eventBus:y,minLength:r.minLength},d),n.data(h.www,d),n.data(h.typeahead,b)})},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){o(e),t.destroy()}),this}},t.fn.typeahead=function(t){return p[t]?p[t].apply(this,[].slice.call(arguments,1)):p.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=d,this}}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n;return function(){var t,n,i;e&&e.requirejs||(e?n=e:e={},function(e){function r(t,e){return _.call(t,e)}function o(t,e){var n,i,r,o,a,s,l,u,c,d,h,p=e&&e.split("/"),f=v.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(a=(t=t.split("/")).length-1,v.nodeIdCompat&&b.test(t[a])&&(t[a]=t[a].replace(b,"")),t=p.slice(0,p.length-1).concat(t),c=0;c<t.length;c+=1)if("."===(h=t[c]))t.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&f){for(c=(n=t.split("/")).length;c>0;c-=1){if(i=n.slice(0,c).join("/"),p)for(d=p.length;d>0;d-=1)if((r=f[p.slice(0,d).join("/")])&&(r=r[i])){o=r,s=c;break}if(o)break;!l&&g&&g[i]&&(l=g[i],u=c)}!o&&l&&(o=l,s=u),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function a(t,n){return function(){var i=x.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),h.apply(e,i.concat([t,n]))}}function s(t){return function(e){g[t]=e}}function l(t){if(r(m,t)){var n=m[t];delete m[t],y[t]=!0,d.apply(e,n)}if(!r(g,t)&&!r(y,t))throw new Error("No "+t);return g[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function c(t){return function(){return v&&v.config&&v.config[t]||{}}}var d,h,p,f,g={},m={},v={},y={},_=Object.prototype.hasOwnProperty,x=[].slice,b=/\.js$/;p=function(t,e){var n,i=u(t),r=i[0];return t=i[1],r&&(n=l(r=o(r,e))),r?t=n&&n.normalize?n.normalize(t,function(t){return function(e){return o(e,t)}}(e)):o(t,e):(r=(i=u(t=o(t,e)))[0],t=i[1],r&&(n=l(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},f={require:function(t){return a(t)},exports:function(t){var e=g[t];return void 0!==e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:c(t)}}},d=function(t,n,i,o){var u,c,d,h,v,_,x=[],b=typeof i;if(o=o||t,"undefined"===b||"function"===b){for(n=!n.length&&i.length?["require","exports","module"]:n,v=0;v<n.length;v+=1)if("require"===(c=(h=p(n[v],o)).f))x[v]=f.require(t);else if("exports"===c)x[v]=f.exports(t),_=!0;else if("module"===c)u=x[v]=f.module(t);else if(r(g,c)||r(m,c)||r(y,c))x[v]=l(c);else{if(!h.p)throw new Error(t+" missing "+c);h.p.load(h.n,a(o,!0),s(c),{}),x[v]=g[c]}d=i?i.apply(g[t],x):void 0,t&&(u&&u.exports!==e&&u.exports!==g[t]?g[t]=u.exports:d===e&&_||(g[t]=d))}else t&&(g[t]=i)},t=n=h=function(t,n,i,r,o){if("string"==typeof t)return f[t]?f[t](n):l(p(t,n).f);if(!t.splice){if((v=t).deps&&h(v.deps,v.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?d(e,t,n,i):setTimeout(function(){d(e,t,n,i)},4),h},h.config=function(t){return h(t)},t._defined=g,(i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),r(g,t)||r(m,t)||(m[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i)}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&"constructor"!==i&&n.push(i)}return n}var n={Extend:function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Decorate:function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,r=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}var r=e(n),o=e(t);n.displayName=t.displayName,i.prototype=new function(){this.constructor=i};for(var a=0;a<o.length;a++){var s=o[a];i.prototype[s]=t.prototype[s]}for(var l=function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var r=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),r.apply(this,arguments)}},u=0;u<r.length;u++){var c=r[u];i.prototype[c]=l(c)}return i}},i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;i>n;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;t>n;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var r in e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]),i){var o=i[r];n.setAttribute(r,o)}if(e.children){var a=t(n),s=document.createElement("strong");s.className="select2-results__group",t(s),this.template(e,s);for(var l=[],u=0;u<e.children.length;u++){var c=e.children[u],d=this.option(c);l.push(d)}var h=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(l),a.append(s),a.append(h)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e,n){var i=this,r=e.id+"-results";this.$results.attr("id",r),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.hideMessages(),i.showLoading(t)}),e.on("select",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var r=n-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var a=i.$results.offset().top,s=o.offset().top,l=i.$results.scrollTop()+(s-a);0===r?i.$results.scrollTop(0):0>s-a&&i.$results.scrollTop(l)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var r=e.eq(n);r.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),s=i.$results.scrollTop()+a-o;0===n?i.$results.scrollTop(0):a>o&&i.$results.scrollTop(s)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),r=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:r}):i.trigger("close",{})):void i.trigger("select",{originalEvent:e,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var n=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*t.outerHeight(!1),2>=e?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t,e){var i=this,r=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),t.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target).closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.focus()}),t.on("selection:update",function(t){n.update(t.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,n){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.options.get("disabled")){var n=t(this).parent().data("data");r.trigger("unselect",{originalEvent:e,data:n})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),a=this.display(r,o);o.append(a),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||(n.which==e.DELETE||n.which==e.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(t){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var e=r.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var i=e.data("data");r.searchRemoveChoice(i),t.preventDefault()}}});var o=document.documentMode,a=o&&11>=o;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return a?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(a&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,a)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return(i+=t.generateChars(4))+(null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4))},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];(t=[t]).push.apply(t,i);for(var o=0;o<t.length;o++){var a=t[o].id;-1===n.inArray(a,r)&&r.push(a)}e.$element.val(r),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var r=[],o=0;o<i.length;o++){var a=i[o].id;a!==t.id&&-1===n.inArray(a,r)&&r.push(a)}e.$element.val(r),e.$element.trigger("change")})},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],r=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),a=r.matches(t,o);null!==a&&i.push(a)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var a=n(i[o]),s=this.item(a);r.push(s)}e.children=r}return(e=this._normalizeItem(e)).element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t});return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var r=this,o=this.$element.find("option"),a=o.map(function(){return r.item(n(this)).id}).get(),s=[],l=0;l<t.length;l++){var u=this._normalizeItem(t[l]);if(n.inArray(u.id,a)>=0){var c=o.filter(i(u)),d=this.item(c),h=n.extend(!0,{},u,d),p=this.option(h);c.replaceWith(p)}else{var f=this.option(u);if(u.children){var g=this.convertToOptions(u.children);e.appendMany(f,g)}s.push(f)}}return s},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,n,i),t.isArray(r))for(var s=0;s<r.length;s++){var l=r[s],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return e.prototype.query=function(t,e,n){var i=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,function t(r,o){for(var a=r.results,s=0;s<a.length;s++){var l=a[s],u=null!=l.children&&!t({results:l.children},!0);if(l.text===e.term||u)return!o&&(r.data=a,void n(r))}if(o)return!0;var c=i.createTag(e);if(null!=c){var d=i.option(c);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(a,c)}r.results=a,n(r)})},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){var r=this;n.term=n.term||"";var o=this.tokenizer(n,this.options,function(e){var n=r._normalizeItem(e);if(!r.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=r.option(n);i.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([i])}!function(t){r.trigger("select",{data:t})}(n)});o.term!==n.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),n.term=o.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var u=a[s];if(-1!==t.inArray(u,o)){var c=a.substr(0,s),d=l(t.extend({},n,{term:c}));null!=d?(r(d),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;return i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",function(t){r.lastParams=t,r.loading=!0}),n.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);!r.loading&&e&&(r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore())})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(e){var n=t(this).data("select2-scroll-position");t(this).scrollTop(n.y)}),t(window).on(o+" "+a+" "+s,function(t){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(r),t(window).off(r+" "+o+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s=this.$dropdown.outerHeight(!1),l=e.scrollTop(),u=e.scrollTop()+e.height(),c=l<o.top-s,d=u>o.bottom+s,h={left:o.left,top:a.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var f=p.offset();h.top-=f.top,h.left-=f.left,n||i||(r="below"),d||!c||n?!c&&d&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(h.top=a.top-f.top-s),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,_,x,b,w,C,k,S,M,F,A){function $(){this.reset()}return $.prototype.apply=function(d){if(null==(d=t.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=p:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,_)),d.tags&&(d.dataAdapter=u.Decorate(d.dataAdapter,g)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=u.Decorate(d.dataAdapter,m)),null!=d.query){var A=e(d.amdBase+"compat/query");d.dataAdapter=u.Decorate(d.dataAdapter,A)}if(null!=d.initSelection){var $=e(d.amdBase+"compat/initSelection");d.dataAdapter=u.Decorate(d.dataAdapter,$)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,w)),d.selectOnClose&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,M))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=x;else{var T=u.Decorate(x,b);d.dropdownAdapter=T}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,S)),d.closeOnSelect&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,F)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var P=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=u.Decorate(d.dropdownAdapter,P)}d.dropdownAdapter=u.Decorate(d.dropdownAdapter,k)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=r:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,o)),d.allowClear&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var E=e(d.amdBase+"compat/containerCss");d.selectionAdapter=u.Decorate(d.selectionAdapter,E)}d.selectionAdapter=u.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var O=d.language.split("-")[0];d.language=[d.language,O]}else d.language=[d.language];if(t.isArray(d.language)){var D=new c;d.language.push("en");for(var L=d.language,R=0;R<L.length;R++){var z=L[R],I={};try{I=c.loadPath(z)}catch(t){try{z=this.defaults.amdLanguageBase+z,I=c.loadPath(z)}catch(t){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+z+'" could not be automatically loaded. A fallback will be used instead.');continue}}D.extend(I)}d.translations=D}else{var q=c.loadPath(this.defaults.amdLanguageBase+"en"),N=new c(d.language);N.extend(q),d.translations=N}return d},$.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return d[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:A,matcher:function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),a=r.children.length-1;a>=0;a--)null==n(i,r.children[a])&&o.children.splice(a,1);return o.children.length>0?o:n(i,o)}var s=e(r.text).toUpperCase(),l=e(i.term).toUpperCase();return s.indexOf(l)>-1?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},$.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var r=u._convertData(i);t.extend(this.defaults,r)},new $}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r;r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);for(var a in o=i._convertData(o))e.inArray(a,n)>-1||(e.isPlainObject(this.options[a])?e.extend(this.options[a],o[a]):this.options[a]=o[a]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var u=this.options.get("resultsAdapter");this.results=new u(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){c.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return 0>=r?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;l>s;s+=1){var u=a[s].replace(/\s/g,"").match(n);if(null!==u&&u.length>=1)return u[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var r=0;r<e.addedNodes.length;r++){e.addedNodes[r].selected&&(n=!0)}else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],a={prevented:!1,name:t,args:e};if(n.call(this,o,a),a.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("select2/compat/utils",["jquery"],function(t){return{syncCssClasses:function(e,n,i){var r,o,a=[];(r=t.trim(e.attr("class")))&&t((r=""+r).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)}),(r=t.trim(n.attr("class")))&&t((r=""+r).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=i(this))&&a.push(o)}),e.attr("class",a.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("containerCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(t){var e=s(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("dropdownCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(t){var e=s(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return e.prototype.current=function(e,n){var i=this;return this._isInitialized?void e.call(this,n):void this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,t.isArray(e)||(e=[e]),n(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,n)}return e.prototype.current=function(e,n){function i(e,n){var r=[];return e.selected||-1!==t.inArray(e.id,n)?(e.selected=!0,r.push(e)):e.selected=!1,e.children&&r.push.apply(r,i(e.children,n)),r}for(var r=[],o=0;o<this._currentData.length;o++){var a=this._currentData[o];r.push.apply(r,i(a,this.$element.val().split(this._valueSeparator)))}n(r)},e.prototype.select=function(e,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var n=this;e.selected=!1,this.current(function(t){for(var i=[],r=0;r<t.length;r++){var o=t[r];e.id!=o.id&&i.push(o.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},e.prototype.query=function(t,e,n){for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],a=this.matches(e,o);null!==a&&i.push(a)}n({results:i})},e.prototype.addOptions=function(e,n){var i=t.map(n,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,i)},e}),e.define("select2/compat/matcher",["jquery"],function(t){return function(e){return function(n,i){var r=t.extend(!0,{},i);if(null==n.term||""===t.trim(n.term))return r;if(i.children){for(var o=i.children.length-1;o>=0;o--){var a=i.children[o];e(n.term,a.text,a)||r.children.splice(o,1)}if(r.children.length>0)return r}return e(n.term,i.text,i)?r:null}}}),e.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n,this.options.get("query").call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){n.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),n=function(t){function e(e){var a=e||window.event,s=l.call(arguments,1),u=0,d=0,h=0,p=0,f=0,g=0;if((e=t.event.fix(a)).type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*h,h=0),u=0===h?d:h,"deltaY"in a&&(u=h=-1*a.deltaY),"deltaX"in a&&(d=a.deltaX,0===h&&(u=-1*d)),0!==h||0!==d){if(1===a.deltaMode){var m=t.data(this,"mousewheel-line-height");u*=m,h*=m,d*=m}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");u*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!o||o>p)&&(o=p,i(a,p)&&(o/=40)),i(a,p)&&(u/=40,d/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),h=Math[h>=1?"floor":"ceil"](h/o),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,g=e.clientY-y.top}return e.deltaX=d,e.deltaY=h,e.deltaFactor=o,e.offsetX=f,e.offsetY=g,e.deltaMode=0,s.unshift(e,u,d,h),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function n(){o=null}function i(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var u=a.length;u;)t.event.fixHooks[a[--u]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(t),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,o)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(t){"use strict";function e(e,n){this.regex=/^(.*)(\d)+$/i,this.elem=e,this.$elem=t(e),void 0!==n&&void 0!==n.limit&&n.limit>0&&(n.maximum=n.limit),this.config=t.extend({},i,n),this.clones=this.$elem.closestChild(this.config.cloneThis),this.init()}var n="cloneya",i={cloneThis:".toclone",cloneButton:".clone",deleteButton:".delete",clonePosition:"after",minimum:1,maximum:999,valueClone:!1,dataClone:!1,deepClone:!1,serializeID:!0,ignore:"label.error",preserveChildCount:!1};e.prototype={init:function(){var e=this;e.$elem.addClass(n+"-wrap"),e.clones.addClass(n),e.clones.data("initialCount",e.clones.length),e.$elem.on("click."+n,e.config.cloneThis+">"+e.config.cloneButton,function(i){i.preventDefault(),i.stopPropagation();var r=t(this).closest(e.config.cloneThis);e.$elem.triggerAll("clone_clone clone."+n,[r])}),e.$elem.on("clone."+n,function(t,n){e._cloneAndAppend(n)}),e.$elem.on("click."+n,e.config.cloneThis+">"+e.config.deleteButton,function(i){i.preventDefault(),i.stopPropagation();var r=t(this).closest(e.config.cloneThis);e.$elem.triggerAll("clone_delete delete."+n,[r])}),e.$elem.on("delete."+n,function(i,r){var o=r.closest(e.elem).closestChild(e.config.cloneThis).length;o>e.config.minimum?(e.$elem.triggerAll("clone_before_delete before_delete."+n,[r,o]),e.$elem.triggerHandler("remove."+n,[r]),e.$elem.triggerAll("clone_after_delete after_delete."+n)):(e.$elem.triggerHandler("minimum."+n,e.config.minimum,[r]),r.find("input, textarea, select").each(function(){e._clearForm(t(this))}))}),e.$elem.on("remove."+n,function(e,n){t(n).remove()})},_clean:function(){var t=this;t.$elem.removeClass(n+"-wrap"),t.clones.removeClass(n),t.$elem.off("click."+n,t.config.cloneThis+">"+t.config.cloneButton),t.$elem.off("click."+n,t.config.cloneThis+">"+t.config.deleteButton),t.$elem.off("clone_clone clone_delete clone_before_delete clone."+n+" delete."+n+" before_delete."+n)},destroy:function(){this._clean(),this.$elem.removeData(n)},getOption:function(){return this.config},setOption:function(e){t.extend(this.config,e||{}),this._clean(),this.init()},_cloneAndAppend:function(t){if(t.closest(this.elem).closestChild(this.config.cloneThis).length<this.config.maximum){this.$elem.triggerAll("clone_before_clone before_clone."+n,[t]);var e=this._cloneItem(t);this.$elem.triggerAll("clone_after_clone after_clone."+n,[t,e]),this.clones.add(e),this.$elem.triggerAll("clone_before_append before_append."+n,[t,e]),"after"!==this.config.clonePosition?t.before(e):t.after(e),this.config.ignore&&e.find(this.config.ignore).remove(),this._redoIDs(),this.$elem.triggerAll("clone_after_append after_append."+n,[t,e])}else this.$elem.triggerAll("clone_limit maximum."+n,this.config.maximum,[t])},_cloneItem:function(e){var i=this,r=e.clone({withDataAndEvents:i.config.dataClone,deepWithDataAndEvents:i.config.deepClone});return!1!==i.config.preserveChildCount&&r.find("."+n+"-wrap").each(function(){var e=t(this).closestChild("."+n),i=e.data("initialCount");e.slice(i,e.length).remove()}),r.find("input, textarea, select").each(function(){i._clearForm(t(this)),i.$elem.triggerAll("clone_form_input form_input."+n,[t(this),e,r])}),r},_clearForm:function(t){this.config.valueClone||t.hasClass("noEmpty")||(t.is(":checkbox")||t.is(":radio")?t.prop("checked",!1):t.val(""))},_redoIDs:function(){var e=this;if(!0===e.config.serializeID){var n=e.$elem.find(e.config.cloneThis).first().attr("id");e.$elem.find(e.config.cloneThis).each(function(i){var r,o,a;r=0!==i?i:"",t(this).attr("id")&&t(this).attr("id",n+r),t(this).find("*").each(function(){if(o=t(this).attr("id")){var n=o.match(e.regex);n&&3===n.length?(a=o.replace(/\d+$/,"")+r,t(this).attr("id",a)):(a=o+r,t(this).attr("id",a))}if(t(this).closest(e.config.cloneThis).find("label[for='"+o+"']").attr("for",a),e.config.serializeIndex){var s=t(this).attr("name");if(s){var l=s.match(/\[([^}]+)\]/);if(l&&l.length>=1){var u=s;s=[].map.call(u,function(t,e){return isNaN(+t)||"["!==u[e-1]||"]"!==u[e+1]?t:i}).join(""),t(this).attr("name",s)}}}})})}}},t.fn[n]=function(i){var r=arguments;if(void 0===i||"object"==typeof i)return this.each(function(){t.data(this,n)||t.data(this,n,new e(this,i))});if("string"==typeof i&&"_"!==i[0]&&"init"!==i){if(0===Array.prototype.slice.call(r,1).length&&-1!==t.inArray(i,t.fn[n].getters)){var o=t.data(this[0],n);return o[i].apply(o,Array.prototype.slice.call(r,1))}return this.each(function(){var o=t.data(this,n);o instanceof e&&"function"==typeof o[i]&&o[i].apply(o,Array.prototype.slice.call(r,1))})}},t.fn[n].getters=["getOption"],t.fn.closestChild=function(e){var n,i;return 0===(n=this.children()).length?t():(i=n.filter(e)).length>0?i:n.closestChild(e)},t.fn.extend({triggerAll:function(t,e){var n,i=t.split(" ");for(n=0;n<i.length;n+=1)this.triggerHandler(i[n],e);return this}})}(jQuery),function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function o(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function a(t){return t.length}function s(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function u(t){return(t+="")===ho||t[0]===po?po+t:t}function c(t){return(t+="")[0]===po?t.slice(1):t}function d(t){return u(t)in this._}function h(t){return(t=u(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(c(e));return t}function f(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function m(){this._=Object.create(null)}function v(t){return t}function y(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function _(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=fo.length;i>n;++n){var r=fo[n]+e;if(r in t)return r}}function x(){}function b(){}function w(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new l;return e.on=function(e,r){var o,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function C(){to.event.preventDefault()}function k(){for(var t,e=to.event;t=e.sourceEvent;)e=t;return e}function S(t){for(var e=new b,n=0,i=arguments.length;++n<i;)e[arguments[n]]=w(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=to.event;r.target=t,to.event=r,e[r.type].apply(n,i)}finally{to.event=o}}},e}function M(t){return mo(t,xo),t}function F(t){return"function"==typeof t?t:function(){return vo(t,this)}}function A(t){return"function"==typeof t?t:function(){return yo(t,this)}}function $(t,e){return t=to.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function T(t){return t.trim().replace(/\s+/g," ")}function P(t){return new RegExp("(?:^|\\s+)"+to.requote(t)+"(?:\\s+|$)","g")}function E(t){return(t+"").trim().split(/^|\s+/)}function O(t,e){var n=(t=E(t).map(D)).length;return"function"==typeof e?function(){for(var i=-1,r=e.apply(this,arguments);++i<n;)t[i](this,r)}:function(){for(var i=-1;++i<n;)t[i](this,e)}}function D(t){var e=P(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",T(r+" "+t))):n.setAttribute("class",T(r.replace(e," ")))}}function L(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}:function(){this.style.setProperty(t,e,n)}}function R(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function z(t){return"function"==typeof t?t:(t=to.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===bo&&e.documentElement.namespaceURI===bo?e.createElement(t):e.createElementNS(n,t)}}function I(){var t=this.parentNode;t&&t.removeChild(this)}function q(t){return{__data__:t}}function N(t){return function(){return _o(this,t)}}function j(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function B(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],a=0,s=o.length;s>a;a++)(r=o[a])&&e(r,a,n);return t}function H(t){return mo(t,Co),t}function V(t,e,n){function i(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}var r="__on"+t,o=t.indexOf("."),a=G;o>0&&(t=t.slice(0,o));var s=ko.get(t);return s&&(t=s,a=U),o?e?function(){var o=a(e,no(arguments));i.call(this),this.addEventListener(t,this[r]=o,o.$=n),o._=e}:i:e?x:function(){var e,n=new RegExp("^__on([^.]+)"+to.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}}function G(t,e){return function(n){var i=to.event;to.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{to.event=i}}}function U(t,e){var n=G(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function J(n){var i=".dragsuppress-"+ ++Mo,r="click"+i,o=to.select(e(n)).on("touchmove"+i,C).on("dragstart"+i,C).on("selectstart"+i,C);if(null==So&&(So=!("onselectstart"in n)&&_(n.style,"userSelect")),So){var a=t(n).style,s=a[So];a[So]="none"}return function(t){if(o.on(i,null),So&&(a[So]=s),t){var e=function(){o.on(r,null)};o.on(r,function(){C(),e()},!0),setTimeout(e,0)}}}function W(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Fo){var o=e(t);if(o.scrollX||o.scrollY){var a=(i=to.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Fo=!(a.f||a.e),i.remove()}}return Fo?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function Y(){return to.event.changedTouches[0].identifier}function K(t){return t>0?1:0>t?-1:0}function X(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Q(t){return t>1?0:-1>t?To:Math.acos(t)}function Z(t){return t>1?Oo:-1>t?-Oo:Math.asin(t)}function tt(t){return((t=Math.exp(t))+1/t)/2}function et(t){return(t=Math.sin(t/2))*t}function nt(){}function it(t,e,n){return this instanceof it?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof it?new it(t.h,t.s,t.l):vt(""+t,yt,it):new it(t,e,n)}function rt(t,e,n){function i(t){return Math.round(255*function(t){return t>360?t-=360:0>t&&(t+=360),60>t?r+(o-r)*t/60:180>t?o:240>t?r+(o-r)*(240-t)/60:r}(t))}var r,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,r=2*(n=0>n?0:n>1?1:n)-(o=.5>=n?n*(1+e):n+e-n*e),new pt(i(t+120),i(t),i(t-120))}function ot(t,e,n){return this instanceof ot?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ot?new ot(t.h,t.c,t.l):ut(t instanceof st?t.l:(t=_t((t=to.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ot(t,e,n)}function at(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new st(n,Math.cos(t*=Do)*e,Math.sin(t)*e)}function st(t,e,n){return this instanceof st?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof st?new st(t.l,t.a,t.b):t instanceof ot?at(t.h,t.c,t.l):_t((t=pt(t)).r,t.g,t.b):new st(t,e,n)}function lt(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new pt(ht(3.2404542*(r=ct(r)*Ho)-1.5371385*(i=ct(i)*Vo)-.4985314*(o=ct(o)*Go)),ht(-.969266*r+1.8760108*i+.041556*o),ht(.0556434*r-.2040259*i+1.0572252*o))}function ut(t,e,n){return t>0?new ot(Math.atan2(n,e)*Lo,Math.sqrt(e*e+n*n),t):new ot(NaN,NaN,t)}function ct(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function dt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ht(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function pt(t,e,n){return this instanceof pt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof pt?new pt(t.r,t.g,t.b):vt(""+t,pt,rt):new pt(t,e,n)}function ft(t){return new pt(t>>16,t>>8&255,255&t)}function gt(t){return ft(t)+""}function mt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function vt(t,e,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(bt(r[0]),bt(r[1]),bt(r[2]))}return(o=Wo.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function yt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(r=.5>l?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=l>0&&1>l?0:i),new it(i,r,l)}function _t(t,e,n){var i=dt((.4124564*(t=xt(t))+.3575761*(e=xt(e))+.1804375*(n=xt(n)))/Ho),r=dt((.2126729*t+.7151522*e+.072175*n)/Vo);return st(116*r-16,500*(i-r),200*(r-dt((.0193339*t+.119192*e+.9503041*n)/Go)))}function xt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function bt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function wt(t){return"function"==typeof t?t:function(){return t}}function Ct(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),kt(e,n,t,i)}}function kt(t,e,n,i){function r(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=to.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=to.event;to.event=t;try{a.progress.call(o,l)}finally{to.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(no(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(o,l),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},to.rebind(o,a,"on"),null==i?o:o.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(i))}function St(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r={c:t,t:n+e,n:null};return Ko?Ko.n=r:Yo=r,Ko=r,Xo||(Qo=clearTimeout(Qo),Xo=1,Zo(Mt)),r}function Mt(){var t=Ft(),e=At()-t;e>24?(isFinite(e)&&(clearTimeout(Qo),Qo=setTimeout(Mt,e)),Xo=0):(Xo=1,Zo(Mt))}function Ft(){for(var t=Date.now(),e=Yo;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function At(){for(var t,e=Yo,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Yo=e.n;return Ko=t,n}function $t(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Tt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],a=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>e));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:v;return function(t){var n=ea.exec(t),i=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],h=n[8],p=n[9],f=1,g="",m="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(u||"0"===i&&"="===a)&&(u=i="0",a="="),p){case"n":d=!0,p="g";break;case"%":f=100,m="%",p="f";break;case"p":f=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":f=-1,p="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=na.get(p)||Pt;var _=u&&d;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>f){var l=to.formatPrefix(t,h);t=l.scale(t),n=l.symbol+m}else t*=f;var x,b,w=(t=p(t,h)).lastIndexOf(".");if(0>w){var C=y?t.lastIndexOf("e"):-1;0>C?(x=t,b=""):(x=t.substring(0,C),b=t.substring(C))}else x=t.substring(0,w),b=e+t.substring(w+1);!u&&d&&(x=o(x,1/0));var k=g.length+x.length+b.length+(_?0:r.length),S=c>k?new Array(k=c-k+1).join(i):"";return _&&(x=o(S+x,S.length?c-b.length:1/0)),r+=g,t=x+b,("<"===a?r+t+S:">"===a?S+r+t:"^"===a?S.substring(0,k>>=1)+r+t+S.substring(k):r+(_?t:S+t))+n}}}function Pt(t){return t+""}function Et(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ot(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ra(n-1)),1),n}function o(t,n){return e(t=new ra(+t),n),t}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;i>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;i>a;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=a;var s=t.utc=Dt(t);return s.floor=s,s.round=Dt(i),s.ceil=Dt(r),s.offset=Dt(o),s.range=function(t,e,n){try{ra=Et;var i=new Et;return i._=t,a(i,e,n)}finally{ra=Date}},t}function Dt(t){return function(e,n){try{ra=Et;var i=new Et;return i._=e,t(i,n)._}finally{ra=Date}}}function Lt(t){function e(t){function e(e){for(var n,r,o,a=[],s=-1,l=0;++s<i;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(r=aa[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=x[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(i,t,e,0)!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var r=null!=i.Z&&ra!==Et,o=new(r?Et:ra);return"j"in i?o.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),r?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,a,s=0,l=e.length,u=n.length;l>s;){if(i>=u)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=b[a in aa?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}var i=t.dateTime,r=t.date,o=t.time,a=t.periods,s=t.days,l=t.shortDays,u=t.months,c=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(ra=Et);return e._=t,i(e)}finally{ra=Date}}var i=e(t);return n.parse=function(t){try{ra=Et;var e=i.parse(t);return e&&e._}finally{ra=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=te;var d=to.map(),h=zt(s),p=It(s),f=zt(l),g=It(l),m=zt(u),v=It(u),y=zt(c),_=It(c);a.forEach(function(t,e){d.set(t.toLowerCase(),e)});var x={a:function(t){return l[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:e(i),d:function(t,e){return Rt(t.getDate(),e,2)},e:function(t,e){return Rt(t.getDate(),e,2)},H:function(t,e){return Rt(t.getHours(),e,2)},I:function(t,e){return Rt(t.getHours()%12||12,e,2)},j:function(t,e){return Rt(1+ia.dayOfYear(t),e,3)},L:function(t,e){return Rt(t.getMilliseconds(),e,3)},m:function(t,e){return Rt(t.getMonth()+1,e,2)},M:function(t,e){return Rt(t.getMinutes(),e,2)},p:function(t){return a[+(t.getHours()>=12)]},S:function(t,e){return Rt(t.getSeconds(),e,2)},U:function(t,e){return Rt(ia.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Rt(ia.mondayOfYear(t),e,2)},x:e(r),X:e(o),y:function(t,e){return Rt(t.getFullYear()%100,e,2)},Y:function(t,e){return Rt(t.getFullYear()%1e4,e,4)},Z:Qt,"%":function(){return"%"}},b={a:function(t,e,n){f.lastIndex=0;var i=f.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){h.lastIndex=0;var i=h.exec(e.slice(n));return i?(t.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){y.lastIndex=0;var i=y.exec(e.slice(n));return i?(t.m=_.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){m.lastIndex=0;var i=m.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,i){return n(t,x.c.toString(),e,i)},d:Ut,e:Ut,H:Wt,I:Wt,j:Jt,L:Xt,m:Gt,M:Yt,p:function(t,e,n){var i=d.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:Kt,U:Nt,w:qt,W:jt,x:function(t,e,i){return n(t,x.x.toString(),e,i)},X:function(t,e,i){return n(t,x.X.toString(),e,i)},y:Ht,Y:Bt,Z:Vt,"%":Zt};return e}function Rt(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function zt(t){return new RegExp("^(?:"+t.map(to.requote).join("|")+")","i")}function It(t){for(var e=new l,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function qt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Nt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function jt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Bt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ht(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.y=function(t){return t+(t>68?1900:2e3)}(+i[0]),n+i[0].length):-1}function Vt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Gt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Ut(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Jt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Wt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Yt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Kt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Xt(t,e,n){sa.lastIndex=0;var i=sa.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Qt(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=co(e)/60|0,r=co(e)%60;return n+Rt(i,"0",2)+Rt(r,"0",2)}function Zt(t,e,n){la.lastIndex=0;var i=la.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function te(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ee(){}function ne(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function ie(t,e){t&&ha.hasOwnProperty(t.type)&&ha[t.type](t,e)}function re(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function oe(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)re(t[n],e,1);e.polygonEnd()}function ae(){function t(t,e){e=e*Do/2+To/4;var n=(t*=Do)-i,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=o*u,d=r*l+c*Math.cos(s),h=c*a*Math.sin(s);fa.add(Math.atan2(h,d)),i=t,r=l,o=u}var e,n,i,r,o;ga.point=function(a,s){ga.point=t,i=(e=a)*Do,r=Math.cos(s=(n=s)*Do/2+To/4),o=Math.sin(s)},ga.lineEnd=function(){t(e,n)}}function se(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function le(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ue(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ce(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function de(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function he(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function pe(t){return[Math.atan2(t[1],t[0]),Z(t[2])]}function fe(t,e){return co(t[0]-e[0])<Ao&&co(t[1]-e[1])<Ao}function ge(t,e){t*=Do;var n=Math.cos(e*=Do);me(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function me(t,e,n){ya+=(t-ya)/++ma,_a+=(e-_a)/ma,xa+=(n-xa)/ma}function ve(){function t(t,r){t*=Do;var o=Math.cos(r*=Do),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*s)*u+(u=i*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+i*l);va+=u,ba+=u*(e+(e=a)),wa+=u*(n+(n=s)),Ca+=u*(i+(i=l)),me(e,n,i)}var e,n,i;Fa.point=function(r,o){r*=Do;var a=Math.cos(o*=Do);e=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),Fa.point=t,me(e,n,i)}}function ye(){Fa.point=ge}function _e(){function t(t,e){t*=Do;var n=Math.cos(e*=Do),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=r*l-o*s,c=o*a-i*l,d=i*s-r*a,h=Math.sqrt(u*u+c*c+d*d),p=i*a+r*s+o*l,f=h&&-Q(p)/h,g=Math.atan2(h,p);ka+=f*u,Sa+=f*c,Ma+=f*d,va+=g,ba+=g*(i+(i=a)),wa+=g*(r+(r=s)),Ca+=g*(o+(o=l)),me(i,r,o)}var e,n,i,r,o;Fa.point=function(a,s){e=a,n=s,Fa.point=t,a*=Do;var l=Math.cos(s*=Do);i=l*Math.cos(a),r=l*Math.sin(a),o=Math.sin(s),me(i,r,o)},Fa.lineEnd=function(){t(e,n),Fa.lineEnd=ye,Fa.point=ge}}function xe(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function be(){return!0}function we(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(fe(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var l=new ke(n,t,null,!0),u=new ke(n,null,l,!1);l.o=u,o.push(l),a.push(u),l=new ke(i,t,null,!1),u=new ke(i,null,l,!0),l.o=u,o.push(l),a.push(u)}}),a.sort(e),Ce(o),Ce(a),o.length){for(var s=0,l=n,u=a.length;u>s;++s)a[s].e=l=!l;for(var c,d,h=o[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;c=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(s=0,u=c.length;u>s;++s)r.point((d=c[s])[0],d[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(f)for(s=(c=p.p.z).length-1;s>=0;--s)r.point((d=c[s])[0],d[1]);else i(p.x,p.p.x,-1,r);p=p.p}c=(p=p.o).z,f=!f}while(!p.v);r.lineEnd()}}}function Ce(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function ke(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Se(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);x.point(n[0],n[1])}function d(){x.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=_.buffer(),i=n.length;if(g.pop(),f.push(g),g=null,i)if(1&e){var r,a=-1;if((i=(t=n[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Me))}var p,f,g,m=e(o),v=r.invert(i[0],i[1]),y={point:a,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=d,y.lineEnd=h,p=[],f=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=u,p=to.merge(p);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;fa.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],h=d[0],p=d[1]/2+To/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],y=t[1]/2+To/4,_=Math.sin(y),x=Math.cos(y),b=v-h,w=b>=0?1:-1,C=w*b,k=C>To,S=f*_;if(fa.add(Math.atan2(S*w*Math.sin(C),g*x+S*Math.cos(C))),o+=k?b+w*Po:b,k^h>=n^v>=n){var M=ue(se(d),se(t));he(M);var F=ue(r,M);he(F);var A=(k^b>=0?-1:1)*Z(F[2]);(i>A||i===A&&(M[0]||M[1]))&&(a+=k^b>=0?1:-1)}if(!m++)break;h=v,f=_,g=x,d=t}}return(-Ao>o||Ao>o&&-Ao>fa)^1&a}(v,f);p.length?(b||(o.polygonStart(),b=!0),we(p,Ae,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),p=f=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},_=Fe(),x=e(_),b=!1;return y}}function Me(t){return t.length>1}function Fe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ae(t,e){return((t=t.x)[0]<0?t[1]-Oo-Ao:Oo-t[1])-((e=e.x)[0]<0?e[1]-Oo-Ao:Oo-e[1])}function $e(t,e,n,i){return function(r){var o,a=r.a,s=r.b,l=a.x,u=a.y,c=0,d=1,h=s.x-l,p=s.y-u;if(o=t-l,h||!(o>0)){if(o/=h,0>h){if(c>o)return;d>o&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=n-l,h||!(0>o)){if(o/=h,0>h){if(o>d)return;o>c&&(c=o)}else if(h>0){if(c>o)return;d>o&&(d=o)}if(o=e-u,p||!(o>0)){if(o/=p,0>p){if(c>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>c&&(c=o)}if(o=i-u,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>c&&(c=o)}else if(p>0){if(c>o)return;d>o&&(d=o)}return c>0&&(r.a={x:l+c*h,y:u+c*p}),1>d&&(r.b={x:l+d*h,y:u+d*p}),r}}}}}}function Te(t,e,n,i){function r(i,r){return co(i[0]-t)<Ao?r>0?0:3:co(i[0]-n)<Ao?r>0?2:1:co(i[1]-e)<Ao?r>0?1:0:r>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(o,s,l,u){var c=0,d=0;if(null==o||(c=r(o,l))!==(d=r(s,l))||a(o,s)<0^l>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+l+4)%4)!==d);else u.point(s[0],s[1])}function u(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function c(t,e){u(t,e)&&s.point(t,e)}function d(t,e){var n=u(t=Math.max(-$a,Math.min($a,t)),e=Math.max(-$a,Math.min($a,e)));if(p&&f.push([t,e]),b)g=t,m=e,v=n,b=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&x)s.point(t,e);else{var i={a:{x:y,y:_},b:{x:t,y:e}};S(i)?(x||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),w=!1):n&&(s.lineStart(),s.point(t,e),w=!1)}y=t,_=e,x=n}var h,p,f,g,m,v,y,_,x,b,w,C=s,k=Fe(),S=$e(t,e,n,i),M={point:c,lineStart:function(){M.point=d,p&&p.push(f=[]),b=!0,x=!1,y=_=NaN},lineEnd:function(){h&&(d(g,m),v&&x&&k.rejoin(),h.push(k.buffer())),M.point=c,x&&s.lineEnd()},polygonStart:function(){s=k,h=[],p=[],w=!0},polygonEnd:function(){s=C,h=to.merge(h);var e=function(t){for(var e=0,n=p.length,i=t[1],r=0;n>r;++r)for(var o,a=1,s=p[r],l=s.length,u=s[0];l>a;++a)o=s[a],u[1]<=i?o[1]>i&&X(u,o,t)>0&&++e:o[1]<=i&&X(u,o,t)<0&&--e,u=o;return 0!==e}([t,i]),n=w&&e,r=h.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&we(h,o,e,l,s),s.polygonEnd()),h=p=f=null}};return M}}function Pe(t){var e=0,n=To/3,i=Ge(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*To/180,n=t[1]*To/180):[e/To*180,n/To*180]},r}function Ee(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,Z((o-(t*t+n*n)*r*r)/(2*r))]},n}function Oe(){function t(t,e){Pa+=r*t-i*e,i=t,r=e}var e,n,i,r;Ra.point=function(o,a){Ra.point=t,e=i=o,n=r=a},Ra.lineEnd=function(){t(e,n)}}function De(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=Le(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=Le(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Le(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Re(t,e){ya+=t,_a+=e,++xa}function ze(){function t(t,i){var r=t-e,o=i-n,a=Math.sqrt(r*r+o*o);ba+=a*(e+t)/2,wa+=a*(n+i)/2,Ca+=a,Re(e=t,n=i)}var e,n;Ia.point=function(i,r){Ia.point=t,Re(e=i,n=r)}}function Ie(){Ia.point=Re}function qe(){function t(t,e){var n=t-i,o=e-r,a=Math.sqrt(n*n+o*o);ba+=a*(i+t)/2,wa+=a*(r+e)/2,Ca+=a,ka+=(a=r*t-i*e)*(i+t),Sa+=a*(r+e),Ma+=3*a,Re(i=t,r=e)}var e,n,i,r;Ia.point=function(o,a){Ia.point=t,Re(e=i=o,n=r=a)},Ia.lineEnd=function(){t(e,n)}}function Ne(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Po)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:x};return s}function je(t){function e(t){return(s?i:n)(t)}function n(e){return He(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){y=NaN,C.point=o,e.lineStart()}function o(n,i){var o=se([n,i]),a=t(n,i);r(y,_,v,x,b,w,y=a[0],_=a[1],v=n,x=o[0],b=o[1],w=o[2],s,e),e.point(y,_)}function a(){C.point=n,e.lineEnd()}function l(){i(),C.point=u,C.lineEnd=c}function u(t,e){o(d=t,e),h=y,p=_,f=x,g=b,m=w,C.point=o}function c(){r(y,_,v,x,b,w,h,p,d,f,g,m,s,e),C.lineEnd=a,a()}var d,h,p,f,g,m,v,y,_,x,b,w,C={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),C.lineStart=l},polygonEnd:function(){e.polygonEnd(),C.lineStart=i}};return C}function r(e,n,i,s,l,u,c,d,h,p,f,g,m,v){var y=c-e,_=d-n,x=y*y+_*_;if(x>4*o&&m--){var b=s+p,w=l+f,C=u+g,k=Math.sqrt(b*b+w*w+C*C),S=Math.asin(C/=k),M=co(co(C)-1)<Ao||co(i-h)<Ao?(i+h)/2:Math.atan2(w,b),F=t(M,S),A=F[0],$=F[1],T=A-e,P=$-n,E=_*T-y*P;(E*E/x>o||co((y*T+_*P)/x-.5)>.3||a>s*p+l*f+u*g)&&(r(e,n,i,s,l,u,A,$,M,b/=k,w/=k,C,m,v),v.point(A,$),r(A,$,M,b,w,C,c,d,h,p,f,g,m,v))}}var o=.5,a=Math.cos(30*Do),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function Be(t){this.stream=t}function He(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ve(t){return Ge(function(){return t})()}function Ge(t){function e(t){return[(t=s(t[0]*Do,t[1]*Do))[0]*h+l,u-t[1]*h]}function n(t){return(t=s.invert((t[0]-l)/h,(u-t[1])/h))&&[t[0]*Lo,t[1]*Lo]}function i(){s=xe(a=Ye(y,_,x),o);var t=o(g,m);return l=p-t[0]*h,u=f+t[1]*h,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,l,u,c,d=je(function(t,e){return[(t=o(t,e))[0]*h+l,u-t[1]*h]}),h=150,p=480,f=250,g=0,m=0,y=0,_=0,x=0,b=Aa,w=v,C=null,k=null;return e.stream=function(t){return c&&(c.valid=!1),(c=Ue(b(a,d(w(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(C=t,Aa):function(t){function e(t,e){return Math.cos(t)*Math.cos(e)>r}function n(t,e,n){var i=[1,0,0],o=ue(se(t),se(e)),a=le(o,o),s=o[0],l=a-s*s;if(!l)return!n&&t;var u=r*a/l,c=-r*s/l,d=ue(i,o),h=de(i,u);ce(h,de(o,c));var p=d,f=le(h,p),g=le(p,p),m=f*f-g*(le(h,h)-1);if(!(0>m)){var v=Math.sqrt(m),y=de(p,(-f-v)/g);if(ce(y,h),y=pe(y),!n)return y;var _,x=t[0],b=e[0],w=t[1],C=e[1];x>b&&(_=x,x=b,b=_);var k=b-x,S=co(k-To)<Ao;if(!S&&w>C&&(_=w,w=C,C=_),S||Ao>k?S?w+C>0^y[1]<(co(y[0]-x)<Ao?w:C):w<=y[1]&&y[1]<=C:k>To^(x<=y[0]&&y[0]<=b)){var M=de(p,(-f+v)/g);return ce(M,h),[y,pe(M)]}}}function i(e,n){var i=o?t:To-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var r=Math.cos(t),o=r>0,a=co(r)>Ao;return Se(e,function(t){var r,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var p,f=[d,h],g=e(d,h),m=o?g?0:i(d,h):g?i(d+(0>d?To:-To),h):0;if(!r&&(u=l=g)&&t.lineStart(),g!==l&&(p=n(r,f),(fe(r,p)||fe(f,p))&&(f[0]+=Ao,f[1]+=Ao,g=e(f[0],f[1]))),g!==l)c=0,g?(t.lineStart(),p=n(f,r),t.point(p[0],p[1])):(p=n(r,f),t.point(p[0],p[1]),t.lineEnd()),r=p;else if(a&&r&&o^g){var v;m&s||!(v=n(f,r,!0))||(c=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||r&&fe(r,f)||t.point(f[0],f[1]),r=f,l=g,s=m},lineEnd:function(){l&&t.lineEnd(),r=null},clean:function(){return c|(u&&l)<<1}}},Ze(t,6*Do),o?[0,-t]:[-To,t-To])}((C=+t)*Do),r()):C},e.clipExtent=function(t){return arguments.length?(k=t,w=t?Te(t[0][0],t[0][1],t[1][0],t[1][1]):v,r()):k},e.scale=function(t){return arguments.length?(h=+t,i()):h},e.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],i()):[p,f]},e.center=function(t){return arguments.length?(g=t[0]%360*Do,m=t[1]%360*Do,i()):[g*Lo,m*Lo]},e.rotate=function(t){return arguments.length?(y=t[0]%360*Do,_=t[1]%360*Do,x=t.length>2?t[2]%360*Do:0,i()):[y*Lo,_*Lo,x*Lo]},to.rebind(e,d,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function Ue(t){return He(t,function(e,n){t.point(e*Do,n*Do)})}function Je(t,e){return[t,e]}function We(t,e){return[t>To?t-Po:-To>t?t+Po:t,e]}function Ye(t,e,n){return t?e||n?xe(Xe(t),Qe(e,n)):Xe(t):e||n?Qe(e,n):We}function Ke(t){return function(e,n){return[(e+=t)>To?e-Po:-To>e?e+Po:e,n]}}function Xe(t){var e=Ke(t);return e.invert=Ke(-t),e}function Qe(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+s*r;return[Math.atan2(l*o-c*a,s*i-u*r),Z(c*o+l*a)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*i+c*r),Z(c*i-s*r)]},n}function Ze(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var l=a*e;null!=r?(r=tn(n,r),o=tn(n,o),(a>0?o>r:r>o)&&(r+=a*Po)):(r=t+a*Po,o=t-.5*l);for(var u,c=r;a>0?c>o:o>c;c-=l)s.point((u=pe([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function tn(t,e){var n=se(e);n[0]-=t,he(n);var i=Q(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ao)%(2*Math.PI)}function en(t,e,n){var i=to.range(t,e-Ao,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function nn(t,e,n){var i=to.range(t,e-Ao,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function rn(t){return t.source}function on(t){return t.target}function an(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}function sn(t,e){function n(t,e){a>0?-Oo+Ao>e&&(e=-Oo+Ao):e>Oo-Ao&&(e=Oo-Ao);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(To/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=K(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-Oo]},n):un}function ln(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return co(r)<Ao?Je:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-K(r)*Math.sqrt(t*t+n*n)]},n)}function un(t,e){return[t,Math.log(Math.tan(To/4+e/2))]}function cn(t){var e,n=Ve(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=To*i(),l=r();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function dn(t,e){return[Math.log(Math.tan(To/4+e/2)),-t]}function hn(t){return t[0]}function pn(t){return t[1]}function fn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&X(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function gn(t,e){return t[0]-e[0]||t[1]-e[1]}function mn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function vn(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,l=t[1],u=n[1],c=e[1]-l,d=i[1]-u,h=(s*(l-u)-d*(r-o))/(d*a-s*c);return[r+h*a,l+h*c]}function yn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function _n(){In(this),this.edge=this.site=this.circle=null}function xn(t){var e=Qa.pop()||new _n;return e.site=t,e}function bn(t){Tn(t),Ya.remove(t),Qa.push(t),In(t)}function wn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];bn(t);for(var l=o;l.circle&&co(n-l.circle.x)<Ao&&co(i-l.circle.cy)<Ao;)o=l.P,s.unshift(l),bn(l),l=o;s.unshift(l),Tn(l);for(var u=a;u.circle&&co(n-u.circle.x)<Ao&&co(i-u.circle.cy)<Ao;)a=u.N,s.push(u),bn(u),u=a;s.push(u),Tn(u);var c,d=s.length;for(c=1;d>c;++c)u=s[c],l=s[c-1],Ln(u.edge,l.site,u.site,r);l=s[0],(u=s[d-1]).edge=On(l.site,u.site,null,r),$n(l),$n(u)}function Cn(t){for(var e,n,i,r,o=t.x,a=t.y,s=Ya._;s;)if((i=kn(s,a)-o)>Ao)s=s.L;else{if(!((r=o-Sn(s,a))>Ao)){i>-Ao?(e=s.P,n=s):r>-Ao?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=xn(t);if(Ya.insert(e,l),e||n){if(e===n)return Tn(e),n=xn(e.site),Ya.insert(l,n),l.edge=n.edge=On(e.site,l.site),$n(e),void $n(n);if(!n)return void(l.edge=On(e.site,l.site));Tn(e),Tn(n);var u=e.site,c=u.x,d=u.y,h=t.x-c,p=t.y-d,f=n.site,g=f.x-c,m=f.y-d,v=2*(h*m-p*g),y=h*h+p*p,_=g*g+m*m,x={x:(m*y-p*_)/v+c,y:(h*_-g*y)/v+d};Ln(n.edge,u,f,x),l.edge=On(u,t,null,x),n.edge=On(t,f,null,x),$n(e),$n(n)}}function kn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-i,d=1/o-1/u,h=c/u;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*u)-l+u/2+r-o/2)))/d+i:(i+s)/2}function Sn(t,e){var n=t.N;if(n)return kn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Mn(t){this.site=t,this.edges=[]}function Fn(t,e){return e.angle-t.angle}function An(){In(this),this.x=this.y=this.arc=this.site=this.cy=null}function $n(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,u=i.y-s,c=o.x-a,d=2*(l*(m=o.y-s)-u*c);if(!(d>=-$o)){var h=l*l+u*u,p=c*c+m*m,f=(m*h-u*p)/d,g=(l*p-c*h)/d,m=g+s,v=Za.pop()||new An;v.arc=t,v.site=r,v.x=f+a,v.y=m+Math.sqrt(f*f+g*g),v.cy=m,t.circle=v;for(var y=null,_=Xa._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Xa.insert(y,v),y||(Ka=v)}}}}function Tn(t){var e=t.circle;e&&(e.P||(Ka=e.N),Xa.remove(e),Za.push(e),In(e),t.circle=null)}function Pn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,h=c.x,p=c.y,f=d.x,g=d.y,m=(h+f)/2,v=(p+g)/2;if(g===p){if(a>m||m>=s)return;if(h>f){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(r=v-(i=(h-f)/(g-p))*m,-1>i||i>1)if(h>f){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(g>p){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function En(t,e){this.l=t,this.r=e,this.a=this.b=null}function On(t,e,n,i){var r=new En(t,e);return Ja.push(r),n&&Ln(r,t,e,n),i&&Ln(r,e,t,i),Wa[t.i].edges.push(new Rn(r,t,e)),Wa[e.i].edges.push(new Rn(r,e,t)),r}function Dn(t,e,n){var i=new En(t,null);return i.a=e,i.b=n,Ja.push(i),i}function Ln(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Rn(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function zn(){this._=null}function In(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function qn(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Nn(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function jn(t){for(;t.L;)t=t.L;return t}function Bn(t,e){var n,i,r,o=t.sort(Hn).pop();for(Ja=[],Wa=new Array(t.length),Ya=new zn,Xa=new zn;;)if(r=Ka,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(Wa[o.i]=new Mn(o),Cn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;wn(r.arc)}e&&(function(t){for(var e,n=Ja,i=$e(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Pn(e=n[r],t)||!i(e)||co(e.a.x-e.b.x)<Ao&&co(e.a.y-e.b.y)<Ao)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,o,a,s,l,u,c,d=t[0][0],h=t[1][0],p=t[0][1],f=t[1][1],g=Wa,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;l>a;)i=(c=s[a].end()).x,r=c.y,e=(u=s[++a%l].start()).x,n=u.y,(co(i-e)>Ao||co(r-n)>Ao)&&(s.splice(a,0,new Rn(Dn(o.site,c,co(i-d)<Ao&&f-r>Ao?{x:d,y:co(e-d)<Ao?n:f}:co(r-f)<Ao&&h-i>Ao?{x:co(n-f)<Ao?e:h,y:f}:co(i-h)<Ao&&r-p>Ao?{x:h,y:co(e-h)<Ao?n:p}:co(r-p)<Ao&&i-d>Ao?{x:co(n-p)<Ao?e:d,y:p}:null),o.site,null)),++l)}(e));var a={cells:Wa,edges:Ja};return Ya=Xa=Ja=Wa=null,a}function Hn(t,e){return e.y-t.y||e.x-t.x}function Vn(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Gn(t){return t.x}function Un(t){return t.y}function Jn(t,e){t=to.rgb(t),e=to.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+mt(Math.round(n+o*t))+mt(Math.round(i+a*t))+mt(Math.round(r+s*t))}}function Wn(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Xn(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function Yn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kn(t,e){var n,i,r,o=es.lastIndex=ns.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=es.exec(t))&&(i=ns.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Yn(n,i)})),o=ns.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function Xn(t,e){for(var n,i=to.interpolators.length;--i>=0&&!(n=to.interpolators[i](t,e)););return n}function Qn(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(Xn(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;a>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function Zn(t){return function(e){return 1-t(1-e)}}function ti(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function ei(t){return t*t}function ni(t){return t*t*t}function ii(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function ri(t){return 1-Math.cos(t*Oo)}function oi(t){return Math.pow(2,10*(t-1))}function ai(t){return 1-Math.sqrt(1-t*t)}function si(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function li(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function ui(t){var e=[t.a,t.b],n=[t.c,t.d],i=di(e),r=ci(e,n),o=di(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Lo,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Lo:0}function ci(t,e){return t[0]*e[0]+t[1]*e[1]}function di(t){var e=Math.sqrt(ci(t,t));return e&&(t[0]/=e,t[1]/=e),e}function hi(t){return t.length?t.pop()+",":""}function pi(t,e){var n=[],i=[];return t=to.transform(t),e=to.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Yn(t[0],e[0])},{i:r-2,x:Yn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,i),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(hi(n)+"rotate(",null,")")-2,x:Yn(t,e)})):e&&n.push(hi(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,i),function(t,e,n,i){t!==e?i.push({i:n.push(hi(n)+"skewX(",null,")")-2,x:Yn(t,e)}):e&&n.push(hi(n)+"skewX("+e+")")}(t.skew,e.skew,n,i),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(hi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Yn(t[0],e[0])},{i:r-2,x:Yn(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(hi(n)+"scale("+e+")")}(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function fi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function gi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function mi(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;for(var n=vi(t),i=vi(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function vi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function yi(t){t.fixed|=2}function _i(t){t.fixed&=-7}function xi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function bi(t){t.fixed&=-5}function wi(t,e){return to.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Ai,t}function Ci(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function ki(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function Si(t){return t.children}function Mi(t){return t.value}function Fi(t,e){return e.value-t.value}function Ai(t){return to.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function $i(t){return t.x}function Ti(t){return t.y}function Pi(t,e,n){t.y0=e,t.y=n}function Ei(t){return to.range(t.length)}function Oi(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Di(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Li(t){return t.reduce(Ri,0)}function Ri(t,e){return t+e[1]}function zi(t,e){return Ii(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Ii(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function qi(t){return[to.min(t),to.max(t)]}function Ni(t,e){return t.value-e.value}function ji(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Bi(t,e){t._pack_next=e,e._pack_prev=t}function Hi(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Vi(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(u=n.length)){var n,i,r,o,a,s,l,u,c=1/0,d=-1/0,h=1/0,p=-1/0;if(n.forEach(Gi),(i=n[0]).x=-i.r,i.y=0,e(i),u>1&&((r=n[1]).x=r.r,r.y=0,e(r),u>2))for(Ji(i,r,o=n[2]),e(o),ji(i,o),i._pack_prev=o,ji(o,r),r=i._pack_next,a=3;u>a;a++){Ji(i,r,o=n[a]);var f=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Hi(s,o)){f=1;break}if(1==f)for(l=i._pack_prev;l!==s._pack_prev&&!Hi(l,o);l=l._pack_prev,m++);f?(m>g||g==m&&r.r<i.r?Bi(i,r=s):Bi(i=l,r),a--):(ji(i,o),r=o,e(o))}var v=(c+d)/2,y=(h+p)/2,_=0;for(a=0;u>a;a++)(o=n[a]).x-=v,o.y-=y,_=Math.max(_,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=_,n.forEach(Ui)}}function Gi(t){t._pack_next=t._pack_prev=t}function Ui(t){delete t._pack_next,delete t._pack_prev}function Ji(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,l=.5+((i*=i)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function Wi(t,e){return t.parent==e.parent?1:2}function Yi(t){var e=t.children;return e.length?e[0]:t.t}function Ki(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Xi(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Qi(t,e,n){return t.a.parent===e.parent?t.a:n}function Zi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function tr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function er(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function nr(t){return t.rangeExtent?t.rangeExtent():er(t.range())}function ir(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function rr(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return o>a&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function or(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ps}function ar(t,e,n,i){var r=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(n(t[a-1],t[a])),o.push(i(e[a-1],e[a]));return function(e){var n=to.bisect(t,e,1,s)-1;return o[n](r[n](e))}}function sr(t,e){return to.rebind(t,e,"range","rangeRound","interpolate","clamp")}function lr(t,e){return rr(t,or(ur(t,e)[2])),rr(t,or(ur(t,e)[2])),t}function ur(t,e){null==e&&(e=10);var n=er(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function cr(t,e){return to.range.apply(to,ur(t,e))}function dr(t,e,n){var i=ur(t,e);if(n){var r=ea.exec(n);if(r.shift(),"s"===r[8]){var o=to.formatPrefix(Math.max(co(i[0]),co(i[1])));return r[7]||(r[7]="."+hr(o.scale(i[2]))),r[8]="f",n=to.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+function(t,e){var n=hr(e[2]);return t in fs?Math.abs(n-hr(Math.max(co(e[0]),co(e[1]))))+ +("e"!==t):n-2*("%"===t)}(r[8],i)),n=r.join("")}else n=",."+hr(i[2])+"f";return to.format(n)}function hr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function pr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function fr(){return 0}function gr(t){return t.innerRadius}function mr(t){return t.outerRadius}function vr(t){return t.startAngle}function yr(t){return t.endAngle}function _r(t){return t&&t.padAngle}function xr(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function br(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,d=t[1]+u,h=e[0]+l,p=e[1]+u,f=(c+h)/2,g=(d+p)/2,m=h-c,v=p-d,y=m*m+v*v,_=n-i,x=c*p-h*d,b=(0>v?-1:1)*Math.sqrt(Math.max(0,_*_*y-x*x)),w=(x*v-m*b)/y,C=(-x*m-v*b)/y,k=(x*v+m*b)/y,S=(-x*m+v*b)/y,M=w-f,F=C-g,A=k-f,$=S-g;return M*M+F*F>A*A+$*$&&(w=k,C=S),[[w-l,C-u],[w*n/_,C*n/_]]}function wr(t){function e(e){function a(){u.push("M",o(t(c),s))}for(var l,u=[],c=[],d=-1,h=e.length,p=wt(n),f=wt(i);++d<h;)r.call(this,l=e[d],d)?c.push([+p.call(this,l,d),+f.call(this,l,d)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=hn,i=pn,r=be,o=Cr,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=ws.get(t)||Cr).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Cr(t){return t.length>1?t.join("L"):t+"Z"}function kr(t){return t.join("L")+"Z"}function Sr(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Mr(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Fr(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Cr(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Ar(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function $r(t){if(t.length<3)return Cr(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",Tr(Ss,a),",",Tr(Ss,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Pr(l,a,s);return t.pop(),l.push("L",i),l.join("")}function Tr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Pr(t,e,n){t.push("C",Tr(Cs,e),",",Tr(Cs,n),",",Tr(ks,e),",",Tr(ks,n),",",Tr(Ss,e),",",Tr(Ss,n))}function Er(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Or(t){for(var e,n,i,r,o=[],a=function(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Er(r,o);++e<n;)i[e]=(a+(a=Er(r=o,o=t[e+1])))/2;return i[e]=a,i}(t),s=-1,l=t.length-1;++s<l;)e=Er(t[s],t[s+1]),co(e)<Ao?a[s]=a[s+1]=0:(r=(n=a[s]/e)*n+(i=a[s+1]/e)*i)>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i);for(s=-1;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function Dr(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-Oo,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Lr(t){function e(e){function l(){g.push("M",s(t(v),d),c,u(t(m.reverse()),d),"Z")}for(var h,p,f,g=[],m=[],v=[],y=-1,_=e.length,x=wt(n),b=wt(r),w=n===i?function(){return p}:wt(i),C=r===o?function(){return f}:wt(o);++y<_;)a.call(this,h=e[y],y)?(m.push([p=+x.call(this,h,y),f=+b.call(this,h,y)]),v.push([+w.call(this,h,y),+C.call(this,h,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=hn,i=hn,r=0,o=pn,a=be,s=Cr,l=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=ws.get(t)||Cr).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function Rr(t){return t.radius}function zr(t){return[t.x,t.y]}function Ir(){return 64}function qr(){return"circle"}function Nr(t){var e=Math.sqrt(t/To);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function jr(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Br(t,e,n){return mo(t,Es),t.namespace=e,t.id=n,t}function Hr(t,e,n,i){var r=t.id,o=t.namespace;return B(t,"function"==typeof n?function(t,a,s){t[o][r].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Vr(t){return null==t&&(t=""),function(){this.textContent=t}}function Gr(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ur(t,e,n,i,r){function o(n){var r=p.active,o=p[r];for(var l in o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[r],o.event&&o.event.interrupt.call(t,t.__data__,o.index)),p)if(i>+l){var g=p[l];g.timer.c=null,g.timer.t=NaN,--p.count,delete p[l]}u.c=a,St(function(){return u.c&&a(n||1)&&(u.c=null,u.t=NaN),1},0,s),p.active=i,f.event&&f.event.start.call(t,t.__data__,e),h=[],f.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&h.push(i)}),d=f.ease,c=f.duration}function a(r){for(var o=r/c,a=d(o),s=h.length;s>0;)h[--s].call(t,a);return o>=1?(f.event&&f.event.end.call(t,t.__data__,e),--p.count?delete p[i]:delete t[n],1):void 0}var s,u,c,d,h,p=t[n]||(t[n]={active:0,count:0}),f=p[i];f||(s=r.time,u=St(function(t){var e=f.delay;return u.t=e+s,t>=e?o(t-e):void(u.c=o)},0,s),f=p[i]={tween:new l,time:s,timer:u,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++p.count)}function Jr(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Wr(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Yr(t){return t.toISOString()}function Kr(t,e,n){function i(e){return t(e)}function r(t,n){var i=(t[1]-t[0])/n,r=to.bisect(js,i);return r==js.length?[e.year,ur(t.map(function(t){return t/31536e6}),n)[2]]:r?e[i/js[r-1]<js[r]/i?r-1:r]:[Vs,ur(t,n)[2]]}return i.invert=function(e){return Xr(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Xr)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Xr(+n+1),e).length}var o=i.domain(),a=er(o),s=null==t?r(a,10):"number"==typeof t&&r(a,t);return s&&(t=s[0],e=s[1]),i.domain(rr(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Xr(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Xr(+e+1);return e}}:t))},i.ticks=function(t,e){var n=er(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Xr(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Kr(t.copy(),e,n)},sr(i,t)}function Xr(t){return new Date(t)}function Qr(t){return JSON.parse(t.responseText)}function Zr(t){var e=io.createRange();return e.selectNode(io.body),e.createContextualFragment(t.responseText)}var to={version:"3.5.17"},eo=[].slice,no=function(t){return eo.call(t)},io=this.document;if(io)try{no(io.documentElement.childNodes)[0].nodeType}catch(t){no=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),io)try{io.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var ro=this.Element.prototype,oo=ro.setAttribute,ao=ro.setAttributeNS,so=this.CSSStyleDeclaration.prototype,lo=so.setProperty;ro.setAttribute=function(t,e){oo.call(this,t,e+"")},ro.setAttributeNS=function(t,e,n){ao.call(this,t,e,n+"")},so.setProperty=function(t,e,n){lo.call(this,t,e+"",n)}}to.ascending=n,to.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},to.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},to.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},to.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},to.sum=function(t,e){var n,i=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)r(n=+t[a])&&(i+=n);else for(;++a<o;)r(n=+e.call(t,t[a],a))&&(i+=n);return i},to.mean=function(t,e){var n,o=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)r(n=i(t[s]))?o+=n:--l;else for(;++s<a;)r(n=i(e.call(t,t[s],s)))?o+=n:--l;return l?o/l:void 0},to.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},to.median=function(t,e){var o,a=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)r(o=i(t[l]))&&a.push(o);else for(;++l<s;)r(o=i(e.call(t,t[l],l)))&&a.push(o);return a.length?to.quantile(a.sort(n),.5):void 0},to.variance=function(t,e){var n,o,a=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)r(n=i(t[u]))&&(l+=(o=n-s)*(n-(s+=o/++c)));else for(;++u<a;)r(n=i(e.call(t,t[u],u)))&&(l+=(o=n-s)*(n-(s+=o/++c)));return c>1?l/(c-1):void 0},to.deviation=function(){var t=to.variance.apply(this,arguments);return t?Math.sqrt(t):t};var uo=o(n);to.bisectLeft=uo.left,to.bisect=to.bisectRight=uo.right,to.bisector=function(t){return o(1===t.length?function(e,i){return n(t(e),i)}:t)},to.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},to.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},to.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(0>n?0:n);n>e;)r[e]=[i,i=t[++e]];return r},to.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=to.min(t,a),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i},to.zip=function(){return to.transpose(arguments)},to.keys=function(t){var e=[];for(var n in t)e.push(n);return e},to.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},to.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},to.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n};var co=Math.abs;to.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(t){for(var e=1;t*e%1;)e*=10;return e}(co(n)),a=-1;if(t*=o,e*=o,0>(n*=o))for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},to.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var ho="__proto__",po="\0";s(l,{has:d,get:function(t){return this._[u(t)]},set:function(t,e){return this._[u(t)]=e},remove:h,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:c(e),value:this._[e]});return t},size:f,empty:g,forEach:function(t){for(var e in this._)t.call(this,c(e),this._[e])}}),to.nest=function(){function t(o,a,s){if(s>=r.length)return n?n.call(i,a):e?a.sort(e):a;for(var u,c,d,h,p=-1,f=a.length,g=r[s++],m=new l;++p<f;)(h=m.get(u=g(c=a[p])))?h.push(c):m.set(u,[c]);return o?(c=o(),d=function(e,n){c.set(e,t(o,n,s))}):(c={},d=function(e,n){c[e]=t(o,n,s)}),m.forEach(d),c}var e,n,i={},r=[],o=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(e){return function t(e,n){if(n>=r.length)return e;var i=[],a=o[n++];return e.forEach(function(e,r){i.push({key:e,values:t(r,n)})}),a?i.sort(function(t,e){return a(t.key,e.key)}):i}(t(to.map,e,0),0)},i.key=function(t){return r.push(t),i},i.sortKeys=function(t){return o[r.length-1]=t,i},i.sortValues=function(t){return e=t,i},i.rollup=function(t){return n=t,i},i},to.set=function(t){var e=new m;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},s(m,{has:d,add:function(t){return this._[u(t+="")]=!0,t},remove:h,values:p,size:f,empty:g,forEach:function(t){for(var e in this._)t.call(this,c(e))}}),to.behavior={},to.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=y(t,e,e[n]);return t};var fo=["webkit","ms","moz","Moz","o","O"];to.dispatch=function(){for(var t=new b,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=w(t);return t},b.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},to.event=null,to.requote=function(t){return t.replace(go,"\\$&")};var go=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,mo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},vo=function(t,e){return e.querySelector(t)},yo=function(t,e){return e.querySelectorAll(t)},_o=function(t,e){var n=t.matches||t[_(t,"matchesSelector")];return(_o=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(vo=function(t,e){return Sizzle(t,e)[0]||null},yo=Sizzle,_o=Sizzle.matchesSelector),to.selection=function(){return to.select(io.documentElement)};var xo=to.selection.prototype=[];xo.select=function(t){var e,n,i,r,o=[];t=F(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return M(o)},xo.selectAll=function(t){var e,n,i=[];t=A(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(e=no(t.call(n,n.__data__,s,r))),e.parentNode=n);return M(i)};var bo="http://www.w3.org/1999/xhtml",wo={svg:"http://www.w3.org/2000/svg",xhtml:bo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};to.ns={prefix:wo,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),wo.hasOwnProperty(n)?{space:wo[n],local:t}:t}},xo.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=to.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each($(e,t[e]));return this}return this.each($(t,e))},xo.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=E(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!P(t[r]).test(e))return!1;return!0}for(e in t)this.each(O(e,t[e]));return this}return this.each(O(t,e))},xo.style=function(t,n,i){var r=arguments.length;if(3>r){if("string"!=typeof t){for(i in 2>r&&(n=""),t)this.each(L(i,t[i],n));return this}if(2>r){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}i=""}return this.each(L(t,n,i))},xo.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},xo.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},xo.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},xo.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},xo.insert=function(t,e){return t=z(t),e=F(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},xo.remove=function(){return this.each(I)},xo.data=function(t,e){function n(t,n){var i,r,o,a=t.length,d=n.length,h=Math.min(a,d),p=new Array(d),f=new Array(d),g=new Array(a);if(e){var m,v=new l,y=new Array(a);for(i=-1;++i<a;)(r=t[i])&&(v.has(m=e.call(r,r.__data__,i))?g[i]=r:v.set(m,r),y[i]=m);for(i=-1;++i<d;)(r=v.get(m=e.call(n,o=n[i],i)))?!0!==r&&(p[i]=r,r.__data__=o):f[i]=q(o),v.set(m,!0);for(i=-1;++i<a;)i in y&&!0!==v.get(y[i])&&(g[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],o=n[i],r?(r.__data__=o,p[i]=r):f[i]=q(o);for(;d>i;++i)f[i]=q(n[i]);for(;a>i;++i)g[i]=t[i]}f.update=p,f.parentNode=p.parentNode=g.parentNode=t.parentNode,s.push(f),u.push(p),c.push(g)}var i,r,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++o<a;)(r=i[o])&&(t[o]=r.__data__);return t}var s=H([]),u=M([]),c=M([]);if("function"==typeof t)for(;++o<a;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<a;)n(i=this[o],t);return u.enter=function(){return s},u.exit=function(){return c},u},xo.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},xo.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=N(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return M(r)},xo.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},xo.sort=function(t){t=j.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},xo.each=function(t){return B(this,function(e,n,i){t.call(e,e.__data__,n,i)})},xo.call=function(t){var e=no(arguments);return t.apply(e[0]=this,e),this},xo.empty=function(){return!this.node()},xo.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},xo.size=function(){var t=0;return B(this,function(){++t}),t};var Co=[];to.selection.enter=H,to.selection.enter.prototype=Co,Co.append=xo.append,Co.empty=xo.empty,Co.node=xo.node,Co.call=xo.call,Co.size=xo.size,Co.select=function(t){for(var e,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return M(a)},Co.insert=function(t,e){return arguments.length<2&&(e=function(t){var e,n;return function(i,r,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<l;);return a}}(this)),xo.insert.call(this,t,e)},to.select=function(e){var n;return"string"==typeof e?(n=[vo(e,io)]).parentNode=io.documentElement:(n=[e]).parentNode=t(e),M([n])},to.selectAll=function(t){var e;return"string"==typeof t?(e=no(yo(t,io))).parentNode=io.documentElement:(e=no(t)).parentNode=null,M([e])},xo.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){for(n in 2>i&&(e=!1),t)this.each(V(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(V(t,e,n))};var ko=to.map({mouseenter:"mouseover",mouseleave:"mouseout"});io&&ko.forEach(function(t){"on"+t in io&&ko.remove(t)});var So,Mo=0;to.mouse=function(t){return W(t,k())};var Fo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;to.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=k().changedTouches),e)for(var i,r=0,o=e.length;o>r;++r)if((i=e[r]).identifier===n)return W(t,i)},to.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){var s,l=this,u=to.event.target.correspondingElement||to.event.target,c=l.parentNode,d=i.of(l,arguments),h=0,p=t(),f=".drag"+(null==p?"":"-"+p),g=to.select(n(u)).on(o+f,function(){var t,n,i=e(c,p);i&&(t=i[0]-v[0],n=i[1]-v[1],h|=t|n,v=i,d({type:"drag",x:i[0]+s[0],y:i[1]+s[1],dx:t,dy:n}))}).on(a+f,function(){e(c,p)&&(g.on(o+f,null).on(a+f,null),m(h),d({type:"dragend"}))}),m=J(u),v=e(c,p);r?s=[(s=r.apply(l,arguments)).x-v[0],s.y-v[1]]:s=[0,0],d({type:"dragstart"})}}var i=S(t,"drag","dragstart","dragend"),r=null,o=n(x,to.mouse,e,"mousemove","mouseup"),a=n(Y,to.touch,v,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},to.rebind(t,i,"on")},to.touches=function(t,e){return arguments.length<2&&(e=k().touches),e?no(e).map(function(e){var n=W(t,e);return n.identifier=e.identifier,n}):[]};var Ao=1e-6,$o=Ao*Ao,To=Math.PI,Po=2*To,Eo=Po-Ao,Oo=To/2,Do=To/180,Lo=180/To,Ro=Math.SQRT2;to.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-r,d=l-o,h=c*c+d*d;if($o>h)i=Math.log(u/a)/Ro,n=function(t){return[r+t*c,o+t*d,a*Math.exp(Ro*t*i)]};else{var p=Math.sqrt(h),f=(u*u-a*a+4*h)/(2*a*2*p),g=(u*u-a*a-4*h)/(2*u*2*p),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/Ro,n=function(t){var e=t*i,n=tt(m),s=a/(2*p)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Ro*e+m)-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[r+s*c,o+s*d,a*n/tt(Ro*e+m)]}}return n.duration=1e3*i,n},to.behavior.zoom=function(){function t(t){t.on(T,c).on(Io+".zoom",h).on("dblclick.zoom",p).on(O,d)}function n(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function i(t){k.k=Math.max(F[0],Math.min(F[1],t))}function r(t,e){e=function(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function o(e,n,o,a){e.__chart__={x:k.x,y:k.y,k:k.k},i(Math.pow(2,a)),r(g=n,o),e=to.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function a(){x&&x.domain(_.range().map(function(t){return(t-k.x)/k.k}).map(_.invert)),w&&w.domain(b.range().map(function(t){return(t-k.y)/k.k}).map(b.invert))}function s(t){$++||t({type:"zoomstart"})}function l(t){a(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function u(t){--$||(t({type:"zoomend"}),g=null)}function c(){var t=this,i=D.of(t,arguments),o=0,a=to.select(e(t)).on(P,function(){o=1,r(to.mouse(t),c),l(i)}).on(E,function(){a.on(P,null).on(E,null),d(o),u(i)}),c=n(to.mouse(t)),d=J(t);Ps.call(t),s(i)}function d(){function t(){var t=to.touches(f);return p=k.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=to.event.target;to.select(e).on(x,a).on(b,h),w.push(e);for(var n=to.event.changedTouches,i=0,r=n.length;r>i;++i)m[n[i].identifier]=null;var s=t(),l=Date.now();if(1===s.length){if(500>l-y){var u=s[0];o(f,u,m[u.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),C()}y=l}else if(s.length>1){u=s[0];var c=s[1],d=u[0]-c[0],p=u[1]-c[1];v=d*d+p*p}}function a(){var t,e,n,o,a=to.touches(f);Ps.call(f);for(var s=0,u=a.length;u>s;++s,o=null)if(n=a[s],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],i(d*p)}y=null,r(t,e),l(g)}function h(){if(to.event.touches.length){for(var e=to.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}to.selectAll(w).on(_,null),S.on(T,c).on(O,d),M(),u(g)}var p,f=this,g=D.of(f,arguments),m={},v=0,_=".zoom-"+to.event.changedTouches[0].identifier,x="touchmove"+_,b="touchend"+_,w=[],S=to.select(f),M=J(f);e(),s(g),S.on(T,null).on(O,e)}function h(){var t=D.of(this,arguments);v?clearTimeout(v):(Ps.call(this),f=n(g=m||to.mouse(this)),s(t)),v=setTimeout(function(){v=null,u(t)},50),C(),i(Math.pow(2,.002*zo())*k.k),r(g,f),l(t)}function p(){var t=to.mouse(this),e=Math.log(k.k)/Math.LN2;o(this,t,n(t),to.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var f,g,m,v,y,_,x,b,w,k={x:0,y:0,k:1},M=[960,500],F=qo,A=250,$=0,T="mousedown.zoom",P="mousemove.zoom",E="mouseup.zoom",O="touchstart.zoom",D=S(t,"zoomstart","zoom","zoomend");return Io||(Io="onwheel"in io?(zo=function(){return-to.event.deltaY*(to.event.deltaMode?120:1)},"wheel"):"onmousewheel"in io?(zo=function(){return to.event.wheelDelta},"mousewheel"):(zo=function(){return-to.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=D.of(this,arguments),e=k;$s?to.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var n=M[0],i=M[1],r=g?g[0]:n/2,o=g?g[1]:i/2,a=to.interpolateZoom([(r-k.x)/k.k,(o-k.y)/k.k,n/k.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=a(e),s=n/i[2];this.__chart__=k={x:r-i[0]*s,y:o-i[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=k,s(t),l(t),u(t))})},t.translate=function(e){return arguments.length?(k={x:+e[0],y:+e[1],k:k.k},a(),t):[k.x,k.y]},t.scale=function(e){return arguments.length?(k={x:k.x,y:k.y,k:null},i(+e),a(),t):k.k},t.scaleExtent=function(e){return arguments.length?(F=null==e?qo:[+e[0],+e[1]],t):F},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(x=e,_=e.copy(),k={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(w=e,b=e.copy(),k={x:0,y:0,k:1},t):w},to.rebind(t,D,"on")};var zo,Io,qo=[0,1/0];to.color=nt,nt.prototype.toString=function(){return this.rgb()+""},to.hsl=it;var No=it.prototype=new nt;No.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new it(this.h,this.s,this.l/t)},No.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new it(this.h,this.s,t*this.l)},No.rgb=function(){return rt(this.h,this.s,this.l)},to.hcl=ot;var jo=ot.prototype=new nt;jo.brighter=function(t){return new ot(this.h,this.c,Math.min(100,this.l+Bo*(arguments.length?t:1)))},jo.darker=function(t){return new ot(this.h,this.c,Math.max(0,this.l-Bo*(arguments.length?t:1)))},jo.rgb=function(){return at(this.h,this.c,this.l).rgb()},to.lab=st;var Bo=18,Ho=.95047,Vo=1,Go=1.08883,Uo=st.prototype=new nt;Uo.brighter=function(t){return new st(Math.min(100,this.l+Bo*(arguments.length?t:1)),this.a,this.b)},Uo.darker=function(t){return new st(Math.max(0,this.l-Bo*(arguments.length?t:1)),this.a,this.b)},Uo.rgb=function(){return lt(this.l,this.a,this.b)},to.rgb=pt;var Jo=pt.prototype=new nt;Jo.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new pt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new pt(r,r,r)},Jo.darker=function(t){return new pt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},Jo.hsl=function(){return yt(this.r,this.g,this.b)},Jo.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};var Wo=to.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wo.forEach(function(t,e){Wo.set(t,ft(e))}),to.functor=wt,to.xhr=Ct(v),to.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=kt(t,e,null==n?i:r(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:r(t)):n},a}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(i=t.charCodeAt(n+1))?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var i,s=1;if(10===(i=t.charCodeAt(c++)))r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,o={},a={},s=[],u=t.length,c=0,d=0;(i=n())!==a;){for(var h=[];i!==o&&i!==a;)h.push(i),i=n();e&&null==(h=e(h,d++))||s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new m,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},to.csv=to.dsv(",","text/csv"),to.tsv=to.dsv("\t","text/tab-separated-values");var Yo,Ko,Xo,Qo,Zo=this[_(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};to.timer=function(){St.apply(this,arguments)},to.timer.flush=function(){Ft(),At()},to.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ta=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*co(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});to.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=to.round(t,$t(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ta[8+n/3]};var ea=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,na=to.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=to.round(t,$t(t,e))).toFixed(Math.max(0,Math.min(20,$t(t*(1+1e-15),e))))}}),ia=to.time={},ra=Date;Et.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){oa.setUTCDate.apply(this._,arguments)},setDay:function(){oa.setUTCDay.apply(this._,arguments)},setFullYear:function(){oa.setUTCFullYear.apply(this._,arguments)},setHours:function(){oa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){oa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){oa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){oa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){oa.setUTCSeconds.apply(this._,arguments)},setTime:function(){oa.setTime.apply(this._,arguments)}};var oa=Date.prototype;ia.year=Ot(function(t){return(t=ia.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ia.years=ia.year.range,ia.years.utc=ia.year.utc.range,ia.day=Ot(function(t){var e=new ra(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ia.days=ia.day.range,ia.days.utc=ia.day.utc.range,ia.dayOfYear=function(t){var e=ia.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ia[t]=Ot(function(t){return(t=ia.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ia.year(t).getDay();return Math.floor((ia.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ia[t+"s"]=n.range,ia[t+"s"].utc=n.utc.range,ia[t+"OfYear"]=function(t){var n=ia.year(t).getDay();return Math.floor((ia.dayOfYear(t)+(n+e)%7)/7)}}),ia.week=ia.sunday,ia.weeks=ia.sunday.range,ia.weeks.utc=ia.sunday.utc.range,ia.weekOfYear=ia.sundayOfYear;var aa={"-":"",_:" ",0:"0"},sa=/^\s*\d+/,la=/^%/;to.locale=function(t){return{numberFormat:Tt(t),timeFormat:Lt(t)}};var ua=to.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});to.format=ua.numberFormat,to.geo={},ee.prototype={s:0,t:0,add:function(t){ne(t,this.t,ca),ne(ca.s,this.s,this),this.s?this.t+=ca.t:this.s=ca.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ca=new ee;to.geo.stream=function(t,e){t&&da.hasOwnProperty(t.type)?da[t.type](t,e):ie(t,e)};var da={Feature:function(t,e){ie(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ie(n[i].geometry,e)}},ha={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){re(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)re(n[i],e,0)},Polygon:function(t,e){oe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)oe(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ie(n[i],e)}};to.geo.area=function(t){return pa=0,to.geo.stream(t,ga),pa};var pa,fa=new ee,ga={sphere:function(){pa+=4*To},point:x,lineStart:x,lineEnd:x,polygonStart:function(){fa.reset(),ga.lineStart=ae},polygonEnd:function(){var t=2*fa;pa+=0>t?4*To+t:t,ga.lineStart=ga.lineEnd=ga.point=x}};to.geo.bounds=function(){function t(t,e){_.push(x=[c=t,h=t]),d>e&&(d=e),e>p&&(p=e)}function e(e,n){var i=se([e*Do,n*Do]);if(v){var r=ue(v,i),o=ue([r[1],-r[0],0],r);he(o),o=pe(o);var a=e-f,l=a>0?1:-1,u=o[0]*Lo*l,g=co(a)>180;if(g^(u>l*f&&l*e>u))(m=o[1]*Lo)>p&&(p=m);else if(g^((u=(u+360)%360-180)>l*f&&l*e>u)){var m=-o[1]*Lo;d>m&&(d=m)}else d>n&&(d=n),n>p&&(p=n);g?f>e?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(c>e&&(c=e),e>h&&(h=e)):e>f?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);v=i,f=e}function n(){b.point=e}function i(){x[0]=c,x[1]=h,b.point=t,v=null}function r(t,n){if(v){var i=t-f;y+=co(i)>180?i+(i>0?360:-360):i}else g=t,m=n;ga.point(t,n),e(t,n)}function o(){ga.lineStart()}function a(){r(g,m),ga.lineEnd(),co(y)>Ao&&(c=-(h=180)),x[0]=c,x[1]=h,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,h,p,f,g,m,v,y,_,x,b={point:t,lineStart:n,lineEnd:i,polygonStart:function(){b.point=r,b.lineStart=o,b.lineEnd=a,y=0,ga.polygonStart()},polygonEnd:function(){ga.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=i,0>fa?(c=-(h=180),d=-(p=90)):y>Ao?p=90:-Ao>y&&(d=-90),x[0]=c,x[1]=h}};return function(t){if(p=h=-(c=d=1/0),_=[],to.geo.stream(t,b),o=_.length){_.sort(l);for(var e=1,n=[f=_[0]];o>e;++e)u((r=_[e])[0],f)||u(r[1],f)?(s(f[0],r[1])>s(f[0],f[1])&&(f[1]=r[1]),s(r[0],f[1])>s(f[0],f[1])&&(f[0]=r[0])):n.push(f=r);for(var i,r,o,a=-1/0,f=(e=0,n[o=n.length-1]);o>=e;f=r,++e)r=n[e],(i=s(f[1],r[0]))>a&&(a=i,c=r[0],h=f[1])}return _=x=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[h,p]]}}(),to.geo.centroid=function(t){ma=va=ya=_a=xa=ba=wa=Ca=ka=Sa=Ma=0,to.geo.stream(t,Fa);var e=ka,n=Sa,i=Ma,r=e*e+n*n+i*i;return $o>r&&(e=ba,n=wa,i=Ca,Ao>va&&(e=ya,n=_a,i=xa),$o>(r=e*e+n*n+i*i))?[NaN,NaN]:[Math.atan2(n,e)*Lo,Z(i/Math.sqrt(r))*Lo]};var ma,va,ya,_a,xa,ba,wa,Ca,ka,Sa,Ma,Fa={sphere:x,point:ge,lineStart:ve,lineEnd:ye,polygonStart:function(){Fa.lineStart=_e},polygonEnd:function(){Fa.lineStart=ve}},Aa=Se(be,function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?To:-To,l=co(o-n);co(l-To)<Ao?(t.point(n,i=(i+a)/2>0?Oo:-Oo),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&l>=To&&(co(n-r)<Ao&&(n-=r*Ao),co(o-s)<Ao&&(o-=s*Ao),i=function(t,e,n,i){var r,o,a=Math.sin(t-n);return co(a)>Ao?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*Oo,i.point(-To,r),i.point(0,r),i.point(To,r),i.point(To,0),i.point(To,-r),i.point(0,-r),i.point(-To,-r),i.point(-To,0),i.point(-To,r);else if(co(t[0]-e[0])>Ao){var o=t[0]<e[0]?To:-To;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-To,-To/2]),$a=1e9;to.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),(r=o(t)).valid=!0,r},extent:function(s){return arguments.length?(o=Te(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(to.geo.conicEqualArea=function(){return Pe(Ee)}).raw=Ee,to.geo.albers=function(){return to.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},to.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(i(o,a),e)||r(o,a),e}var e,n,i,r,o=to.geo.albers(),a=to.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=to.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?a:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],d=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,i=a.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Ao,d+.12*u+Ao],[c-.214*u-Ao,d+.234*u-Ao]]).stream(l).point,r=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Ao,d+.166*u+Ao],[c-.115*u-Ao,d+.234*u-Ao]]).stream(l).point,t},t.scale(1070)};var Ta,Pa,Ea,Oa,Da,La,Ra={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Pa=0,Ra.lineStart=Oe},polygonEnd:function(){Ra.lineStart=Ra.lineEnd=Ra.point=x,Ta+=co(Pa/2)}},za={point:function(t,e){Ea>t&&(Ea=t),t>Da&&(Da=t),Oa>e&&(Oa=e),e>La&&(La=e)},lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Ia={point:Re,lineStart:ze,lineEnd:Ie,polygonStart:function(){Ia.lineStart=qe},polygonEnd:function(){Ia.point=Re,Ia.lineStart=ze,Ia.lineEnd=Ie}};to.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=r(o)),to.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,i,r,o,a,s=4.5;return t.area=function(t){return Ta=0,to.geo.stream(t,r(Ra)),Ta},t.centroid=function(t){return ya=_a=xa=ba=wa=Ca=ka=Sa=Ma=0,to.geo.stream(t,r(Ia)),Ma?[ka/Ma,Sa/Ma]:Ca?[ba/Ca,wa/Ca]:xa?[ya/xa,_a/xa]:[NaN,NaN]},t.bounds=function(t){return Da=La=-(Ea=Oa=1/0),to.geo.stream(t,r(za)),[[Ea,Oa],[Da,La]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||function(t){var e=je(function(e,n){return t([e*Lo,n*Lo])});return function(t){return Ue(e(t))}}(t):v,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new De:new Ne(t),"function"!=typeof s&&o.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(to.geo.albersUsa()).context(null)},to.geo.transform=function(t){return{stream:function(e){var n=new Be(e);for(var i in t)n[i]=t[i];return n}}},Be.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},to.geo.projection=Ve,to.geo.projectionMutator=Ge,(to.geo.equirectangular=function(){return Ve(Je)}).raw=Je.invert=Je,to.geo.rotation=function(t){function e(e){return(e=t(e[0]*Do,e[1]*Do))[0]*=Lo,e[1]*=Lo,e}return t=Ye(t[0]%360*Do,t[1]*Do,t.length>2?t[2]*Do:0),e.invert=function(e){return(e=t.invert(e[0]*Do,e[1]*Do))[0]*=Lo,e[1]*=Lo,e},e},We.invert=Je,to.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=Ye(-t[0]*Do,-t[1]*Do,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Lo,t[1]*=Lo}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=Ze((e=+i)*Do,r*Do),t):e},t.precision=function(i){return arguments.length?(n=Ze(e*Do,(r=+i)*Do),t):r},t.angle(90)},to.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Do,r=t[1]*Do,o=e[1]*Do,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},to.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return to.range(Math.ceil(o/m)*m,r,m).map(h).concat(to.range(Math.ceil(u/v)*v,l,v).map(p)).concat(to.range(Math.ceil(i/f)*f,n,f).filter(function(t){return co(t%m)>Ao}).map(c)).concat(to.range(Math.ceil(s/g)*g,a,g).filter(function(t){return co(t%v)>Ao}).map(d))}var n,i,r,o,a,s,l,u,c,d,h,p,f=10,g=f,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(l).slice(1),h(r).reverse().slice(1),p(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],g=+e[1],t):[f,g]},t.precision=function(e){return arguments.length?(y=+e,c=en(s,a,90),d=nn(i,n,y),h=en(u,l,90),p=nn(o,r,y),t):y},t.majorExtent([[-180,-90+Ao],[180,90-Ao]]).minorExtent([[-180,-80-Ao],[180,80+Ao]])},to.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=rn,r=on;return t.distance=function(){return to.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},to.geo.interpolate=function(t,e){return function(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=a*Math.cos(n),d=a*Math.sin(n),h=2*Math.asin(Math.sqrt(et(i-e)+r*a*et(n-t))),p=1/Math.sin(h),f=h?function(t){var e=Math.sin(t*=h)*p,n=Math.sin(h-t)*p,i=n*l+e*c,r=n*u+e*d,a=n*o+e*s;return[Math.atan2(r,i)*Lo,Math.atan2(a,Math.sqrt(i*i+r*r))*Lo]}:function(){return[t*Lo,e*Lo]};return f.distance=h,f}(t[0]*Do,t[1]*Do,e[0]*Do,e[1]*Do)},to.geo.length=function(t){return qa=0,to.geo.stream(t,Na),qa};var qa,Na={sphere:x,point:x,lineStart:function(){function t(t,r){var o=Math.sin(r*=Do),a=Math.cos(r),s=co((t*=Do)-e),l=Math.cos(s);qa+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*l)*s),n*o+i*a*l),e=t,n=o,i=a}var e,n,i;Na.point=function(r,o){e=r*Do,n=Math.sin(o*=Do),i=Math.cos(o),Na.point=t},Na.lineEnd=function(){Na.point=Na.lineEnd=x}},lineEnd:x,polygonStart:x,polygonEnd:x},ja=an(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(to.geo.azimuthalEqualArea=function(){return Ve(ja)}).raw=ja;var Ba=an(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},v);(to.geo.azimuthalEquidistant=function(){return Ve(Ba)}).raw=Ba,(to.geo.conicConformal=function(){return Pe(sn)}).raw=sn,(to.geo.conicEquidistant=function(){return Pe(ln)}).raw=ln;var Ha=an(function(t){return 1/t},Math.atan);(to.geo.gnomonic=function(){return Ve(Ha)}).raw=Ha,un.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Oo]},(to.geo.mercator=function(){return cn(un)}).raw=un;var Va=an(function(){return 1},Math.asin);(to.geo.orthographic=function(){return Ve(Va)}).raw=Va;var Ga=an(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(to.geo.stereographic=function(){return Ve(Ga)}).raw=Ga,dn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Oo]},(to.geo.transverseMercator=function(){var t=cn(dn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=dn,to.geom={},to.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=wt(n),o=wt(i),a=t.length,s=[],l=[];for(e=0;a>e;e++)s.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(gn),e=0;a>e;e++)l.push([s[e][0],-s[e][1]]);var u=fn(s),c=fn(l),d=c[0]===u[0],h=c[c.length-1]===u[u.length-1],p=[];for(e=u.length-1;e>=0;--e)p.push(t[s[u[e]][2]]);for(e=+d;e<c.length-h;++e)p.push(t[s[c[e]][2]]);return p}var n=hn,i=pn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},to.geom.polygon=function(t){return mo(t,Ua),t};var Ua=to.geom.polygon.prototype=[];Ua.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Ua.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Ua.clip=function(t){for(var e,n,i,r,o,a,s=yn(t),l=-1,u=this.length-yn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-s)-1],n=-1;++n<i;)mn(a=e[n],c,r)?(mn(o,c,r)||t.push(vn(o,a,c,r)),t.push(a)):mn(o,c,r)&&t.push(vn(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var Ja,Wa,Ya,Ka,Xa,Qa=[],Za=[];Mn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Fn),e.length},Rn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},zn.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=jn(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(qn(this,n),n=(t=n).U),n.C=!1,i.C=!0,Nn(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Nn(this,n),n=(t=n).U),n.C=!1,i.C=!0,qn(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?jn(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,qn(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Nn(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,qn(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Nn(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,qn(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Nn(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},to.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],o=s[1][0],a=s[1][1];return Bn(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=o&&u.y>=r&&u.y<=a?[[i,a],[o,a],[o,r],[i,r]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ao)*Ao,y:Math.round(a(t,e)/Ao)*Ao,i:e}})}var i=hn,r=pn,o=i,a=r,s=ts;return t?e(t):(e.links=function(t){return Bn(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return Bn(n(t)).cells.forEach(function(n,i){for(var r,o=n.site,a=n.edges.sort(Fn),s=-1,l=a.length,u=a[l-1].edge,c=u.l===o?u.r:u.l;++s<l;)u,r=c,c=(u=a[s].edge).l===o?u.r:u.l,i<r.i&&i<c.i&&Vn(o,r,c)<0&&e.push([t[i],t[r.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(o=wt(i=t),e):i},e.y=function(t){return arguments.length?(a=wt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?ts:t,e):s===ts?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ts?null:s&&s[1]},e)};var ts=[[-1e6,-1e6],[1e6,1e6]];to.geom.delaunay=function(t){return to.geom.voronoi().triangles(t)},to.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(co(l-n)+co(c-i)<.01)u(t,e,n,i,r,o,a,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,l,c,r,o,a,s),u(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,o,a,s)}function u(t,e,n,i,r,a,s,l){var u=.5*(r+s),c=.5*(a+l),d=n>=u,h=i>=c,p=h<<1|d;t.leaf=!1,d?r=u:s=u,h?a=c:l=c,o(t=t.nodes[p]||(t.nodes[p]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,r,a,s,l)}var c,d,h,p,f,g,m,v,y,_=wt(s),x=wt(l);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),d=[],h=[],f=t.length,a)for(p=0;f>p;++p)(c=t[p]).x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),d.push(c.x),h.push(c.y);else for(p=0;f>p;++p){var b=+_(c=t[p],p),w=+x(c,p);g>b&&(g=b),m>w&&(m=w),b>v&&(v=b),w>y&&(y=w),d.push(b),h.push(w)}var C=v-g,k=y-m;C>k?y=m+C:v=g+k;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){o(S,t,+_(t,++p),+x(t,p),g,m,v,y)}};if(S.visit=function(t){!function t(e,n,i,r,o,a){if(!e(n,i,r,o,a)){var s=.5*(i+o),l=.5*(r+a),u=n.nodes;u[0]&&t(e,u[0],i,r,s,l),u[1]&&t(e,u[1],s,r,o,l),u[2]&&t(e,u[2],i,l,s,a),u[3]&&t(e,u[3],s,l,o,a)}}(t,S,g,m,v,y)},S.find=function(t){return function(t,e,n,i,r,o,a){var s,l=1/0;return function t(u,c,d,h,p){if(!(c>o||d>a||i>h||r>p)){if(f=u.point){var f,g=e-u.x,m=n-u.y,v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);i=e-y,r=n-y,o=e+y,a=n+y,s=f}}for(var _=u.nodes,x=.5*(c+h),b=.5*(d+p),w=(n>=b)<<1|e>=x,C=w+4;C>w;++w)if(u=_[3&w])switch(3&w){case 0:t(u,c,d,x,b);break;case 1:t(u,x,d,h,b);break;case 2:t(u,c,b,x,p);break;case 3:t(u,x,b,h,p)}}}(t,i,r,o,a),s}(S,t[0],t[1],g,m,v,y)},p=-1,null==e){for(;++p<f;)o(S,t[p],d[p],h[p],g,m,v,y);--p}else t.forEach(S.add);return d=h=t=c=null,S}var a,s=hn,l=pn;return(a=arguments.length)?(s=Gn,l=Un,3===a&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},to.interpolateRgb=Jn,to.interpolateObject=Wn,to.interpolateNumber=Yn,to.interpolateString=Kn;var es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ns=new RegExp(es.source,"g");to.interpolate=Xn,to.interpolators=[function(t,e){var n=typeof e;return("string"===n?Wo.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Jn:Kn:e instanceof nt?Jn:Array.isArray(e)?Qn:"object"===n&&isNaN(e)?Wn:Yn)(t,e)}],to.interpolateArray=Qn;var is=function(){return v},rs=to.map({linear:is,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ei},cubic:function(){return ni},sin:function(){return ri},exp:function(){return oi},circle:function(){return ai},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Po*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Po/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return si}}),os=to.map({in:v,out:Zn,"in-out":ti,"out-in":function(t){return ti(Zn(t))}});to.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=rs.get(n)||is,function(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}((i=os.get(i)||v)(n.apply(null,eo.call(arguments,1))))},to.interpolateHcl=function(t,e){t=to.hcl(t),e=to.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return at(n+o*t,i+a*t,r+s*t)+""}},to.interpolateHsl=function(t,e){t=to.hsl(t),e=to.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return rt(n+o*t,i+a*t,r+s*t)+""}},to.interpolateLab=function(t,e){t=to.lab(t),e=to.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return lt(n+o*t,i+a*t,r+s*t)+""}},to.interpolateRound=li,to.transform=function(t){var e=io.createElementNS(to.ns.prefix.svg,"g");return(to.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new ui(n?n.matrix:as)})(t)},ui.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var as={a:1,b:0,c:0,d:1,e:0,f:0};to.interpolateTransform=pi,to.layout={},to.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(mi(t[n]));return e}},to.layout.chord=function(){function t(){var t,u,d,h,p,f={},g=[],m=to.range(o),v=[];for(n=[],i=[],t=0,h=-1;++h<o;){for(u=0,p=-1;++p<o;)u+=r[h][p];g.push(u),v.push(to.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Po-c*o)/t,u=0,h=-1;++h<o;){for(d=u,p=-1;++p<o;){var y=m[h],_=v[y][p],x=r[y][_],b=u,w=u+=x*t;f[y+"-"+_]={index:y,subindex:_,startAngle:b,endAngle:w,value:x}}i[y]={index:y,startAngle:d,endAngle:u,value:g[y]},u+=c}for(h=-1;++h<o;)for(p=h-1;++p<o;){var C=f[h+"-"+p],k=f[p+"-"+h];(C.value||k.value)&&n.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=i=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},to.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=r-n,l=o*o+a*a;if(l>s*s/y){if(g>l){var u=e.charge/l;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&l&&g>l){u=e.pointCharge/l;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=to.event.x,t.py=to.event.y,l.resume()}var n,i,r,o,a,s,l={},u=to.dispatch("start","tick","end"),c=[1,1],d=.9,h=ss,p=ls,f=-30,g=us,m=.1,y=.64,_=[],x=[];return l.tick=function(){if((r*=.99)<.005)return n=null,u.end({type:"end",alpha:r=0}),!0;var e,i,l,h,p,g,v,y,b,w=_.length,C=x.length;for(i=0;C>i;++i)h=(l=x[i]).source,(g=(y=(p=l.target).x-h.x)*y+(b=p.y-h.y)*b)&&(y*=g=r*a[i]*((g=Math.sqrt(g))-o[i])/g,b*=g,p.x-=y*(v=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=b*v,h.x+=y*(v=1-v),h.y+=b*v);if((v=r*m)&&(y=c[0]/2,b=c[1]/2,i=-1,v))for(;++i<w;)(l=_[i]).x+=(y-l.x)*v,l.y+=(b-l.y)*v;if(f)for(function t(e,n,i){var r=0,o=0;if(e.charge=0,!e.leaf)for(var a,s=e.nodes,l=s.length,u=-1;++u<l;)null!=(a=s[u])&&(t(a,n,i),e.charge+=a.charge,r+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*i[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,o+=c*e.point.y}e.cx=r/e.charge,e.cy=o/e.charge}(e=to.geom.quadtree(_),r,s),i=-1;++i<w;)(l=_[i]).fixed||e.visit(t(l));for(i=-1;++i<w;)(l=_[i]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);u.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(_=t,l):_},l.links=function(t){return arguments.length?(x=t,l):x},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.friction=function(t){return arguments.length?(d=+t,l):d},l.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(y=t*t,l):Math.sqrt(y)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:r=0})):t>0&&(u.start({type:"start",alpha:r=t}),n=St(l.tick)),l):r},l.start=function(){function t(t,i){if(!n){for(n=new Array(r),l=0;r>l;++l)n[l]=[];for(l=0;u>l;++l){var o=x[l];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][t]))return a;return Math.random()*i}var e,n,i,r=_.length,u=x.length,d=c[0],g=c[1];for(e=0;r>e;++e)(i=_[e]).index=e,i.weight=0;for(e=0;u>e;++e)"number"==typeof(i=x[e]).source&&(i.source=_[i.source]),"number"==typeof i.target&&(i.target=_[i.target]),++i.source.weight,++i.target.weight;for(e=0;r>e;++e)i=_[e],isNaN(i.x)&&(i.x=t("x",d)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(o=[],"function"==typeof h)for(e=0;u>e;++e)o[e]=+h.call(this,x[e],e);else for(e=0;u>e;++e)o[e]=h;if(a=[],"function"==typeof p)for(e=0;u>e;++e)a[e]=+p.call(this,x[e],e);else for(e=0;u>e;++e)a[e]=p;if(s=[],"function"==typeof f)for(e=0;r>e;++e)s[e]=+f.call(this,_[e],e);else for(e=0;r>e;++e)s[e]=f;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return i||(i=to.behavior.drag().origin(v).on("dragstart.force",yi).on("drag.force",e).on("dragend.force",_i)),arguments.length?void this.on("mouseover.force",xi).on("mouseout.force",bi).call(i):i},to.rebind(l,u,"on")};var ss=20,ls=1,us=1/0;to.layout.hierarchy=function(){function t(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=u}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return ki(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=Fi,n=Si,i=Mi;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Ci(e,function(t){t.children&&(t.value=0)}),ki(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},to.layout.partition=function(){function t(t,i){var r=e.call(this,t,i);return function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,l,u=-1;for(i=e.value?i/e.value:0;++u<a;)t(s=o[u],n,l=s.value*i,r),n+=l}}(r[0],0,n[0],n[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,t(n[o]));return 1+i}(r[0])),r}var e=to.layout.hierarchy(),n=[1,1];return t.size=function(e){return arguments.length?(n=e,t):n},wi(t,e)},to.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),d=("function"==typeof r?r.apply(this,arguments):r)-c,h=Math.min(Math.abs(d)/l,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(0>d?-1:1),f=to.sum(u),g=f?(d-l*p)/f:0,m=to.range(l),v=[];return null!=n&&m.sort(n===cs?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),m.forEach(function(t){v[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*g+p,padAngle:h}}),v}var e=Number,n=cs,i=0,r=Po,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var cs={};to.layout.stack=function(){function t(s,l){if(!(h=s.length))return s;var u=s.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),d=n.call(t,c,l);u=to.permute(u,d),c=to.permute(c,d);var h,p,f,g,m=i.call(t,c,l),v=u[0].length;for(f=0;v>f;++f)for(r.call(t,u[0][f],g=m[f],c[0][f][1]),p=1;h>p;++p)r.call(t,u[p][f],g+=c[p-1][f][1],c[p][f][1]);return s}var e=v,n=Ei,i=Oi,r=Pi,o=$i,a=Ti;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ds.get(e)||Ei,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:hs.get(e)||Oi,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var ds=to.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(Di),o=t.map(Li),a=to.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,u=[],c=[];for(e=0;i>e;++e)n=a[e],l>s?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return to.range(t.length).reverse()},default:Ei}),hs=to.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,r,o,a,s,l,u,c=t.length,d=t[0],h=d.length,p=[];for(p[0]=l=u=0,n=1;h>n;++n){for(e=0,r=0;c>e;++e)r+=t[e][n][1];for(e=0,o=0,s=d[n][0]-d[n-1][0];c>e;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}p[n]=l-=r?o/r*s:0,u>l&&(u=l)}for(n=0;h>n;++n)p[n]-=u;return p},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:Oi});to.layout.histogram=function(){function t(t,o){for(var a,s,l=[],u=t.map(n,this),c=i.call(this,u,o),d=r.call(this,c,u,o),h=(o=-1,u.length),p=d.length-1,f=e?1:1/h;++o<p;)(a=l[o]=[]).dx=d[o+1]-(a.x=d[o]),a.y=0;if(p>0)for(o=-1;++o<h;)(s=u[o])>=c[0]&&s<=c[1]&&((a=l[to.bisect(d,s,1,p)-1]).y+=f,a.push(t[o]));return l}var e=!0,n=Number,i=qi,r=zi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=wt(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return Ii(t,e)}:wt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},to.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ki(s,function(t){t.r=+c(t.value)}),ki(s,Vi),i){var d=i*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;ki(s,function(t){t.r+=d}),ki(s,Vi),ki(s,function(t){t.r-=d})}return function t(e,n,i,r){var o=e.children;if(e.x=n+=r*e.x,e.y=i+=r*e.y,e.r*=r,o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,i,r)}(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=to.layout.hierarchy().sort(Ni),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},wi(t,n)},to.layout.tree=function(){function t(t,l){var u=r.call(this,t,l),c=u[0],d=function(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;s>a;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}(c);if(ki(d,e),d.parent.m=-d.z,Ci(d,n),s)Ci(c,i);else{var h=c,p=c,f=c;Ci(c,function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>f.depth&&(f=t)});var g=o(h,p)/2-h.x,m=a[0]/(p.x+o(p,h)/2+g),v=a[1]/(f.depth||1);Ci(c,function(t){t.x=(t.x+g)*m,t.y=t.depth*v})}return u}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+o(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,r=t,a=t,s=e,l=r.parent.children[0],u=r.m,c=a.m,d=s.m,h=l.m;s=Ki(s),r=Yi(r),s&&r;)l=Yi(l),(a=Ki(a)).a=t,(i=s.z+d-r.z-u+o(s._,r._))>0&&(Xi(Qi(s,t,n),t,i),u+=i,c+=i),d+=s.m,u+=r.m,h+=l.m,c+=a.m;s&&!Ki(a)&&(a.t=s,a.m+=d-c),r&&!Yi(l)&&(l.t=r,l.m+=u-h,n=t)}return n}(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t){t.x*=a[0],t.y=t.depth*a[1]}var r=to.layout.hierarchy().sort(null).value(null),o=Wi,a=[1,1],s=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(s=null==(a=e)?i:null,t):s?null:a},t.nodeSize=function(e){return arguments.length?(s=null==(a=e)?null:i,t):s?a:null},wi(t,r)},to.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),l=s[0],u=0;ki(l,function(t){var e=t.children;e&&e.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(e),t.y=function(t){return 1+to.max(t,function(t){return t.y})}(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),d=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(l),h=c.x-n(c,d)/2,p=d.x+n(d,c)/2;return ki(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-h)/(p-h)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),s}var e=to.layout.hierarchy().sort(null).value(null),n=Wi,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},wi(t,e)},to.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var a,s,l,u=d(n),c=[],h=o.slice(),f=1/0,g="slice"===p?u.dx:"dice"===p?u.dy:"slice-dice"===p?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(h,u.dx*u.dy/n.value),c.area=0;(l=h.length)>0;)c.push(a=h[l-1]),c.area+=a.area,"squarify"!==p||(s=i(c,g))<=f?(h.pop(),f=s):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,f=1/0);c.length&&(r(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,a=d(e),s=i.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>r&&(r=n));return e*=e,(i*=i)?Math.max(e*r*f/i,i/(e*o*f)):1/0}function r(t,e,n,i){var r,o=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)(r=t[o]).x=s,r.y=u,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)(r=t[o]).x=s,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(i){var r=a||s(i),o=r[0];return o.x=o.y=0,o.value?(o.dx=u[0],o.dy=u[1]):o.dx=o.dy=0,a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),h&&(a=r),r}var a,s=to.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Zi,h=!1,p="squarify",f=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){return tr(e,t)}return arguments.length?(d=null==(c=t)?Zi:"function"==(n=typeof t)?function(e){var n=t.call(o,e,e.depth);return null==n?Zi(e):tr(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,o):c;var n},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(f=t,o):f},o.mode=function(t){return arguments.length?(p=t+"",o):p},wi(o,s)},to.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=to.random.normal.apply(to,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=to.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},to.scale={};var ps={floor:v,ceil:v};to.scale.linear=function(){return function t(e,n,i,r){function o(){var t=Math.min(e.length,n.length)>2?ar:ir,o=r?gi:fi;return s=t(e,n,o,i),l=t(n,e,o,Xn),a}function a(t){return s(t)}var s,l;return a.invert=function(t){return l(t)},a.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},a.range=function(t){return arguments.length?(n=t,o()):n},a.rangeRound=function(t){return a.range(t).interpolate(li)},a.clamp=function(t){return arguments.length?(r=t,o()):r},a.interpolate=function(t){return arguments.length?(i=t,o()):i},a.ticks=function(t){return cr(e,t)},a.tickFormat=function(t,n){return dr(e,t,n)},a.nice=function(t){return lr(e,t),o()},a.copy=function(){return t(e,n,i,r)},o()}([0,1],[0,1],Xn,!1)};var fs={s:1,g:1,p:1,r:1,e:1};to.scale.log=function(){return function t(e,n,i,r){function o(t){return(i?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return i?Math.pow(n,t):-Math.pow(n,-t)}function s(t){return e(o(t))}return s.invert=function(t){return a(e.invert(t))},s.domain=function(t){return arguments.length?(i=t[0]>=0,e.domain((r=t.map(Number)).map(o)),s):r},s.base=function(t){return arguments.length?(n=+t,e.domain(r.map(o)),s):n},s.nice=function(){var t=rr(r.map(o),i?Math:ms);return e.domain(t),r=t.map(a),s},s.ticks=function(){var t=er(r),e=[],s=t[0],l=t[1],u=Math.floor(o(s)),c=Math.ceil(o(l)),d=n%1?2:n;if(isFinite(c-u)){if(i){for(;c>u;u++)for(var h=1;d>h;h++)e.push(a(u)*h);e.push(a(u))}else for(e.push(a(u));u++<c;)for(h=d-1;h>0;h--)e.push(a(u)*h);for(u=0;e[u]<s;u++);for(c=e.length;e[c-1]>l;c--);e=e.slice(u,c)}return e},s.tickFormat=function(t,e){if(!arguments.length)return gs;arguments.length<2?e=gs:"function"!=typeof e&&(e=to.format(e));var i=Math.max(1,n*t/s.ticks().length);return function(t){var r=t/a(Math.round(o(t)));return n-.5>r*n&&(r*=n),i>=r?e(t):""}},s.copy=function(){return t(e.copy(),n,i,r)},sr(s,e)}(to.scale.linear().domain([0,1]),10,!0,[1,10])};var gs=to.format(".0e"),ms={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};to.scale.pow=function(){return function t(e,n,i){function r(t){return e(o(t))}var o=pr(n),a=pr(1/n);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(o)),r):i},r.ticks=function(t){return cr(i,t)},r.tickFormat=function(t,e){return dr(i,t,e)},r.nice=function(t){return r.domain(lr(i,t))},r.exponent=function(t){return arguments.length?(o=pr(n=t),a=pr(1/n),e.domain(i.map(o)),r):n},r.copy=function(){return t(e.copy(),n,i)},sr(r,e)}(to.scale.linear(),1,[0,1])},to.scale.sqrt=function(){return to.scale.pow().exponent(.5)},to.scale.ordinal=function(){return function t(e,n){function i(t){return a[((o.get(t)||("range"===n.t?o.set(t,e.push(t)):NaN))-1)%a.length]}function r(t,n){return to.range(e.length).map(function(e){return t+n*e})}var o,a,s;return i.domain=function(t){if(!arguments.length)return e;e=[],o=new l;for(var r,a=-1,s=t.length;++a<s;)o.has(r=t[a])||o.set(r,e.push(r));return i[n.t].apply(i,n.a)},i.range=function(t){return arguments.length?(a=t,s=0,n={t:"range",a:arguments},i):a},i.rangePoints=function(t,o){arguments.length<2&&(o=0);var l=t[0],u=t[1],c=e.length<2?(l=(l+u)/2,0):(u-l)/(e.length-1+o);return a=r(l+c*o/2,c),s=0,n={t:"rangePoints",a:arguments},i},i.rangeRoundPoints=function(t,o){arguments.length<2&&(o=0);var l=t[0],u=t[1],c=e.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(e.length-1+o)|0;return a=r(l+Math.round(c*o/2+(u-l-(e.length-1+o)*c)/2),c),s=0,n={t:"rangeRoundPoints",a:arguments},i},i.rangeBands=function(t,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=t[1]<t[0],c=t[u-0],d=(t[1-u]-c)/(e.length-o+2*l);return a=r(c+d*l,d),u&&a.reverse(),s=d*(1-o),n={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(t,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=t[1]<t[0],c=t[u-0],d=t[1-u],h=Math.floor((d-c)/(e.length-o+2*l));return a=r(c+Math.round((d-c-(e.length-o)*h)/2),h),u&&a.reverse(),s=Math.round(h*(1-o)),n={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return s},i.rangeExtent=function(){return er(n.a[0])},i.copy=function(){return t(e,n)},i.domain(e)}([],{t:"range",a:[[]]})},to.scale.category10=function(){return to.scale.ordinal().range(vs)},to.scale.category20=function(){return to.scale.ordinal().range(ys)},to.scale.category20b=function(){return to.scale.ordinal().range(_s)},to.scale.category20c=function(){return to.scale.ordinal().range(xs)};var vs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),ys=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),_s=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),xs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);to.scale.quantile=function(){return function t(e,o){function a(){var t=0,n=o.length;for(l=[];++t<n;)l[t-1]=to.quantile(e,t/n);return s}function s(t){return isNaN(t=+t)?void 0:o[to.bisect(l,t)]}var l;return s.domain=function(t){return arguments.length?(e=t.map(i).filter(r).sort(n),a()):e},s.range=function(t){return arguments.length?(o=t,a()):o},s.quantiles=function(){return l},s.invertExtent=function(t){return 0>(t=o.indexOf(t))?[NaN,NaN]:[t>0?l[t-1]:e[0],t<l.length?l[t]:e[e.length-1]]},s.copy=function(){return t(e,o)},a()}([],[])},to.scale.quantize=function(){return function t(e,n,i){function r(t){return i[Math.max(0,Math.min(s,Math.floor(a*(t-e))))]}function o(){return a=i.length/(n-e),s=i.length-1,r}var a,s;return r.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],o()):[e,n]},r.range=function(t){return arguments.length?(i=t,o()):i},r.invertExtent=function(t){return[t=0>(t=i.indexOf(t))?NaN:t/a+e,t+1/a]},r.copy=function(){return t(e,n,i)},o()}(0,1,[0,1])},to.scale.threshold=function(){return function t(e,n){function i(t){return t>=t?n[to.bisect(e,t)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},i.copy=function(){return t(e,n)},i}([.5],[0,1])},to.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return cr(e,t)},n.tickFormat=function(t,n){return dr(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},to.svg={},to.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=a.apply(this,arguments)-Oo,d=s.apply(this,arguments)-Oo,h=Math.abs(d-c),p=c>d?0:1;if(t>u&&(f=u,u=t,t=f),h>=Eo)return e(u,p)+(t?e(t,1-p):"")+"Z";var f,g,m,v,y,_,x,b,w,C,k,S,M=0,F=0,A=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===bs?Math.sqrt(t*t+u*u):+o.apply(this,arguments),p||(F*=-1),u&&(F=Z(m/u*Math.sin(v))),t&&(M=Z(m/t*Math.sin(v)))),u){y=u*Math.cos(c+F),_=u*Math.sin(c+F),x=u*Math.cos(d-F),b=u*Math.sin(d-F);var $=Math.abs(d-c-2*F)<=To?0:1;if(F&&xr(y,_,x,b)===p^$){var T=(c+d)/2;y=u*Math.cos(T),_=u*Math.sin(T),x=b=null}}else y=_=0;if(t){w=t*Math.cos(d-M),C=t*Math.sin(d-M),k=t*Math.cos(c+M),S=t*Math.sin(c+M);var P=Math.abs(c-d+2*M)<=To?0:1;if(M&&xr(w,C,k,S)===1-p^P){var E=(c+d)/2;w=t*Math.cos(E),C=t*Math.sin(E),k=S=null}}else w=C=0;if(h>Ao&&(f=Math.min(Math.abs(u-t)/2,+r.apply(this,arguments)))>.001){g=u>t^p?0:1;var O=f,D=f;if(To>h){var L=null==k?[w,C]:null==x?[y,_]:vn([y,_],[k,S],[x,b],[w,C]),R=y-L[0],z=_-L[1],I=x-L[0],q=b-L[1],N=1/Math.sin(Math.acos((R*I+z*q)/(Math.sqrt(R*R+z*z)*Math.sqrt(I*I+q*q)))/2),j=Math.sqrt(L[0]*L[0]+L[1]*L[1]);D=Math.min(f,(t-j)/(N-1)),O=Math.min(f,(u-j)/(N+1))}if(null!=x){var B=br(null==k?[w,C]:[k,S],[y,_],u,O,p),H=br([x,b],[w,C],u,O,p);f===O?A.push("M",B[0],"A",O,",",O," 0 0,",g," ",B[1],"A",u,",",u," 0 ",1-p^xr(B[1][0],B[1][1],H[1][0],H[1][1]),",",p," ",H[1],"A",O,",",O," 0 0,",g," ",H[0]):A.push("M",B[0],"A",O,",",O," 0 1,",g," ",H[0])}else A.push("M",y,",",_);if(null!=k){var V=br([y,_],[k,S],t,-D,p),G=br([w,C],null==x?[y,_]:[x,b],t,-D,p);f===D?A.push("L",G[0],"A",D,",",D," 0 0,",g," ",G[1],"A",t,",",t," 0 ",p^xr(G[1][0],G[1][1],V[1][0],V[1][1]),",",1-p," ",V[1],"A",D,",",D," 0 0,",g," ",V[0]):A.push("L",G[0],"A",D,",",D," 0 0,",g," ",V[0])}else A.push("L",w,",",C)}else A.push("M",y,",",_),null!=x&&A.push("A",u,",",u," 0 ",$,",",p," ",x,",",b),A.push("L",w,",",C),null!=k&&A.push("A",t,",",t," 0 ",P,",",1-p," ",k,",",S);return A.push("Z"),A.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=gr,i=mr,r=fr,o=bs,a=vr,s=yr,l=_r;return t.innerRadius=function(e){return arguments.length?(n=wt(e),t):n},t.outerRadius=function(e){return arguments.length?(i=wt(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=wt(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==bs?bs:wt(e),t):o},t.startAngle=function(e){return arguments.length?(a=wt(e),t):a},t.endAngle=function(e){return arguments.length?(s=wt(e),t):s},t.padAngle=function(e){return arguments.length?(l=wt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Oo;return[Math.cos(e)*t,Math.sin(e)*t]},t};var bs="auto";to.svg.line=function(){return wr(v)};var ws=to.map({linear:Cr,"linear-closed":kr,step:function(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")},"step-before":Sr,"step-after":Mr,basis:$r,"basis-open":function(t){if(t.length<4)return Cr(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Tr(Ss,o)+","+Tr(Ss,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Pr(n,o,a);return n.join("")},"basis-closed":function(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Tr(Ss,a),",",Tr(Ss,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Pr(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)r=u/n,(i=t[u])[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*l);return $r(t)},cardinal:function(t,e){return t.length<3?Cr(t):t[0]+Fr(t,Ar(t,e))},"cardinal-open":function(t,e){return t.length<4?Cr(t):t[1]+Fr(t.slice(1,-1),Ar(t,e))},"cardinal-closed":function(t,e){return t.length<3?kr(t):t[0]+Fr((t.push(t[0]),t),Ar([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Cr(t):t[0]+Fr(t,Or(t))}});ws.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Cs=[0,2/3,1/3,0],ks=[0,1/3,2/3,0],Ss=[0,1/6,2/3,1/6];to.svg.line.radial=function(){var t=wr(Dr);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Sr.reverse=Mr,Mr.reverse=Sr,to.svg.area=function(){return Lr(v)},to.svg.area.radial=function(){var t=Lr(Dr);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},to.svg.chord=function(){function t(t,a){var s=e(this,r,t,a),l=e(this,o,t,a);return"M"+s.p0+n(s.r,s.p1,s.a1-s.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(s,l)?i(s.r,s.p1,s.r,s.p0):i(s.r,s.p1,l.r,l.p0)+n(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,s.r,s.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=a.call(t,r,i),u=s.call(t,r,i)-Oo,c=l.call(t,r,i)-Oo;return{r:o,a0:u,a1:c,p0:[o*Math.cos(u),o*Math.sin(u)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e,n){return"A"+t+","+t+" 0 "+ +(n>To)+",1 "+e}function i(t,e,n,i){return"Q 0,0 "+i}var r=rn,o=on,a=Rr,s=vr,l=yr;return t.radius=function(e){return arguments.length?(a=wt(e),t):a},t.source=function(e){return arguments.length?(r=wt(e),t):r},t.target=function(e){return arguments.length?(o=wt(e),t):o},t.startAngle=function(e){return arguments.length?(s=wt(e),t):s},t.endAngle=function(e){return arguments.length?(l=wt(e),t):l},t},to.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),a=n.call(this,t,r),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(i))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=rn,n=on,i=zr;return t.source=function(n){return arguments.length?(e=wt(n),t):e},t.target=function(e){return arguments.length?(n=wt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},to.svg.diagonal.radial=function(){var t=to.svg.diagonal(),e=zr,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Oo;return[n*Math.cos(i),n*Math.sin(i)]}}(e=t)):e},t},to.svg.symbol=function(){function t(t,i){return(Ms.get(e.call(this,t,i))||Nr)(n.call(this,t,i))}var e=qr,n=Ir;return t.type=function(n){return arguments.length?(e=wt(n),t):e},t.size=function(e){return arguments.length?(n=wt(e),t):n},t};var Ms=to.map({circle:Nr,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*As)),n=e*As;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fs),n=e*Fs/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fs),n=e*Fs/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});to.svg.symbolTypes=Ms.keys();var Fs=Math.sqrt(3),As=Math.tan(30*Do);xo.transition=function(t){for(var e,n,i=$s||++Os,r=Gr(t),o=[],a=Ts||{time:Date.now(),ease:ii,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&Ur(n,c,r,i,a),e.push(n)}return Br(o,r,i)},xo.interrupt=function(t){return this.each(null==t?Ps:jr(Gr(t)))};var $s,Ts,Ps=jr(Gr()),Es=[],Os=0;Es.call=xo.call,Es.empty=xo.empty,Es.node=xo.node,Es.size=xo.size,to.transition=function(t,e){return t&&t.transition?$s?t.transition(e):t:to.selection().transition(t)},to.transition.prototype=Es,Es.select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=F(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),Ur(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Br(a,o,r)},Es.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,l=[];t=A(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],h=-1,p=d.length;++h<p;)if(i=d[h]){o=i[s][a],n=t.call(i,i.__data__,h,u),l.push(e=[]);for(var f=-1,g=n.length;++f<g;)(r=n[f])&&Ur(r,f,s,a,o),e.push(r)}return Br(l,s,a)},Es.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=N(t));for(var r=0,o=this.length;o>r;r++){i.push(e=[]);for(var a,s=0,l=(a=this[r]).length;l>s;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return Br(i,this.namespace,this.id)},Es.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):B(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Es.attr=function(t,e){function n(){this.removeAttribute(o)}function i(){this.removeAttributeNS(o.space,o.local)}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r="transform"==t?pi:Xn,o=to.ns.qualify(t);return Hr(this,"attr."+t,e,o.local?function(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(o.space,o.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(o.space,o.local,e(t))})})}:function(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(o);return n!==t&&(e=r(n,t),function(t){this.setAttribute(o,e(t))})})})},Es.attrTween=function(t,e){var n=to.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,i){var r=e.call(this,t,i,this.getAttributeNS(n.space,n.local));return r&&function(t){this.setAttributeNS(n.space,n.local,r(t))}}:function(t,i){var r=e.call(this,t,i,this.getAttribute(n));return r&&function(t){this.setAttribute(n,r(t))}})},Es.style=function(t,n,i){function r(){this.style.removeProperty(t)}var o=arguments.length;if(3>o){if("string"!=typeof t){for(i in 2>o&&(n=""),t)this.style(i,t[i],n);return this}i=""}return Hr(this,"style."+t,n,function(n){return null==n?r:(n+="",function(){var r,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=Xn(o,n),function(e){this.style.setProperty(t,r(e),i)})})})},Es.styleTween=function(t,n,i){return arguments.length<3&&(i=""),this.tween("style."+t,function(r,o){var a=n.call(this,r,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}})},Es.text=function(t){return Hr(this,"text",t,Vr)},Es.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Es.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=to.ease.apply(to,arguments)),B(this,function(i){i[n][e].ease=t}))},Es.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:B(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},Es.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:B(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Es.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Ts,o=$s;try{$s=n,B(this,function(e,r,o){Ts=e[i][n],t.call(e,e.__data__,r,o)})}finally{Ts=r,$s=o}}else B(this,function(r){var o=r[i][n];(o.event||(o.event=to.dispatch("start","end","interrupt"))).on(t,e)});return this},Es.transition=function(){for(var t,e,n,i=this.id,r=++Os,o=this.namespace,a=[],s=0,l=this.length;l>s;s++){a.push(t=[]);for(var u,c=0,d=(u=this[s]).length;d>c;c++)(e=u[c])&&Ur(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Br(a,o,r)},to.svg.axis=function(){function t(t){t.each(function(){var t,u=to.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),h=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,p=null==e?d.tickFormat?d.tickFormat.apply(d,s):v:e,f=u.selectAll(".tick").data(h,d),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Ao),m=to.transition(f.exit()).style("opacity",Ao).remove(),y=to.transition(f.order()).style("opacity",1),_=Math.max(r,0)+a,x=nr(d),b=u.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),to.transition(b));g.append("line"),g.append("text");var C,k,S,M,F=g.select("line"),A=y.select("line"),$=f.select("text").text(p),T=g.select("text"),P=y.select("text"),E="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Jr,C="x",S="y",k="x2",M="y2",$.attr("dy",0>E?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+E*o+"V0H"+x[1]+"V"+E*o)):(t=Wr,C="y",S="x",k="y2",M="x2",$.attr("dy",".32em").style("text-anchor",0>E?"end":"start"),w.attr("d","M"+E*o+","+x[0]+"H0V"+x[1]+"H"+E*o)),F.attr(M,E*r),T.attr(S,E*_),A.attr(k,0).attr(M,E*r),P.attr(C,0).attr(S,E*_),d.rangeBand){var O=d,D=O.rangeBand()/2;c=d=function(t){return O(t)+D}}else c.rangeBand?c=d:m.call(t,d,c);g.call(t,c,d),y.call(t,d,d)})}var e,n=to.scale.linear(),i=Ds,r=6,o=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Ls?e+"":Ds,t):i},t.ticks=function(){return arguments.length?(s=no(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Ds="bottom",Ls={top:1,right:1,bottom:1,left:1};to.svg.brush=function(){function t(e){e.each(function(){var e=to.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,v);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Rs[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,d=to.transition(e),h=to.transition(a);u&&(l=nr(u),h.attr("x",l[0]).attr("width",l[1]-l[0]),i(d)),c&&(l=nr(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(d)),n(d)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+d[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",d[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function o(){function o(){var t=to.mouse(_),e=!1;y&&(t[0]+=y[0],t[1]+=y[1]),F||(to.event.altKey?(v||(v=[(d[0]+d[1])/2,(h[0]+h[1])/2]),$[0]=d[+(t[0]<v[0])],$[1]=h[+(t[1]<v[1])]):v=null),S&&g(t,u,0)&&(i(w),e=!0),M&&g(t,c,1)&&(r(w),e=!0),e&&(n(w),b({type:"brush",mode:F?"move":"resize"}))}function g(t,e,n){var i,r,o=nr(e),l=o[0],u=o[1],c=$[n],g=n?h:d,m=g[1]-g[0];return F&&(l-=c,u-=m+c),i=(n?f:p)?Math.max(l,Math.min(u,t[n])):t[n],F?r=(i+=c)+m:(v&&(c=Math.max(l,Math.min(u,2*v[n]-i))),i>c?(r=i,i=c):r=c),g[0]!=i||g[1]!=r?(n?s=null:a=null,g[0]=i,g[1]=r,!0):void 0}function m(){o(),w.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),to.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),b({type:"brushend"})}var v,y,_=this,x=to.select(to.event.target),b=l.of(_,arguments),w=to.select(_),k=x.datum(),S=!/^(n|s)$/.test(k)&&u,M=!/^(e|w)$/.test(k)&&c,F=x.classed("extent"),A=J(_),$=to.mouse(_),T=to.select(e(_)).on("keydown.brush",function(){32==to.event.keyCode&&(F||(v=null,$[0]-=d[1],$[1]-=h[1],F=2),C())}).on("keyup.brush",function(){32==to.event.keyCode&&2==F&&($[0]+=d[1],$[1]+=h[1],F=0,C())});if(to.event.changedTouches?T.on("touchmove.brush",o).on("touchend.brush",m):T.on("mousemove.brush",o).on("mouseup.brush",m),w.interrupt().selectAll("*").interrupt(),F)$[0]=d[0]-$[0],$[1]=h[0]-$[1];else if(k){var P=+/w$/.test(k),E=+/^n/.test(k);y=[d[1-P]-$[0],h[1-E]-$[1]],$[0]=d[P],$[1]=h[E]}else to.event.altKey&&(v=$.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),to.select("body").style("cursor",x.style("cursor")),b({type:"brushstart"}),o()}var a,s,l=S(t,"brushstart","brush","brushend"),u=null,c=null,d=[0,0],h=[0,0],p=!0,f=!0,g=zs[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:d,y:h,i:a,j:s},n=this.__chart__||e;this.__chart__=e,$s?to.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,d=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Qn(d,e.x),i=Qn(h,e.y);return a=s=null,function(r){d=e.x=n(r),h=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(g=zs[!(u=e)<<1|!c],t):u},t.y=function(e){return arguments.length?(g=zs[!u<<1|!(c=e)],t):c},t.clamp=function(e){return arguments.length?(u&&c?(p=!!e[0],f=!!e[1]):u?p=!!e:c&&(f=!!e),t):u&&c?[p,f]:u?p:c?f:null},t.extent=function(e){var n,i,r,o,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),a=[n,i],u.invert&&(n=u(n),i=u(i)),n>i&&(l=n,n=i,i=l),n==d[0]&&i==d[1]||(d=[n,i])),c&&(r=e[0],o=e[1],u&&(r=r[1],o=o[1]),s=[r,o],c.invert&&(r=c(r),o=c(o)),r>o&&(l=r,r=o,o=l),r==h[0]&&o==h[1]||(h=[r,o])),t):(u&&(a?(n=a[0],i=a[1]):(n=d[0],i=d[1],u.invert&&(n=u.invert(n),i=u.invert(i)),n>i&&(l=n,n=i,i=l))),c&&(s?(r=s[0],o=s[1]):(r=h[0],o=h[1],c.invert&&(r=c.invert(r),o=c.invert(o)),r>o&&(l=r,r=o,o=l))),u&&c?[[n,r],[i,o]]:u?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(d=[0,0],h=[0,0],a=s=null),t},t.empty=function(){return!!u&&d[0]==d[1]||!!c&&h[0]==h[1]},to.rebind(t,l,"on")};var Rs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Is=ia.format=ua.timeFormat,qs=Is.utc,Ns=qs("%Y-%m-%dT%H:%M:%S.%LZ");Is.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Yr:Ns,Yr.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Yr.toString=Ns.toString,ia.second=Ot(function(t){return new ra(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ia.seconds=ia.second.range,ia.seconds.utc=ia.second.utc.range,ia.minute=Ot(function(t){return new ra(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ia.minutes=ia.minute.range,ia.minutes.utc=ia.minute.utc.range,ia.hour=Ot(function(t){var e=t.getTimezoneOffset()/60;return new ra(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ia.hours=ia.hour.range,ia.hours.utc=ia.hour.utc.range,ia.month=Ot(function(t){return(t=ia.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ia.months=ia.month.range,ia.months.utc=ia.month.utc.range;var js=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Bs=[[ia.second,1],[ia.second,5],[ia.second,15],[ia.second,30],[ia.minute,1],[ia.minute,5],[ia.minute,15],[ia.minute,30],[ia.hour,1],[ia.hour,3],[ia.hour,6],[ia.hour,12],[ia.day,1],[ia.day,2],[ia.week,1],[ia.month,1],[ia.month,3],[ia.year,1]],Hs=Is.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",be]]),Vs={range:function(t,e,n){return to.range(Math.ceil(t/n)*n,+e,n).map(Xr)},floor:v,ceil:v};Bs.year=ia.year,ia.scale=function(){return Kr(to.scale.linear(),Bs,Hs)};var Gs=Bs.map(function(t){return[t[0].utc,t[1]]}),Us=qs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",be]]);Gs.year=ia.year.utc,ia.scale.utc=function(){return Kr(to.scale.linear(),Gs,Us)},to.text=Ct(function(t){return t.responseText}),to.json=function(t,e){return kt(t,"application/json",Qr,e)},to.html=function(t,e){return kt(t,"text/html",Zr,e)},to.xml=Ct(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=to,define(to)):"object"==typeof module&&module.exports?module.exports=to:this.d3=to}(),function(t,e){"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof module&&module.exports?module.exports=function(t){return t.tip=e(t),t.tip}:t.d3.tip=e(t.d3)}(this,function(t){return function(){var e=function(){return"n"},n=function(){return[0,0]},i=function(){return" "},r=d(),o=null,a=null,s=null;function l(t){var e;o="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,a=o.createSVGPoint(),document.body.appendChild(r)}l.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(s=t.pop());var r,o=i.apply(this,t),a=n.apply(this,t),d=e.apply(this,t),p=h(),f=c.length,g=document.documentElement.scrollTop||document.body.scrollTop,m=document.documentElement.scrollLeft||document.body.scrollLeft;for(p.html(o).style({display:"block","pointer-events":"all"}).attr("class","d3-tip"),p.append("div").attr("class","d3-tip-arrow");f--;)p.classed(c[f],!1);return r=u.get(d).apply(this),p.classed(d,!0).style({top:r.top+a[0]+g+"px",left:r.left+a[1]+m+"px"}),l},l.hide=function(){return h().style({display:"none","pointer-events":"none"}),l},l.attr=function(e,n){if(arguments.length<2&&"string"==typeof e)return h().attr(e);var i=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(h(),i),l},l.style=function(e,n){if(arguments.length<2&&"string"==typeof e)return h().style(e);var i=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(h(),i),l},l.direction=function(n){return arguments.length?(e=null==n?n:t.functor(n),l):e},l.offset=function(e){return arguments.length?(n=null==e?e:t.functor(e),l):n},l.html=function(e){return arguments.length?(i=null==e?e:t.functor(e),l):i},l.destroy=function(){return r&&(h().remove(),r=null),l};var u=t.map({n:function(){var t=p();return{top:t.n.y-r.offsetHeight,left:t.n.x-r.offsetWidth/2}},s:function(){var t=p();return{top:t.s.y,left:t.s.x-r.offsetWidth/2}},e:function(){var t=p();return{top:t.e.y-r.offsetHeight/2,left:t.e.x}},w:function(){var t=p();return{top:t.w.y-r.offsetHeight/2,left:t.w.x-r.offsetWidth}},nw:function(){var t=p();return{top:t.nw.y-r.offsetHeight,left:t.nw.x-r.offsetWidth}},ne:function(){var t=p();return{top:t.ne.y-r.offsetHeight,left:t.ne.x}},sw:function(){var t=p();return{top:t.sw.y,left:t.sw.x-r.offsetWidth}},se:function(){var t=p();return{top:t.se.y,left:t.e.x}}}),c=u.keys();function d(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,display:"none","pointer-events":"none","box-sizing":"border-box"}),e.node()}function h(){return null===r&&(r=d(),document.body.appendChild(r)),t.select(r)}function p(){for(var e=s||t.event.target;void 0===e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},i=e.getScreenCTM(),r=e.getBBox(),o=r.width,l=r.height,u=r.x,c=r.y;return a.x=u,a.y=c,n.nw=a.matrixTransform(i),a.x+=o,n.ne=a.matrixTransform(i),a.y+=l,n.se=a.matrixTransform(i),a.x-=o,n.sw=a.matrixTransform(i),a.y-=l/2,n.w=a.matrixTransform(i),a.x+=o,n.e=a.matrixTransform(i),a.x-=o/2,a.y-=l/2,n.n=a.matrixTransform(i),a.y+=l,n.s=a.matrixTransform(i),n}return l}}),function(t,e){"use strict";if("object"==typeof exports)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],function(n){return t.dimple=e(n),t.dimple});else if(t.d3)t.dimple=e(t.d3);else{if(!console||!console.warn)throw"dimple requires d3 to run.  Are you missing a reference to the d3 library?";console.warn("dimple requires d3 to run.  Are you missing a reference to the d3 library?")}}(this,function(t){"use strict";var e={version:"2.1.6",plot:{},aggregateMethod:{},axis:function(n,i,r,o,a,s){this.chart=n,this.position=i,this.categoryFields=null==a?r:[].concat(a),this.measure=o,this.timeField=a,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=null==s||s,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var t,e,n=[],i=!1;if(this.chart&&this.chart.series){for(t=0;t<this.chart.series.length;t+=1)(e=this.chart.series[t])[this.position]===this&&(e.data&&e.data.length>0?n=n.concat(e.data):i=!0);i&&this.chart.data&&(n=n.concat(this.chart.data))}return n},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getFormat=function(){var e,n,i,r,o,a,s;return null!==this.tickFormat&&void 0!==this.tickFormat?e=this._hasTimeField()?t.time.format(this.tickFormat):t.format(this.tickFormat):this.showPercent?e=t.format("%"):this.useLog&&null!==this.measure?e=function(e){var n=Math.floor(Math.abs(e),0).toString().length,i=Math.min(Math.floor((n-1)/3),4),r="kmBT".substring(i-1,i),o="0"===Math.round(e/Math.pow(1e3,i)*10).toString().slice(-1)?0:1;return 0===e?0:t.format(",."+o+"f")(e/Math.pow(1e3,i))+r}:null!==this.measure?(n=Math.floor(Math.abs(this._max),0).toString(),i=Math.floor(Math.abs(this._min),0).toString(),(r=Math.max(i.length,n.length))>3?(o=Math.min(Math.floor((r-1)/3),4),a="kmBT".substring(o-1,o),s=1>=r-3*o?1:0,e=function(e){return 0===e?0:t.format(",."+s+"f")(e/Math.pow(1e3,o))+a}):(s=-Math.floor(Math.log(this._tick_step)/Math.LN10),e=t.format(",."+s+"f"))):e=function(t){return t},e},this._getTimePeriod=function(){var e=this.timePeriod,n=30,i=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(e=n>=i/1e3?t.time.seconds:n>=i/6e4?t.time.minutes:n>=i/36e5?t.time.hours:n>=i/864e5?t.time.days:n>=i/6048e5?t.time.weeks:n>=i/26298e5?t.time.months:t.time.years),e},this._getTooltipText=function(e,n){if(this._hasTimeField())n[this.position+"Field"][0]&&e.push(this.timeField+": "+this._getFormat()(n[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(t,i){null!=t&&n[this.position+"Field"][i]&&e.push(t+(n[this.position+"Field"][i]!==t?": "+n[this.position+"Field"][i]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":e.push(this.measure+": "+this._getFormat()(n.width));break;case"y":e.push(this.measure+": "+this._getFormat()(n.height));break;case"p":e.push(this.measure+": "+this._getFormat()(n.angle)+" ("+t.format("%")(n.piePct)+")");break;default:e.push(this.measure+": "+this._getFormat()(n[this.position+"Value"]))}},this._getTopMaster=function(){var t=this;return null!==this.master&&void 0!==this.master&&(t=this.master._getTopMaster()),t},this._hasCategories=function(){return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0},this._hasMeasure=function(){return null!==this.measure&&void 0!==this.measure},this._hasTimeField=function(){return null!==this.timeField&&void 0!==this.timeField},this._parseDate=function(e){return null===this.dateParseFormat||void 0===this.dateParseFormat?isNaN(e)?Date.parse(e):new Date(e):t.time.format(this.dateParseFormat).parse(e)},this._update=function(n){var i,r,o,a,s=[],l=this.ticks||10,u=function(t,n,i){var r,o,a=t.categoryFields[0],s=t._getAxisData(),l=a,u=!1,c=!0,d=null;for(r=0;r<s.length;r+=1)if(null!=(d=t._parseDate(s[r][a]))&&isNaN(d)){c=!1;break}return c||t.chart.series.forEach(function(e){e[n]===t&&e[i]._hasMeasure()&&(l=e[i].measure,u=!0)},this),o=t._orderRules.concat({ordering:l,desc:u}),e._getOrderedList(s,a,o)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=null!==this.overrideMin?this.overrideMin:this._min,this._max=null!==this.overrideMax?this.overrideMax:this._max,"x"!==this.position||null!==this._scale&&!n){if("y"!==this.position||null!==this._scale&&!n)this.position.length>0&&"z"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scale.log().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scale.linear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"p"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scale.log().range([0,360]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scale.linear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"c"===this.position[0]&&null===this._scale&&(this._scale=t.scale.linear().range([0,null===this.colors||1===this.colors.length?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(s=u(this,"y","x"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){s=s.concat(u(t,"y","x"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(s.concat([""]))):this._scale=t.scale.linear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=t.svg.axis().orient("left").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("right").scale(this._scale),this.ticks&&this._draw.ticks(l)}}else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(s=u(this,"x","y"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){s=s.concat(u(t,"x","y"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(s.concat([""]))):this._scale=t.scale.linear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=t.svg.axis().orient("bottom").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("top").scale(this._scale),this.ticks&&this._draw.ticks(l)}return null!==this._slaves&&void 0!==this._slaves&&this._slaves.length>0&&this._slaves.forEach(function(t){t._scale=this._scale},this),null!=n&&!1!==n||this._hasTimeField()||null===this._scale||null===this._scale.ticks||void 0===this._scale.ticks||!(this._scale.ticks(l).length>0)||"x"!==this.position&&"y"!==this.position||(r=(i=this._scale.ticks(l))[1]-i[0],o=((this._max-this._min)%r).toFixed(0),this._tick_step=r,0!==o&&(this._max=Math.ceil(this._max/r)*r,this._min=Math.floor(this._min/r)*r,this._update(!0))),a=null!=s&&s.length>0?this._scale.copy()(s[0]):this._min>0?this._scale.copy()(this._min):this._max<0?this._scale.copy()(this._max):this._scale.copy()(0),this._origin!==a&&(this._previousOrigin=null===this._origin?a:this._origin,this._origin=a),this},this.addGroupOrderRule=function(t,e){this._groupOrderRules.push({ordering:t,desc:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})}},chart:function(n,i){this.svg=n,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=i,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease="cubic-in-out",this.staggerDraw=!1,this._group=n.append("g"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(t,e){var n=0,i=0,r=-1;for(n=0;n<this.axes.length;n+=1){if(this.axes[n]===t){r=i;break}(null==e||e[0]===this.axes[n].position[0])&&(i+=1)}return r},this._getAllData=function(){var t=[];return null!==this.data&&void 0!==this.data&&this.data.length>0&&(t=t.concat(this.data)),null!==this.series&&void 0!==this.series&&this.series.length>0&&this.series.forEach(function(e){null!==e.data&&void 0!==e.data&&e.data.length>0&&(t=t.concat(e.data))}),t},this._getData=function(n,i,r,o,a,s,l,u,c,d){var h,p,f=[],g=function(t,e){var n=[];return null!==t&&(t._hasTimeField()?n.push(t._parseDate(e[t.timeField])):t._hasCategories()&&t.categoryFields.forEach(function(t){n.push(e[t])},this)),n},m={x:!1,y:!1,z:!1,p:!1,c:!1},v={x:[],y:[]},y={x:[],y:[],z:[],p:[]},_={min:null,max:null},x={x:[],y:[],z:[],p:[]},b=[],w={},C={x:0,y:0,z:0,p:0},k="",S=[],M=[],F=[],A="",$=[],T="",P=[],E="",O=[],D=[],L=n,R=[];for(p in this.storyboard&&this.storyboard.categoryFields.length>0&&(k=this.storyboard.categoryFields[0],S=e._getOrderedList(L,k,this.storyboard._orderRules)),s&&s._hasCategories()&&s._hasMeasure()&&(A=s.categoryFields[0],$=e._getOrderedList(L,A,s._orderRules.concat([{ordering:s.measure,desc:!0}]))),l&&l._hasCategories()&&l._hasMeasure()&&(T=l.categoryFields[0],P=e._getOrderedList(L,T,l._orderRules.concat([{ordering:l.measure,desc:!0}]))),c&&c._hasCategories()&&c._hasMeasure()&&(E=c.categoryFields[0],O=e._getOrderedList(L,E,c._orderRules.concat([{ordering:c.measure,desc:!0}]))),L.length>0&&i&&i.length>0&&(D=[].concat(o),M=[],i.forEach(function(t){void 0!==L[0][t]&&M.push(t)},this),c&&c._hasMeasure()?D.push({ordering:c.measure,desc:!0}):d&&d._hasMeasure()?D.push({ordering:d.measure,desc:!0}):u&&u._hasMeasure()?D.push({ordering:u.measure,desc:!0}):s&&s._hasMeasure()?D.push({ordering:s.measure,desc:!0}):l&&l._hasMeasure()&&D.push({ordering:l.measure,desc:!0}),F=e._getOrderedList(L,M,D)),L.sort(function(t,e){var n,i,r,o,a,s,l=0;if(""!==k&&(l=S.indexOf(t[k])-S.indexOf(e[k])),""!==A&&0===l&&(l=$.indexOf(t[A])-$.indexOf(e[A])),""!==T&&0===l&&(l=P.indexOf(t[T])-P.indexOf(e[T])),""!==E&&0===l&&(l=O.indexOf(t[E])-P.indexOf(e[E])),M&&M.length>0&&0===l)for(n=[].concat(M),l=0,r=0;r<F.length;r+=1){for(i=[].concat(F[r]),a=!0,s=!0,o=0;o<n.length;o+=1)a=a&&t[n[o]]===i[o],s=s&&e[n[o]]===i[o];if(a&&s){l=0;break}if(a){l=-1;break}if(s){l=1;break}}return l}),L.forEach(function(t){var e,n,o,a,h,p=-1,v=g(s,t),y=g(l,t),_=g(u,t),x=g(c,t),b=[];if(i&&0!==i.length)for(o=0;o<i.length;o+=1)void 0===t[i[o]]?b.push(i[o]):b.push(t[i[o]]);else b=["All"];for(e=b.join("/")+"_"+v.join("/")+"_"+y.join("/")+"_"+x.join("/")+"_"+_.join("/"),n=0;n<f.length;n+=1)if(f[n].key===e){p=n;break}-1===p&&(a={key:e,aggField:b,xField:v,xValue:null,xCount:0,yField:y,yValue:null,yCount:0,pField:x,pValue:null,pCount:0,zField:_,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},f.push(a),p=f.length-1),(h=function(e,n){var i,o,a=!0,s={value:0,count:1},l={value:0,count:1},u="";null!==n&&(i=n.getFrameValue(),n.categoryFields.forEach(function(e,n){n>0&&(u+="/"),u+=t[e],a=u===i},this)),null!=e&&a&&(o=f[p],e._hasMeasure()&&null!==t[e.measure]&&void 0!==t[e.measure]&&(-1===o[e.position+"ValueList"].indexOf(t[e.measure])&&o[e.position+"ValueList"].push(t[e.measure]),isNaN(parseFloat(t[e.measure]))&&(m[e.position]=!0),s.value=o[e.position+"Value"],s.count=o[e.position+"Count"],l.value=t[e.measure],o[e.position+"Value"]=r(s,l),o[e.position+"Count"]+=1))})(s,this.storyboard),h(l,this.storyboard),h(u,this.storyboard),h(c,this.storyboard),h(d,this.storyboard)},this),s&&s._hasCategories()&&s.categoryFields.length>1&&void 0!==v.x&&(R=[],l._hasMeasure()&&R.push({ordering:l.measure,desc:!0}),v.x=e._getOrderedList(L,s.categoryFields[1],s._groupOrderRules.concat(R))),l&&l._hasCategories()&&l.categoryFields.length>1&&void 0!==v.y&&(R=[],s._hasMeasure()&&R.push({ordering:s.measure,desc:!0}),v.y=e._getOrderedList(L,l.categoryFields[1],l._groupOrderRules.concat(R)),v.y.reverse()),f.forEach(function(t){null!==s&&(!0===m.x&&(t.xValue=t.xValueList.length),h=(y.x[t.xField.join("/")]||0)+(l._hasMeasure()?Math.abs(t.yValue):0),y.x[t.xField.join("/")]=h),null!==l&&(!0===m.y&&(t.yValue=t.yValueList.length),h=(y.y[t.yField.join("/")]||0)+(s._hasMeasure()?Math.abs(t.xValue):0),y.y[t.yField.join("/")]=h),null!==c&&(!0===m.p&&(t.pValue=t.pValueList.length),h=(y.p[t.pField.join("/")]||0)+(c._hasMeasure()?Math.abs(t.pValue):0),y.p[t.pField.join("/")]=h),null!==u&&(!0===m.z&&(t.zValue=t.zValueList.length),h=(y.z[t.zField.join("/")]||0)+(u._hasMeasure()?Math.abs(t.zValue):0),y.z[t.zField.join("/")]=h),null!==d&&((null===_.min||t.cValue<_.min)&&(_.min=t.cValue),(null===_.max||t.cValue>_.max)&&(_.max=t.cValue))},this),y.x)y.x.hasOwnProperty(p)&&(C.x+=y.x[p]);for(p in y.y)y.y.hasOwnProperty(p)&&(C.y+=y.y[p]);for(p in y.p)y.p.hasOwnProperty(p)&&(C.p+=y.p[p]);for(p in y.z)y.z.hasOwnProperty(p)&&(C.z+=y.z[p]);return f.forEach(function(e){var n,i,r,o,h=function(t,n,i){var r,o,s,l,u;null!=t&&(l=t.position,t._hasCategories()?t._hasMeasure()?(r=e[t.position+"Field"].join("/"),o=t.showPercent?y[t.position][r]/C[t.position]:y[t.position][r],-1===b.indexOf(r)&&(w[r]=o+(b.length>0?w[b[b.length-1]]:0),b.push(r)),s=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!a?o:w[r],e[i]=o,e[l]=s-("x"===l&&o>=0||"y"===l&&0>=o?o:0)):(e[l]=e["c"+l]=e[l+"Field"][0],e[i]=1,void 0!==v[l]&&null!==v[l]&&v[l].length>=2&&(e[l+"Offset"]=v[l].indexOf(e[l+"Field"][1]),e[i]=1/v[l].length)):(o=t.showPercent?e[l+"Value"]/y[n][e[n+"Field"].join("/")]:e[l+"Value"],r=e[n+"Field"].join("/")+(e[l+"Value"]>=0),u=x[l][r]=(null===x[l][r]||void 0===x[l][r]||"z"===l||"p"===l?0:x[l][r])+o,s=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!a?o:u,e[i]=o,e[l]=s-("x"===l&&o>=0||"y"===l&&0>=o?o:0)))};h(s,"y","width"),h(l,"x","height"),h(u,"z","r"),h(c,"p","angle"),null!==d&&null!==_.min&&null!==_.max&&(_.min===_.max&&(_.min-=.5,_.max+=.5),_.min=d.overrideMin||_.min,_.max=d.overrideMax||_.max,e.cValue=e.cValue>_.max?_.max:e.cValue<_.min?_.min:e.cValue,o=(r=t.scale.linear().range([0,null===d.colors||1===d.colors.length?1:d.colors.length-1]).domain([_.min,_.max])(e.cValue))-Math.floor(r),e.cValue===_.max&&(o=1),d.colors&&1===d.colors.length?(n=t.rgb(d.colors[0]),i=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)):d.colors&&d.colors.length>1?(n=t.rgb(d.colors[Math.floor(r)]),i=t.rgb(d.colors[Math.ceil(r)])):(n=t.rgb("white"),i=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)),n.r=Math.floor(n.r+(i.r-n.r)*o),n.g=Math.floor(n.g+(i.g-n.g)*o),n.b=Math.floor(n.b+(i.b-n.b)*o),e.fill=n.toString(),e.stroke=n.darker(.5).toString())},this),f},this._getDelay=function(t,n,i){return function(r){var o=0;return i&&n.staggerDraw&&(i.x._hasCategories()?o=e._helpers.cx(r,n,i)/n._widthPixels()*t:i.y._hasCategories()&&(o=(1-e._helpers.cy(r,n,i)/n._heightPixels())*t)),o}},this._getSeriesData=function(){null!==this.series&&void 0!==this.series&&this.series.forEach(function(t){var e,n,i,r,o,a=t.data||this.data||[],s=[].concat(t.categoryFields||"All"),l=this._getData(a,s,t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),u=[],c={},d=t.startAngle*(Math.PI/180)||0,h=(t.endAngle||360)*(Math.PI/180);if(d>h&&(d-=2*Math.PI),t.p&&s.length>0){if(t.x&&t.y){for(s.pop(),u=this._getData(a,["__dimple_placeholder__"].concat(s),t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),e=0;e<l.length;e+=1)for((i=["__dimple_placeholder__"].concat(l[e].aggField)).pop(),t.x&&t.x._hasCategories()&&(i=i.concat(l[e].xField)),t.y&&t.y._hasCategories()&&(i=i.concat(l[e].yField)),r=i.join("|"),n=0;n<u.length;n+=1)if(o=[].concat(u[n].aggField),t.x&&t.x._hasCategories()&&(o=o.concat(u[n].xField)),t.y&&t.y._hasCategories()&&(o=o.concat(u[n].yField)),r===o.join("|")){l[e].xField=u[n].xField,l[e].xValue=u[n].xValue,l[e].xCount=u[n].xCount,l[e].yField=u[n].yField,l[e].yValue=u[n].yValue,l[e].yCount=u[n].yCount,l[e].zField=u[n].zField,l[e].zValue=u[n].zValue,l[e].zCount=u[n].zCount,l[e].x=u[n].x,l[e].y=u[n].y,l[e].r=u[n].r,l[e].xOffset=u[n].xOffset,l[e].yOffset=u[n].yOffset,l[e].width=u[n].width,l[e].height=u[n].height,l[e].cx=u[n].cx,l[e].cy=u[n].cy,l[e].xBound=u[n].xBound,l[e].yBound=u[n].yBound,l[e].xValueList=u[n].xValueList,l[e].yValueList=u[n].yValueList,l[e].zValueList=u[n].zValueList,l[e].cValueList=u[n].cValueList,l[e].pieKey=u[n].key,l[e].value=l.pValue,c[u[n].key]||(c[u[n].key]={total:0,angle:d}),c[u[n].key].total+=l[e].pValue;break}}else for(e=0;e<l.length;e+=1)l[e].pieKey="All",l[e].value=l.pValue,c[l[e].pieKey]||(c[l[e].pieKey]={total:0,angle:d}),c[l[e].pieKey].total+=l[e].pValue;for(e=0;e<l.length;e+=1)l[e].piePct=l[e].pValue/c[l[e].pieKey].total,l[e].startAngle=c[l[e].pieKey].angle,l[e].endAngle=l[e].startAngle+l[e].piePct*(h-d),c[l[e].pieKey].angle=l[e].endAngle}t._positionData=l},this)},this._handleTransition=function(t,e,n,i){return 0===e?t:t.transition().duration(e).delay(n._getDelay(e,n,i)).ease(n.ease)},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(n){null!==n._eventHandlers&&n._eventHandlers.length>0&&n._eventHandlers.forEach(function(i){var r,o=function(r){var o=new e.eventArgs;null!==n.chart.storyboard&&(o.frameValue=n.chart.storyboard.getFrameValue()),o.seriesValue=r.aggField,o.xValue=r.x,o.yValue=r.y,o.zValue=r.z,o.pValue=r.p,o.colorValue=r.cValue,o.seriesShapes=n.shapes,o.selectedShape=t.select(this),i.handler(o)};if(null!==i.handler&&"function"==typeof i.handler)if(null!==n._markers&&void 0!==n._markers)for(r in n._markers)n._markers.hasOwnProperty(r)&&n._markers[r].on(i.event,o);else n.shapes.on(i.event,o)},this)},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this.addAxis=function(t,n,i,r){var o=null,a=null;if(null!=n&&(n=[].concat(n)),"string"==typeof t||t instanceof String)o=new e.axis(this,t,n,i,r),this.axes.push(o);else{if(a=t,(o=new e.axis(this,a.position,n,i,r))._hasMeasure()!==a._hasMeasure())throw"You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.";if(o._hasTimeField()!==a._hasTimeField())throw"You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.";if((null===o.categoryFields||void 0===o.categoryFields?0:o.categoryFields.length)!==(null===a.categoryFields||void 0===a.categoryFields?0:a.categoryFields.length))throw"You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type.";a._slaves.push(o)}return o},this.addCategoryAxis=function(t,e){return this.addAxis(t,e,null)},this.addColorAxis=function(t,e){var n=this.addAxis("c",null,t);return n.colors=null==e?null:[].concat(e),n},this.addLegend=function(t,n,i,r,o,a){a=null==a?this.series:[].concat(a),o=null==o?"left":o;var s=new e.legend(this,t,n,i,r,o,a);return this.legends.push(s),s},this.addLogAxis=function(t,e,n){var i=this.addAxis(t,null,e,null);return null!=n&&(i.logBase=n),i.useLog=!0,i},this.addMeasureAxis=function(t,e){return this.addAxis(t,null,e)},this.addPctAxis=function(t,e,n){var i=null;return(i=null!=n?this.addAxis(t,n,e):this.addMeasureAxis(t,e)).showPercent=!0,i},this.addSeries=function(t,n,i){null==i&&(i=this.axes),null==n&&(n=e.plot.bubble);var r,o=null,a=null,s=null,l=null,u=null;return i.forEach(function(t){null!==t&&n.supportedAxes.indexOf(t.position)>-1&&(null===o&&"x"===t.position[0]?o=t:null===a&&"y"===t.position[0]?a=t:null===s&&"z"===t.position[0]?s=t:null===l&&"c"===t.position[0]?l=t:null===l&&"p"===t.position[0]&&(u=t))},this),t&&(t=[].concat(t)),r=new e.series(this,t,o,a,s,l,u,n,e.aggregateMethod.sum,n.stacked),this.series.push(r),r},this.addTimeAxis=function(t,e,n,i){var r=this.addAxis(t,null,null,e);return r.tickFormat=i,r.dateParseFormat=n,r},this.assignClass=function(t,e){return this._assignedClasses[t]=e,this._assignedClasses[t]},this.assignColor=function(t,n,i,r){return this._assignedColors[t]=new e.color(n,i,r),this._assignedColors[t]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new e.color("#80B1D3"),new e.color("#FB8072"),new e.color("#FDB462"),new e.color("#B3DE69"),new e.color("#FFED6F"),new e.color("#BC80BD"),new e.color("#8DD3C7"),new e.color("#CCEBC5"),new e.color("#FFFFB3"),new e.color("#BEBADA"),new e.color("#FCCDE5"),new e.color("#D9D9D9")],this.draw=function(e,n){e=e||0;var i,r,o=null,a=null,s=!1,l=!1,u=this._xPixels(),c=this._yPixels(),d=this._widthPixels(),h=this._heightPixels();return(null==n||!1===n)&&this._getSeriesData(),this.axes.forEach(function(t){t._scale=null},this),this.axes.forEach(function(t){if(t._min=0,t._max=0,r=[],t._hasMeasure()){var e=!1;this.series.forEach(function(n){if(n._deepMatch(t)){var i=n._axisBounds(t.position);t._min>i.min&&(t._min=i.min),t._max<i.max&&(t._max=i.max),e=!0}},this),e||this._getAllData().forEach(function(e){t._min>e[t.measure]&&(t._min=e[t.measure]),t._max<e[t.measure]&&(t._max=e[t.measure])},this)}else t._hasTimeField()?(t._min=null,t._max=null,this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].timeField&&void 0!==e[t.position].timeField&&-1===r.indexOf(e[t.position].timeField)&&r.push(e[t.position].timeField)},this),t._getAxisData().forEach(function(e){r.forEach(function(n){var i=t._parseDate(e[n]);(null===t._min||i<t._min)&&(t._min=i),(null===t._max||i>t._max)&&(t._max=i)},this)},this)):t._hasCategories()&&(t._min=0,i=[],this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].categoryFields[0]&&void 0!==e[t.position].categoryFields[0]&&-1===r.indexOf(e[t.position].categoryFields[0])&&r.push(e[t.position].categoryFields[0])},this),t._getAxisData().forEach(function(t){r.forEach(function(e){-1===i.indexOf(t[e])&&i.push(t[e])},this)},this),t._max=i.length);null!==t._slaves&&void 0!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(e){e._min=t._min,e._max=t._max},this),t._update(),null===o&&"x"===t.position?o=t:null===a&&"y"===t.position&&(a=t)},this),this.axes.forEach(function(n){var i=!1,r=null,p=0,f=null,g=!1,m=0,v={l:null,t:null,r:null,b:null},y=0,_=0,x="",b=this,w=function(t){return null===r||0===e||i?t:b._handleTransition(t,e,b)},C=function(){var e=t.select(this).selectAll("text");return!n.measure&&n._max>0&&("x"===n.position?e.attr("x",d/n._max/2):"y"===n.position&&e.attr("y",h/n._max*-1/2)),n.categoryFields&&n.categoryFields.length>0&&(n!==o||null!==a.categoryFields&&0!==a.categoryFields.length||e.attr("y",c+h-a._scale(0)+9),n!==a||null!==o.categoryFields&&0!==o.categoryFields.length||e.attr("x",-1*(o._scale(0)-u)-9)),this},k=function(e){return function(){var n=t.select(this).attr("class")||"";return-1===n.indexOf(e)&&(n+=" "+e),n.trim()}};null===n.gridlineShapes?(n.showGridlines||null===n.showGridlines&&!n._hasCategories()&&(!s&&"x"===n.position||!l&&"y"===n.position))&&(n.gridlineShapes=this._group.append("g").attr("class","dimple-gridline"),"x"===n.position?s=!0:l=!0):"x"===n.position?s=!0:l=!0,null===n.shapes&&(n.shapes=this._group.append("g").attr("class","dimple-axis dimple-axis-"+n.position).each(function(){b.noFormats||t.select(this).style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),i=!0),n===o&&null!==a?(r="translate(0, "+(null===a.categoryFields||0===a.categoryFields.length?a._scale(0):c+h)+")",f="translate(0, "+(n===o?c+h:c)+")",p=-h):n===a&&null!==o?(r="translate("+(null===o.categoryFields||0===o.categoryFields.length?o._scale(0):u)+", 0)",f="translate("+(n===a?u:u+d)+", 0)",p=-d):"x"===n.position?(f=r="translate(0, "+(n===o?c+h:c)+")",p=-h):"y"===n.position&&(f=r="translate("+(n===a?u:u+d)+", 0)",p=-d),null!==r&&null!==n._draw&&(n._hasTimeField()?w(n.shapes).call(n._draw.ticks(n._getTimePeriod(),n.timeInterval).tickFormat(n._getFormat())).attr("transform",r).each(C):n.useLog?w(n.shapes).call(n._draw.ticks(4,n._getFormat())).attr("transform",r).each(C):w(n.shapes).call(n._draw.tickFormat(n._getFormat())).attr("transform",r).each(C),null!==n.gridlineShapes&&w(n.gridlineShapes).call(n._draw.tickSize(p,0,0).tickFormat("")).attr("transform",f)),w(n.shapes.selectAll("text")).attr("class",k(b.customClassList.axisLabel)).call(function(){b.noFormats||this.style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),w(n.shapes.selectAll("path, line")).attr("class",k(b.customClassList.axisLine)).call(function(){b.noFormats||this.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),null!==n.gridlineShapes&&w(n.gridlineShapes.selectAll("line")).attr("class",k(b.customClassList.gridline)).call(function(){b.noFormats||this.style("fill","none").style("stroke","lightgray").style("opacity",.8)}),(null===n.measure||void 0===n.measure)&&(n.autoRotateLabel?n===o?(m=0,n.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>d/n.shapes.selectAll("text")[0].length?(g=!0,n.shapes.selectAll("text").style("text-anchor","start").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+e.x+","+(e.y+e.height/2)+") translate(-5, 0)")})):(g=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):"x"===n.position&&(m=0,n.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>d/n.shapes.selectAll("text")[0].length?(g=!0,n.shapes.selectAll("text").style("text-anchor","end").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+(e.x+e.width)+","+(e.y+e.height/2)+") translate(5, 0)")})):(g=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(g=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),null!==n.titleShape&&void 0!==n.titleShape&&n.titleShape.remove(),n.shapes.selectAll("text").each(function(){var t=this.getBBox();(null===v.l||-9-t.width<v.l)&&(v.l=-9-t.width),(null===v.r||t.x+t.width>v.r)&&(v.r=t.x+t.width),g?((null===v.t||t.y+t.height-t.width<v.t)&&(v.t=t.y+t.height-t.width),(null===v.b||t.height+t.width>v.b)&&(v.b=t.height+t.width)):((null===v.t||t.y<v.t)&&(v.t=t.y),(null===v.b||9+t.height>v.b)&&(v.b=9+t.height))}),"x"===n.position?(_=n===o?c+h+v.b+5:c+v.t-10,y=u+d/2):"y"===n.position&&(x="rotate(270, "+(y=n===a?u+v.l-10:u+d+v.r+20)+", "+(_=c+h/2)+")"),n.hidden||"x"!==n.position&&"y"!==n.position||null===n.title||(n.titleShape=this._group.append("text").attr("class","dimple-axis dimple-title "+b.customClassList.axisTitle+" dimple-axis-"+n.position),n.titleShape.attr("x",y).attr("y",_).attr("text-anchor","middle").attr("transform",x).text(void 0!==n.title?n.title:null===n.categoryFields||void 0===n.categoryFields||0===n.categoryFields.length?n.measure:n.categoryFields.join("/")).each(function(){b.noFormats||t.select(this).style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),n===o?n.titleShape.each(function(){t.select(this).attr("y",_+this.getBBox().height/1.65)}):n===a&&n.titleShape.each(function(){t.select(this).attr("x",y+this.getBBox().height/1.65)}))},this),this.series.forEach(function(t){t.plot.draw(this,t,e),this._registerEventHandlers(t)},this),this.legends.forEach(function(t){t._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(t){return this._assignedClasses[t]||(this._assignedClasses[t]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[t]},this.getColor=function(t){return(null===this._assignedColors[t]||void 0===this._assignedColors[t])&&(this._assignedColors[t]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[t]},this.setBounds=function(t,n,i,r){return this.x=t,this.y=n,this.width=i,this.height=r,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(t,n,i,r){return this.x=t,this.y=n,this.width=0,this.height=0,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parentWidth(this.svg.node())-this._xPixels()-e._parseXPosition(i,this.svg.node())},this._heightPixels=function(){return e._parentHeight(this.svg.node())-this._yPixels()-e._parseYPosition(r,this.svg.node())},this.draw(0,!0),this},this.setStoryboard=function(t,n){return this.storyboard=new e.storyboard(this,t),null!=n&&(this.storyboard.onTick=n),this.storyboard}},color:function(e,n,i){this.fill=e,this.stroke=null==n?t.rgb(e).darker(.5).toString():n,this.opacity=null==i?.8:i},eventArgs:function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null},legend:function(n,i,r,o,a,s,l){this.chart=n,this.series=l,this.x=i,this.y=r,this.width=o,this.height=a,this.horizontalAlign=s,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var n,i=this._getEntries(),r=0,o=0,a=0,s=0,l=this;this.shapes&&this.shapes.remove(),(n=this.chart._group.selectAll(".dimple-dont-select-any").data(i).enter().append("g").attr("class",function(t){return"dimple-legend "+e._createClass(t.aggField)}).attr("opacity",1)).append("text").attr("class",function(t){return"dimple-legend dimple-legend-text "+e._createClass(t.aggField)+" "+l.chart.customClassList.legendLabel}).text(function(t){return t.key}).call(function(){l.chart.noFormats||this.style("font-family",l.fontFamily).style("font-size",l._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var t=this.getBBox();t.width>r&&(r=t.width),t.height>o&&(o=t.height)}),n.append("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)}).attr("height",9).attr("width",15),o=(9>o?9:o)+l._getVerticalPadding(),r+=15+l._getHorizontalPadding(),n.each(function(n){a+r>l._widthPixels()&&(a=0,s+=o),s>l._heightPixels()?t.select(this).remove():(t.select(this).select("text").attr("x","left"===l.horizontalAlign?l._xPixels()+15+5+a:l._xPixels()+(l._widthPixels()-a-r)+15+5).attr("y",function(){return l._yPixels()+s+this.getBBox().height/1.65}).attr("width",l._widthPixels()).attr("height",l._heightPixels()),t.select(this).select("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)+" "+l.chart.customClassList.legendKey+" "+t.css}).attr("x","left"===l.horizontalAlign?l._xPixels()+a:l._xPixels()+(l._widthPixels()-a-r)).attr("y",l._yPixels()+s).attr("height",9).attr("width",15).call(function(){l.chart.noFormats||this.style("fill",n.fill).style("stroke",n.stroke).style("opacity",n.opacity).style("shape-rendering","crispEdges")}),a+=r)}),this.shapes=n},this._getEntries=function(){var t=[];return this.series&&this.series.forEach(function(e){e._positionData.forEach(function(n){var i,r=-1,o=e.plot.grouped&&!e.x._hasCategories()&&!e.y._hasCategories()&&n.aggField.length<2?"All":n.aggField.slice(-1)[0];for(i=0;i<t.length;i+=1)if(t[i].key===o){r=i;break}-1===r&&e.chart._assignedColors[o]&&(t.push({key:o,fill:e.chart._assignedColors[o].fill,stroke:e.chart._assignedColors[o].stroke,opacity:e.chart._assignedColors[o].opacity,css:e.chart._assignedClasses[o],series:e,aggField:n.aggField}),r=t.length-1)})},this),t},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getHorizontalPadding=function(){return isNaN(this.horizontalPadding)?20:this.horizontalPadding},this._getVerticalPadding=function(){return isNaN(this.verticalPadding)?2:this.verticalPadding},this._heightPixels=function(){return e._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.chart.svg.node())}},series:function(t,e,n,i,r,o,a,s,l,u){this.chart=t,this.x=n,this.y=i,this.z=r,this.c=o,this.p=a,this.plot=s,this.categoryFields=e,this.aggregate=l,this.stacked=u,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(t){var e,n,i,r={min:0,max:0},o=null,a=null,s=[],l=0,u=this._positionData;return"x"===t?(o=this.x,a=this.y):"y"===t?(o=this.y,a=this.x):"z"===t?o=this.z:"p"===t?o=this.p:"c"===t&&(o=this.c),o.showPercent?u.forEach(function(t){t[o.position+"Bound"]<r.min&&(r.min=t[o.position+"Bound"]),t[o.position+"Bound"]>r.max&&(r.max=t[o.position+"Bound"])},this):null===a||null===a.categoryFields||0===a.categoryFields.length?u.forEach(function(t){!this._isStacked()||"x"!==o.position&&"y"!==o.position?(t[o.position+"Value"]<r.min&&(r.min=t[o.position+"Value"]),t[o.position+"Value"]>r.max&&(r.max=t[o.position+"Value"])):t[o.position+"Value"]<0?r.min=r.min+t[o.position+"Value"]:r.max=r.max+t[o.position+"Value"]},this):(e=o.position+"Value",n=a.position+"Field",i=[],u.forEach(function(t){var r=t[n].join("/"),o=i.indexOf(r);-1===o&&(i.push(r),o=i.length-1),void 0===s[o]&&(s[o]={min:0,max:0},o>=l&&(l=o+1)),this.stacked?t[e]<0?s[o].min=s[o].min+t[e]:s[o].max=s[o].max+t[e]:(t[e]<s[o].min&&(s[o].min=t[e]),t[e]>s[o].max&&(s[o].max=t[e]))},this),s.forEach(function(t){void 0!==t&&(t.min<r.min&&(r.min=t.min),t.max>r.max&&(r.max=t.max))},this)),r},this._deepMatch=function(t){var e=!1;return this[t.position]===t?e=!0:void 0!==t._slaves&&null!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(t){e=e||this._deepMatch(t)},this),e},this._dropLineOrigin=function(){var t=0,e=0,n={x:null,y:null},i={x:null,y:null};return this.chart.axes.forEach(function(t){"x"===t.position&&null===i.x?t._hasTimeField()?i.x=this.chart._xPixels():i.x=t._origin:"y"===t.position&&null===i.y&&(t._hasTimeField()?i.y=this.chart._yPixels()+this.chart._heightPixels():i.y=t._origin)},this),this.chart.axes.forEach(function(r){"x"!==r.position||this.x.hidden?"y"!==r.position||this.y.hidden||(this._deepMatch(r)&&(0===e?n.x=i.x:1===e&&(n.x=this.chart._xPixels()+this.chart._widthPixels())),e+=1):(this._deepMatch(r)&&(0===t?n.y=i.y:1===t&&(n.y=this.chart._yPixels())),t+=1)},this),n},this._getTooltipFontSize=function(){return this.tooltipFontSize&&"auto"!==this.tooltipFontSize.toString().toLowerCase()?isNaN(this.tooltipFontSize)?this.tooltipFontSize:this.tooltipFontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(t,e){this._eventHandlers.push({event:t,handler:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getTooltipText=function(t){var e=[];return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0&&this.categoryFields.forEach(function(n,i){null!=n&&null!==t.aggField[i]&&void 0!==t.aggField[i]&&e.push(n+(t.aggField[i]!==n?": "+t.aggField[i]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(e,t),this.y&&this.y._hasCategories()&&this.y._getTooltipText(e,t),this.z&&this.z._hasCategories()&&this.z._getTooltipText(e,t),this.p._getTooltipText(e,t)):(this.x&&this.x._getTooltipText(e,t),this.y&&this.y._getTooltipText(e,t),this.z&&this.z._getTooltipText(e,t)),this.c&&this.c._getTooltipText(e,t),e.filter(function(t,n){return e.indexOf(t)===n})}},storyboard:function(t,e){null!=e&&(e=[].concat(e)),this.chart=t,this.categoryFields=e,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){if(!this.storyLabel){var t=this.chart,e=this,n=0;this.chart.axes.forEach(function(t){"x"===t.position&&(n+=1)},this),this.storyLabel=this.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",this.chart._xPixels()+.01*this.chart._widthPixels()).attr("y",this.chart._yPixels()+(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)*(n>1?1.25:-1)).call(function(){t.noFormats||this.style("font-family",e.fontFamily).style("font-size",e._getFontSize())})}this.storyLabel.text(this.categoryFields.join("\\")+": "+this.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(t){var e="";null!==this.categoryFields&&(this.categoryFields.forEach(function(n,i){i>0&&(e+="/"),e+=t[n]},this),-1===this._categories.indexOf(e)&&(this._categories.push(e),this._categories.length))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._goToFrameIndex=function(t){this._frame=t%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getFrameValue=function(){var t=null;return this._frame>=0&&this._getCategories().length>this._frame&&(t=this._getCategories()[this._frame]),t},this.goToFrame=function(t){if(this._getCategories().length>0){var e=this._getCategories().indexOf(t);this._goToFrameIndex(e)}},this.pauseAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){var t;null===this._animationTimer&&(null!==this.onTick&&this.onTick(this.getFrameValue()),this._animationTimer=window.setInterval((t=this,function(){t._goToFrameIndex(t._frame+1),null!==t.onTick&&t.onTick(t.getFrameValue()),t._drawText(t.frameDuration/2)}),this.frameDuration))},this.stopAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}}};return e.aggregateMethod.avg=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),t.count=null===t.count||void 0===t.count?1:parseFloat(t.count),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),e.count=null===e.count||void 0===e.count?1:parseFloat(e.count),(t.value*t.count+e.value*e.count)/(t.count+e.count)},e.aggregateMethod.count=function(t,e){return t.count=null===t.count||void 0===t.count?0:parseFloat(t.count),e.count=null===e.count||void 0===e.count?0:parseFloat(e.count),t.count+e.count},e.aggregateMethod.max=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value>e.value?t.value:e.value},e.aggregateMethod.min=function(t,e){return null===t.value?parseFloat(e.value):parseFloat(t.value)<parseFloat(e.value)?parseFloat(t.value):parseFloat(e.value)},e.aggregateMethod.sum=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value+e.value},e.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(n,i,r){var o,a,s,l,u,c,d,h,p,f,g,m,v,y,_,x,b,w,C,k,S,M,F,A=i._positionData,$=[],T=null,P="dimple-series-"+n.series.indexOf(i),E=i.x._hasCategories()||i.y._hasCategories()?0:1,O=!1,D={},L=[],R=[],z=function(){return function(n,i,r,o){t.select(i).style("opacity",1),e._showPointTooltip(n,i,r,o)}},I=function(n){return function(i,r,o,a){t.select(r).style("opacity",a.lineMarkers||n.data.length<2?e._helpers.opacity(i,o,a):0),e._removeTooltip(i,r,o,a)}},q=function(t,o){e._drawMarkers(t,n,i,r,P,O,z(),I(t),o)},N=function(t,r){var o;return"step"===i.interpolation&&i[t]._hasCategories()?(o=e._helpers[t](r,n,i)+("y"===t?e._helpers.height(r,n,i):0),i[t].categoryFields.length<2&&(o+=("y"===t?1:-1)*e._helpers[t+"Gap"](n,i))):o=e._helpers["c"+t](r,n,i),parseFloat(o)},j=function(e,n){return t.svg.line().x(function(t){return i.x._hasCategories()||!n?t.x:i.x[n]}).y(function(t){return i.y._hasCategories()||!n?t.y:i.y[n]}).interpolate(e)},B=function(t,e){return parseFloat(t)-parseFloat(e)},H=function(t,e){return parseFloat(t.x)-parseFloat(e.x)},V=function(t,e,n){var i,r,o=e[e.length-1],a=9999,s=o;for(i=0;i<t.length;i+=1)(t[i].x!==o.x||t[i].y!==o.y)&&((r=180-Math.atan2(t[i].x-o.x,t[i].y-o.y)*(180/Math.PI))>n&&a>r&&(s=t[i],a=r));return e.push(s),a};for(o="step"===i.interpolation?"step-after":i.interpolation,f=e._getSeriesOrder(i.data||n.data,i),i.c&&(i.x._hasCategories()&&i.y._hasMeasure()||i.y._hasCategories()&&i.x._hasMeasure())&&(O=!0),i.x._hasCategories()?(M="x",F="y"):i.y._hasCategories()&&(M="y",F="x"),a=0;a<A.length;a+=1){for(u=[],d=-1,l=E;l<A[a].aggField.length;l+=1)u.push(A[a].aggField[l]);for(c=e._createClass(u),l=0;l<$.length;l+=1)if($[l].keyString===c){d=l;break}-1===d&&(d=$.length,$.push({key:u,keyString:c,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:M&&A[a][M+"Field"]&&A[a][M+"Field"].length>=2?A[a][M+"Field"][0]:"All"})),$[d].data.push(A[a])}for(f&&$.sort(function(t,n){return e._arrayIndexCompare(f,t.key,n.key)}),a=0;a<$.length;a+=1){for($[a].data.sort(e._getSeriesSortPredicate(n,i,f)),s=0;s<$[a].data.length;s+=1)$[a].points.push({x:N("x",$[a].data[s]),y:N("y",$[a].data[s])}),M&&(D[$[a].group]||(D[$[a].group]={}),D[$[a].group][$[a].points[$[a].points.length-1][M]]=i[F]._origin);g=$[a].points,"step"===i.interpolation&&g.length>1&&M&&(i.x._hasCategories()?(g.push({x:2*g[g.length-1].x-g[g.length-2].x,y:g[g.length-1].y}),D[$[a].group][g[g.length-1][M]]=i[F]._origin):i.y._hasCategories()&&(g=[{x:g[0].x,y:2*g[0].y-g[1].y}].concat(g),D[$[a].group][g[0][M]]=i[F]._origin,$[a].points=g))}for(y in D)if(D.hasOwnProperty(y)){for(_ in L[y]=[],D[y])D[y].hasOwnProperty(_)&&L[y].push(parseFloat(_));L[y].sort(B)}for(a=0;a<$.length;a+=1){if(g=$[a].points,x=$[a].group,m=[],R=[],O&&e._addGradient($[a].key,"fill-area-gradient-"+$[a].keyString,i.x._hasCategories()?i.x:i.y,A,n,r,"fill"),L[x]&&L[x].length>0)for(s=0,l=0;s<L[x].length;s+=1)L[x][s]>=g[0][M]&&L[x][s]<=g[g.length-1][M]&&((v={})[M]=L[x][s],v[F]=D[x][L[x][s]],m.push(v),g[l][M]>L[x][s]?R.push(v):(R.push(g[l]),D[$[a].group][L[x][s]]=g[l][F],l+=1));else if(i._orderRules&&i._orderRules.length>0)R=g.concat(g[0]);else{g=g.sort(H),R.push(g[0]),S=0;do{S=V(g,R,S)}while(R.length<=g.length&&(R[0].x!==R[R.length-1].x||R[0].y!==R[R.length-1].y))}m=m.reverse(),b=j(o,"_previousOrigin")(R),w=j("step-after"===o?"step-before":"step-before"===o?"step-after":o,"_previousOrigin")(m),k=-1===(C=j("linear","_previousOrigin")(R)).indexOf("L")?void 0:C.indexOf("L"),$[a].entry=b+(w&&w.length>0?"L"+w.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,k):0),b=j(o)(R),w=j("step-after"===o?"step-before":"step-before"===o?"step-after":o)(m),k=-1===(C=j("linear")(R)).indexOf("L")?void 0:C.indexOf("L"),$[a].update=b+(w&&w.length>0?"L"+w.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,k):0),b=j(o,"_origin")(R),w=j("step-after"===o?"step-before":"step-before"===o?"step-after":o,"_origin")(m),k=-1===(C=j("linear","_origin")(R)).indexOf("L")?void 0:C.indexOf("L"),$[a].exit=b+(w&&w.length>0?"L"+w.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,k):0),$[a].color=n.getColor($[a].key.length>0?$[a].key[$[a].key.length-1]:"All"),$[a].css=n.getClass($[a].key.length>0?$[a].key[$[a].key.length-1]:"All")}null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),(T=null===i.shapes||void 0===i.shapes?n._group.selectAll("."+P).data($):i.shapes.data($,function(t){return t.key})).enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return P+" dimple-line "+t.keyString+" "+n.customClassList.areaSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){n.noFormats||this.attr("opacity",function(t){return O?1:t.color.opacity}).style("fill",function(t){return O?"url(#"+e._createClass(["fill-area-gradient-"+t.keyString])+")":t.color.fill}).style("stroke",function(t){return O?"url(#"+e._createClass(["stroke-area-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",i.lineWeight)}).each(function(t){t.markerData=t.data,q(t,this)}),h=n._handleTransition(T,r,n).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,q(t,this)}),p=n._handleTransition(T.exit(),r,n).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],q(t,this)}),e._postDrawHandling(i,h,p,r),i.shapes=T}},e.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(t,n,i){var r,o,a=n._positionData,s=null,l=["dimple-series-"+t.series.indexOf(n),"dimple-bar"],u=!n._isStacked()&&n.x._hasMeasure(),c=!n._isStacked()&&n.y._hasMeasure(),d="none";n.x._hasCategories()&&n.y._hasCategories()?d="both":n.x._hasCategories()?d="x":n.y._hasCategories()&&(d="y"),null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),(s=null===n.shapes||void 0===n.shapes?t._group.selectAll("."+l.join(".")).data(a):n.shapes.data(a,function(t){return t.key})).enter().append("rect").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(n){var i=[];return i=(i=(i=i.concat(n.aggField)).concat(n.xField)).concat(n.yField),l.join(" ")+" "+e._createClass(i)+" "+t.customClassList.barSeries+" "+e._helpers.css(n,t)}).attr("x",function(i){var r=n.x._previousOrigin;return"x"===d?r=e._helpers.x(i,t,n):"both"===d&&(r=e._helpers.cx(i,t,n)),r}).attr("y",function(i){var r=n.y._previousOrigin;return"y"===d?r=e._helpers.y(i,t,n):"both"===d&&(r=e._helpers.cy(i,t,n)),r}).attr("width",function(i){return"x"===d?e._helpers.width(i,t,n):0}).attr("height",function(i){return"y"===d?e._helpers.height(i,t,n):0}).on("mouseover",function(i){e._showBarTooltip(i,this,t,n)}).on("mouseleave",function(i){e._removeTooltip(i,this,t,n)}).call(function(){t.noFormats||this.attr("opacity",function(i){return e._helpers.opacity(i,t,n)}).style("fill",function(i){return e._helpers.fill(i,t,n)}).style("stroke",function(i){return e._helpers.stroke(i,t,n)})}),r=t._handleTransition(s,i,t,n).attr("x",function(i){return u?e._helpers.cx(i,t,n)-n.x.floatingBarWidth/2:e._helpers.x(i,t,n)}).attr("y",function(i){return c?e._helpers.cy(i,t,n)-n.y.floatingBarWidth/2:e._helpers.y(i,t,n)}).attr("width",function(i){return u?n.x.floatingBarWidth:e._helpers.width(i,t,n)}).attr("height",function(i){return c?n.y.floatingBarWidth:e._helpers.height(i,t,n)}).call(function(){t.noFormats||this.attr("fill",function(i){return e._helpers.fill(i,t,n)}).attr("stroke",function(i){return e._helpers.stroke(i,t,n)})}),o=t._handleTransition(s.exit(),i,t,n).attr("x",function(i){var r=n.x._origin;return"x"===d?r=e._helpers.x(i,t,n):"both"===d&&(r=e._helpers.cx(i,t,n)),r}).attr("y",function(i){var r=n.y._origin;return"y"===d?r=e._helpers.y(i,t,n):"both"===d&&(r=e._helpers.cy(i,t,n)),r}).attr("width",function(i){return"x"===d?e._helpers.width(i,t,n):0}).attr("height",function(i){return"y"===d?e._helpers.height(i,t,n):0}),e._postDrawHandling(n,r,o,i),n.shapes=s}},e.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(t,n,i){var r,o,a=n._positionData,s=null,l=["dimple-series-"+t.series.indexOf(n),"dimple-bubble"];null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),(s=null===n.shapes||void 0===n.shapes?t._group.selectAll("."+l.join(".")).data(a):n.shapes.data(a,function(t){return t.key})).enter().append("circle").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(n){var i=[];return i=(i=(i=(i=i.concat(n.aggField)).concat(n.xField)).concat(n.yField)).concat(n.zField),l.join(" ")+" "+e._createClass(i)+" "+t.customClassList.bubbleSeries+" "+e._helpers.css(n,t)}).attr("cx",function(i){return n.x._hasCategories()?e._helpers.cx(i,t,n):n.x._previousOrigin}).attr("cy",function(i){return n.y._hasCategories()?e._helpers.cy(i,t,n):n.y._previousOrigin}).attr("r",0).on("mouseover",function(i){e._showPointTooltip(i,this,t,n)}).on("mouseleave",function(i){e._removeTooltip(i,this,t,n)}).call(function(){t.noFormats||this.attr("opacity",function(i){return e._helpers.opacity(i,t,n)}).style("fill",function(i){return e._helpers.fill(i,t,n)}).style("stroke",function(i){return e._helpers.stroke(i,t,n)})}),r=t._handleTransition(s,i,t,n).attr("cx",function(i){return e._helpers.cx(i,t,n)}).attr("cy",function(i){return e._helpers.cy(i,t,n)}).attr("r",function(i){return e._helpers.r(i,t,n)}).call(function(){t.noFormats||this.attr("fill",function(i){return e._helpers.fill(i,t,n)}).attr("stroke",function(i){return e._helpers.stroke(i,t,n)})}),o=t._handleTransition(s.exit(),i,t,n).attr("r",0).attr("cx",function(i){return n.x._hasCategories()?e._helpers.cx(i,t,n):n.x._origin}).attr("cy",function(i){return n.y._hasCategories()?e._helpers.cy(i,t,n):n.y._origin}),e._postDrawHandling(n,r,o,i),n.shapes=s}},e.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(n,i,r){var o,a,s,l,u,c,d,h,p,f,g=i._positionData,m=[],v=null,y="dimple-series-"+n.series.indexOf(i),_=i.x._hasCategories()||i.y._hasCategories()?0:1,x=!1,b=function(){return function(n,i,r,o){t.select(i).style("opacity",1),e._showPointTooltip(n,i,r,o)}},w=function(n){return function(i,r,o,a){t.select(r).style("opacity",a.lineMarkers||n.data.length<2?e._helpers.opacity(i,o,a):0),e._removeTooltip(i,r,o,a)}},C=function(t,o){e._drawMarkers(t,n,i,r,y,x,b(),w(t),o)},k=function(t,r){var o;return"step"===i.interpolation&&i[t]._hasCategories()?(i.barGap=0,i.clusterBarGap=0,o=e._helpers[t](r,n,i)+("y"===t?e._helpers.height(r,n,i):0)):o=e._helpers["c"+t](r,n,i),parseFloat(o.toFixed(1))},S=function(e,n){return t.svg.line().x(function(t){return i.x._hasCategories()||!n?t.x:i.x[n]}).y(function(t){return i.y._hasCategories()||!n?t.y:i.y[n]}).interpolate(e)};for(o="step"===i.interpolation?"step-after":i.interpolation,f=e._getSeriesOrder(i.data||n.data,i),i.c&&(i.x._hasCategories()&&i.y._hasMeasure()||i.y._hasCategories()&&i.x._hasMeasure())&&(x=!0),a=0;a<g.length;a+=1){for(u=[],d=-1,l=_;l<g[a].aggField.length;l+=1)u.push(g[a].aggField[l]);for(c=e._createClass(u),l=0;l<m.length;l+=1)if(m[l].keyString===c){d=l;break}-1===d&&(d=m.length,m.push({key:u,keyString:c,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),m[d].data.push(g[a])}for(f&&m.sort(function(t,n){return e._arrayIndexCompare(f,t.key,n.key)}),a=0;a<m.length;a+=1){for(m[a].data.sort(e._getSeriesSortPredicate(n,i,f)),x&&e._addGradient(m[a].key,"fill-line-gradient-"+m[a].keyString,i.x._hasCategories()?i.x:i.y,g,n,r,"fill"),s=0;s<m[a].data.length;s+=1)m[a].points.push({x:k("x",m[a].data[s]),y:k("y",m[a].data[s])});"step"===i.interpolation&&m[a].points.length>1&&(i.x._hasCategories()?m[a].points.push({x:2*m[a].points[m[a].points.length-1].x-m[a].points[m[a].points.length-2].x,y:m[a].points[m[a].points.length-1].y}):i.y._hasCategories()&&(m[a].points=[{x:m[a].points[0].x,y:2*m[a].points[0].y-m[a].points[1].y}].concat(m[a].points))),m&&m[a]&&m[a].points&&1===m[a].points.length&&m[a].points.push({x:m[a].points[0].x,y:m[a].points[0].y}),m[a].entry=S(o,"_previousOrigin")(m[a].points),m[a].update=S(o)(m[a].points),m[a].exit=S(o,"_origin")(m[a].points),m[a].color=n.getColor(m[a].key.length>0?m[a].key[m[a].key.length-1]:"All"),m[a].css=n.getClass(m[a].key.length>0?m[a].key[m[a].key.length-1]:"All")}null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),(v=null===i.shapes||void 0===i.shapes?n._group.selectAll("."+y).data(m):i.shapes.data(m,function(t){return t.key})).enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return y+" dimple-line "+t.keyString+" "+n.customClassList.lineSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){n.noFormats||this.attr("opacity",function(t){return x?1:t.color.opacity}).style("fill","none").style("stroke",function(t){return x?"url(#"+e._createClass(["fill-line-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",i.lineWeight)}).each(function(t){t.markerData=t.data,C(t,this)}),h=n._handleTransition(v,r,n).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,C(t,this)}),p=n._handleTransition(v.exit(),r,n).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],C(t,this)}),e._postDrawHandling(i,h,p,r),i.shapes=v}},e.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(n,i,r){var o,a,s=i._positionData,l=null,u=["dimple-series-"+n.series.indexOf(i),"dimple-pie"],c=function(t){return i.x&&i.y?e._helpers.r(t,n,i):n._widthPixels()<n._heightPixels()?n._widthPixels()/2:n._heightPixels()/2},d=function(t){var n=c(t);return i.outerRadius&&(n=e._parsePosition(i.outerRadius,n)),Math.max(n,0)},h=function(t){var n=0;return i.innerRadius&&(n=e._parsePosition(i.innerRadius,c(t))),Math.max(n,0)},p=function(e){return t.svg.arc().innerRadius(h(e)).outerRadius(d(e))(e)},f=function(e){e.innerRadius=h(e),e.outerRadius=d(e);var n,i=t.interpolate(this._current,e);return n=t.svg.arc().innerRadius(function(t){return t.innerRadius}).outerRadius(function(t){return t.outerRadius}),this._current=i(0),function(t){return n(i(t))}},g=function(t){return function(r){var o,a;return i.x&&i.y?(o=!t||i.x._hasCategories()?e._helpers.cx(r,n,i):i.x._previousOrigin,a=!t||i.y._hasCategories()?e._helpers.cy(r,n,i):i.y._previousOrigin):(o=n._xPixels()+n._widthPixels()/2,a=n._yPixels()+n._heightPixels()/2),"translate("+o+","+a+")"}};null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),(l=null===i.shapes||void 0===i.shapes?n._group.selectAll("."+u.join(".")).data(s):i.shapes.data(s,function(t){return t.key})).enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){var i=[];return i=(i=i.concat(t.aggField)).concat(t.pField),u.join(" ")+" "+e._createClass(i)+" "+n.customClassList.pieSeries+" "+e._helpers.css(t,n)}).attr("d",p).on("mouseover",function(t){e._showBarTooltip(t,this,n,i)}).on("mouseleave",function(t){e._removeTooltip(t,this,n,i)}).call(function(){n.noFormats||this.attr("opacity",function(t){return e._helpers.opacity(t,n,i)}).style("fill",function(t){return e._helpers.fill(t,n,i)}).style("stroke",function(t){return e._helpers.stroke(t,n,i)})}).attr("transform",g(!0)).each(function(t){this._current=t,t.innerRadius=h(t),t.outerRadius=d(t)}),o=n._handleTransition(l,r,n,i).call(function(){r&&r>0?this.attrTween("d",f):this.attr("d",p),n.noFormats||this.attr("fill",function(t){return e._helpers.fill(t,n,i)}).attr("stroke",function(t){return e._helpers.stroke(t,n,i)})}).attr("transform",g(!1)),a=n._handleTransition(l.exit(),r,n,i).attr("transform",g(!0)).attr("d",p),e._postDrawHandling(i,o,a,r),i.shapes=l}},e._addGradient=function(t,n,i,r,o,a,s){var l=[].concat(t),u=o.svg.select("#"+e._createClass([n])),c=[],d=i.position+"Field",h=!0,p=[];r.forEach(function(t){-1===c.indexOf(t[d])&&t.aggField.join("_")===l.join("_")&&c.push(t[d])},this),c=c.sort(function(t,e){return i._scale(t)-i._scale(e)}),null===u.node()&&(h=!1,u=o.svg.append("defs").append("linearGradient").attr("id",e._createClass([n])).attr("gradientUnits","userSpaceOnUse").attr("x1","x"===i.position?i._scale(c[0])+o._widthPixels()/c.length/2:0).attr("y1","y"===i.position?i._scale(c[0])-o._heightPixels()/c.length/2:0).attr("x2","x"===i.position?i._scale(c[c.length-1])+o._widthPixels()/c.length/2:0).attr("y2","y"===i.position?i._scale(c[c.length-1])-o._heightPixels()/c.length/2:0)),c.forEach(function(t,e){var n={},i=0;for(i=0;i<r.length;i+=1)if(r[i].aggField.join("_")===l.join("_")&&r[i][d].join("_")===t.join("_")){n=r[i];break}p.push({offset:Math.round(e/(c.length-1)*100)+"%",color:n[s]})},this),h?o._handleTransition(u.selectAll("stop").data(p),a,o).attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color}):u.selectAll("stop").data(p).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})},e._arrayIndexCompare=function(t,e,n){var i,r,o,a,s,l;for(r=0;r<t.length;r+=1){for(a=!0,s=!0,l=[].concat(t[r]),o=0;o<e.length;o+=1)a=a&&e[o]===l[o];for(o=0;o<n.length;o+=1)s=s&&n[o]===l[o];if(a&&s){i=0;break}if(a){i=-1;break}if(s){i=1;break}}return i},e._createClass=function(t){var e,n,i=[];if(n=function(t){var e=t.charCodeAt(0),n="-";return e>=65&&90>=e&&(n=t.toLowerCase()),n},t.length>0)for(e=0;e<t.length;e+=1)t[e]&&i.push("dimple-"+t[e].toString().replace(/[^a-z0-9]/g,n));else i=["dimple-all"];return i.join(" ")},e._drawMarkerBacks=function(n,i,r,o,a,s){var l,u,c=["dimple-marker-back",a,n.keyString];r.lineMarkers&&(l=null===r._markerBacks||void 0===r._markerBacks||void 0===r._markerBacks[n.keyString]?i._group.selectAll("."+c.join(".")).data(n.markerData):r._markerBacks[n.keyString].data(n.markerData,function(t){return t.key}),(s.nextSibling&&s.nextSibling.id?l.enter().insert("circle","#"+s.nextSibling.id):l.enter().append("circle")).attr("id",function(t){return e._createClass([t.key+" Marker Back"])}).attr("class",function(t){var n=[];return r.x._hasCategories()&&(n=n.concat(t.xField)),r.y._hasCategories()&&(n=n.concat(t.yField)),e._createClass(n)+" "+c.join(" ")}).attr("cx",function(t){return r.x._hasCategories()?e._helpers.cx(t,i,r):r.x._previousOrigin}).attr("cy",function(t){return r.y._hasCategories()?e._helpers.cy(t,i,r):r.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),i._handleTransition(l,o,i).attr("cx",function(t){return e._helpers.cx(t,i,r)}).attr("cy",function(t){return e._helpers.cy(t,i,r)}).attr("r",2+r.lineWeight),u=i._handleTransition(l.exit(),o,i).attr("cx",function(t){return r.x._hasCategories()?e._helpers.cx(t,i,r):r.x._origin}).attr("cy",function(t){return r.y._hasCategories()?e._helpers.cy(t,i,r):r.y._origin}).attr("r",0),0===o?u.remove():u.each("end",function(){t.select(this).remove()}),(void 0===r._markerBacks||null===r._markerBacks)&&(r._markerBacks={}),r._markerBacks[n.keyString]=l)},e._drawMarkers=function(n,i,r,o,a,s,l,u,c){var d,h,p=["dimple-marker",a,n.keyString];d=null===r._markers||void 0===r._markers||void 0===r._markers[n.keyString]?i._group.selectAll("."+p.join(".")).data(n.markerData):r._markers[n.keyString].data(n.markerData,function(t){return t.key}),(c.nextSibling&&c.nextSibling.id?d.enter().insert("circle","#"+c.nextSibling.id):d.enter().append("circle")).attr("id",function(t){return e._createClass([t.key+" Marker"])}).attr("class",function(t){var n=[],o=i.getClass(t.aggField.length>0?t.aggField[t.aggField.length-1]:"All");return r.x._hasCategories()&&(n=n.concat(t.xField)),r.y._hasCategories()&&(n=n.concat(t.yField)),e._createClass(n)+" "+p.join(" ")+" "+i.customClassList.lineMarker+" "+o}).on("mouseover",function(t){l(t,this,i,r)}).on("mouseleave",function(t){u(t,this,i,r)}).attr("cx",function(t){return r.x._hasCategories()?e._helpers.cx(t,i,r):r.x._previousOrigin}).attr("cy",function(t){return r.y._hasCategories()?e._helpers.cy(t,i,r):r.y._previousOrigin}).attr("r",0).attr("opacity",r.lineMarkers||n.data.length<2?n.color.opacity:0).call(function(){i.noFormats||this.attr("fill","white").style("stroke-width",r.lineWeight).attr("stroke",function(t){return s?e._helpers.fill(t,i,r):n.color.stroke})}),i._handleTransition(d,o,i).attr("cx",function(t){return e._helpers.cx(t,i,r)}).attr("cy",function(t){return e._helpers.cy(t,i,r)}).attr("r",2+r.lineWeight).attr("opacity",r.lineMarkers||n.data.length<2?n.color.opacity:0).call(function(){i.noFormats||this.attr("fill","white").style("stroke-width",r.lineWeight).attr("stroke",function(t){return s?e._helpers.fill(t,i,r):n.color.stroke})}),h=i._handleTransition(d.exit(),o,i).attr("cx",function(t){return r.x._hasCategories()?e._helpers.cx(t,i,r):r.x._origin}).attr("cy",function(t){return r.y._hasCategories()?e._helpers.cy(t,i,r):r.y._origin}).attr("r",0),0===o?h.remove():h.each("end",function(){t.select(this).remove()}),(void 0===r._markers||null===r._markers)&&(r._markers={}),r._markers[n.keyString]=d,e._drawMarkerBacks(n,i,r,o,a,c)},e._getOrderedList=function(t,n,i){var r,o=[],a=[],s=[].concat(n),l=[].concat(n),u=[];return null!=i&&(u=u.concat(i)),(u=u.concat({ordering:s,desc:!1})).forEach(function(e){var n,i=[],r=[];if("function"==typeof e.ordering){if(t&&t.length>0)for(n in t[0])t[0].hasOwnProperty(n)&&-1===l.indexOf(n)&&l.push(n)}else if(e.ordering instanceof Array){for(n=0;n<e.ordering.length;n+=1)t&&t.length>0&&t[0].hasOwnProperty(e.ordering[n])&&r.push(e.ordering[n]),i.push(e.ordering[n]);r.length>i.length/2?l.concat(r):e.values=i}else l.push(e.ordering)},this),r=e._rollUp(t,s,l),u.length>=1&&(u.forEach(function(t){var e=null!==t.desc&&void 0!==t.desc&&t.desc,n=t.ordering,i=[],r=function(t){var e,n=0;for(e=0;e<t.length;e+=1){if(isNaN(t[e])){n=void 0;break}n+=parseFloat(t[e])}return n},a=function(t,e){var n=0,i=r(t),o=r(e);return isNaN(i)||isNaN(o)?isNaN(Date.parse(t[0]))||isNaN(Date.parse(e[0]))?t[0]<e[0]?n=-1:t[0]>e[0]&&(n=1):n=Date.parse(t[0])-Date.parse(e[0]):n=parseFloat(i)-parseFloat(o),n};"function"==typeof n?o.push(function(t,i){return(e?-1:1)*n(t,i)}):t.values&&t.values.length>0?(t.values.forEach(function(t){i.push([].concat(t).join("|"))},this),o.push(function(t,n){var r,o,a,l="",u="";for(a=0;a<s.length;a+=1)a>0&&(l+="|",u+="|"),l+=t[s[a]],u+=n[s[a]];return r=i.indexOf(l),o=i.indexOf(u),r=0>r?e?-1:i.length:r,o=0>o?e?-1:i.length:o,(e?-1:1)*(r-o)})):[].concat(t.ordering).forEach(function(t){o.push(function(n,i){var r=0;return void 0!==n[t]&&void 0!==i[t]&&(r=a([].concat(n[t]),[].concat(i[t]))),(e?-1:1)*r})})}),r.sort(function(t,e){for(var n=0,i=0;n<o.length&&0===i;)i=o[n](t,e),n+=1;return i}),r.forEach(function(t){var e,n=[];if(1===s.length)a.push(t[s[0]]);else{for(e=0;e<s.length;e+=1)n.push(t[s[e]]);a.push(n)}},this)),a},e._getSeriesOrder=function(t,n){var i=[].concat(n._orderRules),r=n.categoryFields,o=[];return null!=r&&r.length>0&&(null!==n.c&&void 0!==n.c&&n.c._hasMeasure()&&i.push({ordering:n.c.measure,desc:!0}),n.x._hasMeasure()&&i.push({ordering:n.x.measure,desc:!0}),n.y._hasMeasure()&&i.push({ordering:n.y.measure,desc:!0}),o=e._getOrderedList(t,r,i)),o},e._getSeriesSortPredicate=function(t,n,i){return function(r,o){var a=0;return n.x._hasCategories()&&(a=e._helpers.cx(r,t,n)-e._helpers.cx(o,t,n)),0===a&&n.y._hasCategories()&&(a=e._helpers.cy(r,t,n)-e._helpers.cy(o,t,n)),0===a&&i&&(a=e._arrayIndexCompare(i,r.aggField,o.aggField)),a}},e._helpers={cx:function(t,n,i){return null!==i.x.measure&&void 0!==i.x.measure?i.x._scale(t.cx):i.x._hasCategories()&&i.x.categoryFields.length>=2?i.x._scale(t.cx)+e._helpers.xGap(n,i)+(t.xOffset+.5)*((n._widthPixels()/i.x._max-2*e._helpers.xGap(n,i))*t.width):i.x._scale(t.cx)+n._widthPixels()/i.x._max/2},cy:function(t,n,i){return null!==i.y.measure&&void 0!==i.y.measure?i.y._scale(t.cy):null!==i.y.categoryFields&&void 0!==i.y.categoryFields&&i.y.categoryFields.length>=2?i.y._scale(t.cy)-n._heightPixels()/i.y._max+e._helpers.yGap(n,i)+(t.yOffset+.5)*((n._heightPixels()/i.y._max-2*e._helpers.yGap(n,i))*t.height):i.y._scale(t.cy)-n._heightPixels()/i.y._max/2},r:function(t,e,n){var i=0,r=1;return null===n.z||void 0===n.z?i=n.radius&&"auto"!==n.radius?n.radius:5:(n.radius&&"auto"!==n.radius&&n.radius>1&&(r=n.radius/n.z._scale(n.z._max)),i=n.z._hasMeasure()?n.z._scale(t.r)*r:n.z._scale(e._heightPixels()/100)*r),i},xGap:function(t,e){var n=0;return(null===e.x.measure||void 0===e.x.measure)&&e.barGap>0&&(n=t._widthPixels()/e.x._max*(e.barGap>.99?.99:e.barGap)/2),n},xClusterGap:function(t,n,i){var r=0;return null!==i.x.categoryFields&&void 0!==i.x.categoryFields&&i.x.categoryFields.length>=2&&i.clusterBarGap>0&&!i.x._hasMeasure()&&(r=t.width*(n._widthPixels()/i.x._max-2*e._helpers.xGap(n,i))*(i.clusterBarGap>.99?.99:i.clusterBarGap)/2),r},yGap:function(t,e){var n=0;return(null===e.y.measure||void 0===e.y.measure)&&e.barGap>0&&(n=t._heightPixels()/e.y._max*(e.barGap>.99?.99:e.barGap)/2),n},yClusterGap:function(t,n,i){var r=0;return null!==i.y.categoryFields&&void 0!==i.y.categoryFields&&i.y.categoryFields.length>=2&&i.clusterBarGap>0&&!i.y._hasMeasure()&&(r=t.height*(n._heightPixels()/i.y._max-2*e._helpers.yGap(n,i))*(i.clusterBarGap>.99?.99:i.clusterBarGap)/2),r},x:function(t,n,i){return i.x._hasTimeField()?i.x._scale(t.x)-e._helpers.width(t,n,i)/2:null!==i.x.measure&&void 0!==i.x.measure?i.x._scale(t.x):i.x._scale(t.x)+e._helpers.xGap(n,i)+t.xOffset*(e._helpers.width(t,n,i)+2*e._helpers.xClusterGap(t,n,i))+e._helpers.xClusterGap(t,n,i)},y:function(t,n,i){return i.y._hasTimeField()?i.y._scale(t.y)-e._helpers.height(t,n,i)/2:null!==i.y.measure&&void 0!==i.y.measure?i.y._scale(t.y):i.y._scale(t.y)-n._heightPixels()/i.y._max+e._helpers.yGap(n,i)+t.yOffset*(e._helpers.height(t,n,i)+2*e._helpers.yClusterGap(t,n,i))+e._helpers.yClusterGap(t,n,i)},width:function(t,n,i){return null!==i.x.measure&&void 0!==i.x.measure?Math.abs(i.x._scale(t.x<0?t.x-t.width:t.x+t.width)-i.x._scale(t.x)):i.x._hasTimeField()?i.x.floatingBarWidth:t.width*(n._widthPixels()/i.x._max-2*e._helpers.xGap(n,i))-2*e._helpers.xClusterGap(t,n,i)},height:function(t,n,i){return i.y._hasTimeField()?i.y.floatingBarWidth:null!==i.y.measure&&void 0!==i.y.measure?Math.abs(i.y._scale(t.y)-i.y._scale(t.y<=0?t.y+t.height:t.y-t.height)):t.height*(n._heightPixels()/i.y._max-2*e._helpers.yGap(n,i))-2*e._helpers.yClusterGap(t,n,i)},opacity:function(t,e,n){return null!==n.c&&void 0!==n.c?t.opacity:e.getColor(t.aggField.slice(-1)[0]).opacity},fill:function(t,e,n){return null!==n.c&&void 0!==n.c?t.fill:e.getColor(t.aggField.slice(-1)[0]).fill},stroke:function(t,e,n){return null!==n.c&&void 0!==n.c?t.stroke:e.getColor(t.aggField.slice(-1)[0]).stroke},css:function(t,e){return e.getClass(t.aggField.slice(-1)[0])}},e._parentHeight=function(t){var n=t.offsetHeight;return(0>=n||null==n)&&(n=t.clientHeight),(0>=n||null==n)&&(n=null===t.parentNode||void 0===t.parentNode?0:e._parentHeight(t.parentNode)),n},e._parentWidth=function(t){var n=t.offsetWidth;return(!n||0>n)&&(n=t.clientWidth),(!n||0>n)&&(n=t.parentNode?e._parentWidth(t.parentNode):0),n},e._parsePosition=function(t,e){var n=0;return t&&t.toString().split(",").forEach(function(i){i&&(isNaN(i)?"%"===i.slice(-1)?n+=e*(parseFloat(i.slice(0,i.length-1))/100):"px"===i.slice(-2)?n+=parseFloat(i.slice(0,i.length-2)):n=t:n+=parseFloat(i))},this),0>n&&(n=e+n),n},e._parseXPosition=function(t,n){return e._parsePosition(t,e._parentWidth(n))},e._parseYPosition=function(t,n){return e._parsePosition(t,e._parentHeight(n))},e._postDrawHandling=function(e,n,i,r){0===r?(n.each(function(t,n){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,n)}),i.remove()):(n.each("end",function(t,n){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,n)}),i.each("end",function(){t.select(this).remove()}))},e._removeTooltip=function(t,e,n,i){n._tooltipGroup&&n._tooltipGroup.remove()},e._rollUp=function(t,e,n){var i=[];return e=null!=e?[].concat(e):[],t.forEach(function(t){var r=-1,o={},a=!0;i.forEach(function(n,i){-1===r&&(a=!0,e.forEach(function(e){a=a&&t[e]===n[e]},this),a&&(r=i))},this),-1!==r?o=i[r]:(e.forEach(function(e){o[e]=t[e]},this),i.push(o),r=i.length-1),n.forEach(function(n){-1===e.indexOf(n)&&(void 0===o[n]&&(o[n]=[]),o[n]=o[n].concat(t[n]))},this),i[r]=o},this),i},e._showBarTooltip=function(e,n,i,r){var o,a,s,l,u,c,d=10,h=t.select(n),p=h.node().getBBox().x,f=h.node().getBBox().y,g=h.node().getBBox().width,m=h.node().getBBox().height,v=h.attr("opacity"),y=h.attr("fill"),_=r._dropLineOrigin(),x=t.rgb(t.rgb(y).r+.6*(255-t.rgb(y).r),t.rgb(y).g+.6*(255-t.rgb(y).g),t.rgb(y).b+.6*(255-t.rgb(y).b)),b=t.rgb(t.rgb(y).r+.8*(255-t.rgb(y).r),t.rgb(y).g+.8*(255-t.rgb(y).g),t.rgb(y).b+.8*(255-t.rgb(y).b)),w=r.getTooltipText(e),C=0,k=0,S=0,M=function(t,e){var n=h.node().getCTM(),r=i.svg.node().createSVGPoint();return r.x=t||0,r.y=e||0,r.matrixTransform(n)};null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),i._tooltipGroup=i.svg.append("g"),r.p||(c=r._isStacked()?1:g/2,r.x._hasCategories()||null===_.y||i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",p<r.x._origin?p+c:p+g-c).attr("y1",f<_.y?f+m:f).attr("x2",p<r.x._origin?p+c:p+g-c).attr("y2",f<_.y?f+m:f).call(function(){i.noFormats||this.style("fill","none").style("stroke",y).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",v)}).transition().delay(375).duration(375).ease("linear").attr("y2",f<_.y?_.y-1:_.y+1),c=r._isStacked()?1:m/2,r.y._hasCategories()||null===_.x||i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",p<_.x?p+g:p).attr("y1",f<r.y._origin?f+c:f+m-c).attr("x2",p<_.x?p+g:p).attr("y2",f<r.y._origin?f+c:f+m-c).call(function(){i.noFormats||this.style("fill","none").style("stroke",y).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",v)}).transition().delay(375).duration(375).ease("linear").attr("x2",p<_.x?_.x-1:_.x+1)),a=(o=i._tooltipGroup.append("g")).append("rect").attr("class","dimple-tooltip "+i.customClassList.tooltipBox),o.selectAll(".dimple-dont-select-any").data(w).enter().append("text").attr("class","dimple-tooltip "+i.customClassList.tooltipLabel).text(function(t){return t}).call(function(){i.noFormats||this.style("font-family",r.tooltipFontFamily).style("font-size",r._getTooltipFontSize())}),o.each(function(){k=this.getBBox().width>k?this.getBBox().width:k,S=this.getBBox().width>S?this.getBBox().height:S}),o.selectAll("text").attr("x",0).attr("y",function(){return(C+=this.getBBox().height)-this.getBBox().height/2}),a.attr("x",-5).attr("y",-5).attr("height",Math.floor(C+5)-.5).attr("width",k+10).attr("rx",5).attr("ry",5).call(function(){i.noFormats||this.style("fill",b).style("stroke",x).style("stroke-width",2).style("opacity",.95)}),M(p+g+5+d+k).x<parseFloat(i.svg.node().getBBox().width)?(s=p+g+5+d,l=f+m/2-(C-(S-5))/2):M(p-(15+k)).x>0?(s=p-(15+k),l=f+m/2-(C-(S-5))/2):M(0,f+m+C+d+5).y<parseFloat(i.svg.node().getBBox().height)?(s=(s=(s=p+g/2-(10+k)/2)>0?s:d)+k<parseFloat(i.svg.node().getBBox().width)?s:parseFloat(i.svg.node().getBBox().width)-k-d,l=f+m+10):(s=(s=(s=p+g/2-(10+k)/2)>0?s:d)+k<parseFloat(i.svg.node().getBBox().width)?s:parseFloat(i.svg.node().getBBox().width)-k-d,l=f-C-(S-5)),u=M(s,l),o.attr("transform","translate("+u.x+" , "+u.y+")")},e._showPointTooltip=function(n,i,r,o){var a,s,l,u,c=10,d=t.select(i),h=parseFloat(d.attr("cx")),p=parseFloat(d.attr("cy")),f=parseFloat(d.attr("r")),g=e._helpers.opacity(n,r,o),m=d.attr("stroke"),v=o._dropLineOrigin(),y=t.rgb(t.rgb(m).r+.6*(255-t.rgb(m).r),t.rgb(m).g+.6*(255-t.rgb(m).g),t.rgb(m).b+.6*(255-t.rgb(m).b)),_=t.rgb(t.rgb(m).r+.8*(255-t.rgb(m).r),t.rgb(m).g+.8*(255-t.rgb(m).g),t.rgb(m).b+.8*(255-t.rgb(m).b)),x=0,b=0,w=0,C=o.getTooltipText(n);null!==r._tooltipGroup&&void 0!==r._tooltipGroup&&r._tooltipGroup.remove(),r._tooltipGroup=r.svg.append("g"),r._tooltipGroup.append("circle").attr("cx",h).attr("cy",p).attr("r",f).call(function(){r.noFormats||this.attr("opacity",0).style("fill","none").style("stroke",m).style("stroke-width",1)}).transition().duration(375).ease("linear").attr("r",f+o.lineWeight+2).call(function(){r.noFormats||this.attr("opacity",1).style("stroke-width",2)}),null!==v.y&&r._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+r.customClassList.tooltipDropLine).attr("x1",h).attr("y1",p<v.y?p+f+o.lineWeight+2:p-f-o.lineWeight-2).attr("x2",h).attr("y2",p<v.y?p+f+o.lineWeight+2:p-f-o.lineWeight-2).call(function(){r.noFormats||this.style("fill","none").style("stroke",m).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",g)}).transition().delay(375).duration(375).ease("linear").attr("y2",p<v.y?v.y-1:v.y+1),null!==v.x&&r._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+r.customClassList.tooltipDropLine).attr("x1",h<v.x?h+f+o.lineWeight+2:h-f-o.lineWeight-2).attr("y1",p).attr("x2",h<v.x?h+f+o.lineWeight+2:h-f-o.lineWeight-2).attr("y2",p).call(function(){r.noFormats||this.style("fill","none").style("stroke",m).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",g)}).transition().delay(375).duration(375).ease("linear").attr("x2",h<v.x?v.x-1:v.x+1),s=(a=r._tooltipGroup.append("g")).append("rect").attr("class","dimple-tooltip "+r.customClassList.tooltipBox),a.selectAll(".dont-select-any").data(C).enter().append("text").attr("class","dimple-tooltip "+r.customClassList.tooltipLabel).text(function(t){return t}).call(function(){r.noFormats||this.style("font-family",o.tooltipFontFamily).style("font-size",o._getTooltipFontSize())}),a.each(function(){b=this.getBBox().width>b?this.getBBox().width:b,w=this.getBBox().width>w?this.getBBox().height:w}),a.selectAll("text").attr("x",0).attr("y",function(){return(x+=this.getBBox().height)-this.getBBox().height/2}),s.attr("x",-5).attr("y",-5).attr("height",Math.floor(x+5)-.5).attr("width",b+10).attr("rx",5).attr("ry",5).call(function(){r.noFormats||this.style("fill",_).style("stroke",y).style("stroke-width",2).style("opacity",.95)}),h+f+5+c+b<parseFloat(r.svg.node().getBBox().width)?(l=h+f+5+c,u=p-(x-(w-5))/2):h-f-(15+b)>0?(l=h-f-(15+b),u=p-(x-(w-5))/2):p+f+x+c+5<parseFloat(r.svg.node().getBBox().height)?(l=(l=(l=h-(10+b)/2)>0?l:c)+b<parseFloat(r.svg.node().getBBox().width)?l:parseFloat(r.svg.node().getBBox().width)-b-c,u=p+f+10):(l=(l=(l=h-(10+b)/2)>0?l:c)+b<parseFloat(r.svg.node().getBBox().width)?l:parseFloat(r.svg.node().getBBox().width)-b-c,u=p-x-(w-5)),a.attr("transform","translate("+l+" , "+u+")")},e.filterData=function(t,e,n){var i=t;return null!==e&&null!==n&&(null!=n&&(n=[].concat(n)),i=[],t.forEach(function(t){null===t[e]?i.push(t):n.indexOf([].concat(t[e]).join("/"))>-1&&i.push(t)},this)),i},e.getUniqueValues=function(t,e){var n=[];return null!=e&&(e=[].concat(e),t.forEach(function(t){var i="";e.forEach(function(e,n){n>0&&(i+="/"),i+=t[e]},this),-1===n.indexOf(i)&&n.push(i)},this)),n},e.newSvg=function(e,n,i){var r=null;if(null==e&&(e="body"),(r=t.select(e)).empty())throw"The '"+e+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return r.append("svg").attr("width",n).attr("height",i)},e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(n,i){var r,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(n),appendDots:t(n),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,n){return t('<button type="button" />').text(n+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=t(n),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,r=t(n).data("slick")||{},o.options=t.extend({},o.defaults,i,r),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=t.proxy(o.autoPlay,o),o.autoPlayClear=t.proxy(o.autoPlayClear,o),o.autoPlayIterator=t.proxy(o.autoPlayIterator,o),o.changeSlide=t.proxy(o.changeSlide,o),o.clickHandler=t.proxy(o.clickHandler,o),o.selectHandler=t.proxy(o.selectHandler,o),o.setPosition=t.proxy(o.setPosition,o),o.swipeHandler=t.proxy(o.swipeHandler,o),o.dragHandler=t.proxy(o.dragHandler,o),o.keyHandler=t.proxy(o.keyHandler,o),o.instanceUid=e++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,n,i){var r=this;if("boolean"==typeof n)i=n,n=null;else if(n<0||n>=r.slideCount)return!1;r.unload(),"number"==typeof n?0===n&&0===r.$slides.length?t(e).appendTo(r.$slideTrack):i?t(e).insertBefore(r.$slides.eq(n)):t(e).insertAfter(r.$slides.eq(n)):!0===i?t(e).prependTo(r.$slideTrack):t(e).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slides.each(function(e,n){t(n).attr("data-slick-index",e)}),r.$slidesCache=r.$slides,r.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,n){var i={},r=this;r.animateHeight(),!0===r.options.rtl&&!1===r.options.vertical&&(e=-e),!1===r.transformsEnabled?!1===r.options.vertical?r.$slideTrack.animate({left:e},r.options.speed,r.options.easing,n):r.$slideTrack.animate({top:e},r.options.speed,r.options.easing,n):!1===r.cssTransitions?(!0===r.options.rtl&&(r.currentLeft=-r.currentLeft),t({animStart:r.currentLeft}).animate({animStart:e},{duration:r.options.speed,easing:r.options.easing,step:function(t){t=Math.ceil(t),!1===r.options.vertical?(i[r.animType]="translate("+t+"px, 0px)",r.$slideTrack.css(i)):(i[r.animType]="translate(0px,"+t+"px)",r.$slideTrack.css(i))},complete:function(){n&&n.call()}})):(r.applyTransition(),e=Math.ceil(e),!1===r.options.vertical?i[r.animType]="translate3d("+e+"px, 0px, 0px)":i[r.animType]="translate3d(0px,"+e+"px, 0px)",r.$slideTrack.css(i),n&&setTimeout(function(){r.disableTransition(),n.call()},r.options.speed))},e.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=t(e).not(this.$slider)),e},e.prototype.asNavFor=function(e){var n=this.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var n=t(this).slick("getSlick");n.unslicked||n.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,n={};!1===e.options.fade?n[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:n[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,n,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),n=t("<ul />").addClass(i.options.dotsClass),e=0;e<=i.getDotCount();e+=1)n.append(t("<li />").append(i.options.customPaging.call(this,i,e)));i.$dots=n.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,n){t(n).attr("data-slick-index",e).data("originalStyling",t(n).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,n,i,r,o,a,s=this;if(i=document.createDocumentFragment(),o=s.$slider.children(),s.options.rows>0){for(a=s.options.slidesPerRow*s.options.rows,r=Math.ceil(o.length/a),t=0;t<r;t++){var l=document.createElement("div");for(e=0;e<s.options.rows;e++){var u=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var c=t*a+(e*s.options.slidesPerRow+n);o.get(c)&&u.appendChild(o.get(c))}l.appendChild(u)}i.appendChild(l)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,n){var i,r,o,a=this,s=!1,l=a.$slider.width(),u=window.innerWidth||t(window).width();if("window"===a.respondTo?o=u:"slider"===a.respondTo?o=l:"min"===a.respondTo&&(o=Math.min(u,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){for(i in r=null,a.breakpoints)a.breakpoints.hasOwnProperty(i)&&(!1===a.originalSettings.mobileFirst?o<a.breakpoints[i]&&(r=a.breakpoints[i]):o>a.breakpoints[i]&&(r=a.breakpoints[i]));null!==r?null!==a.activeBreakpoint?(r!==a.activeBreakpoint||n)&&(a.activeBreakpoint=r,"unslick"===a.breakpointSettings[r]?a.unslick(r):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[r]),!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=r):(a.activeBreakpoint=r,"unslick"===a.breakpointSettings[r]?a.unslick(r):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[r]),!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=r):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh(e),s=r),e||!1===s||a.$slider.trigger("breakpoint",[a,s])}},e.prototype.changeSlide=function(e,n){var i,r,o=this,a=t(e.currentTarget);switch(a.is("a")&&e.preventDefault(),a.is("li")||(a=a.closest("li")),i=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":r=0===i?o.options.slidesToScroll:o.options.slidesToShow-i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-r,!1,n);break;case"next":r=0===i?o.options.slidesToScroll:i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+r,!1,n);break;case"index":var s=0===e.data.index?0:e.data.index||a.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(s),!1,n),a.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,n;if(n=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var i in e){if(t<e[i]){t=n;break}n=e[i]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>0&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),t(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.$slider.removeClass("slick-dotted"),n.unslicked=!0,e||n.$slider.trigger("destroy",[n])},e.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.fadeSlide=function(t,e){var n=this;!1===n.cssTransitions?(n.$slides.eq(t).css({zIndex:n.options.zIndex}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:n.options.zIndex}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick","*",function(n){var i=t(this);setTimeout(function(){e.options.pauseOnFocus&&i.is(":focus")&&(e.focussed=!0,e.autoPlay())},0)}).on("blur.slick","*",function(n){t(this);e.options.pauseOnFocus&&(e.focussed=!1,e.autoPlay())})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,n=0,i=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++i;else for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)i=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else i=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return i-1},e.prototype.getLeft=function(t){var e,n,i,r,o=this,a=0;return o.slideOffset=0,n=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=-1,!0===o.options.vertical&&!0===o.options.centerMode&&(2===o.options.slidesToShow?r=-1.5:1===o.options.slidesToShow&&(r=-2)),a=n*o.options.slidesToShow*r),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,a=(o.options.slidesToShow-(t-o.slideCount))*n*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,a=o.slideCount%o.options.slidesToScroll*n*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,a=(t+o.options.slidesToShow-o.slideCount)*n),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,a=0),!0===o.options.centerMode&&o.slideCount<=o.options.slidesToShow?o.slideOffset=o.slideWidth*Math.floor(o.options.slidesToShow)/2-o.slideWidth*o.slideCount/2:!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*n*-1+a,!0===o.options.variableWidth&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===o.options.centerMode&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,e+=(o.$list.width()-i.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,n=0,i=0,r=[];for(!1===e.options.infinite?t=e.slideCount:(n=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,t=2*e.slideCount);n<t;)r.push(n),n=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return r},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,n,i,r=this;return i=!0===r.options.centerMode?Math.floor(r.$list.width()/2):0,n=-1*r.swipeLeft+i,!0===r.options.swipeToSlide?(r.$slideTrack.find(".slick-slide").each(function(i,o){var a,s;if(a=t(o).outerWidth(),s=o.offsetLeft,!0!==r.options.centerMode&&(s+=a/2),n<s+a)return e=o,!1}),Math.abs(t(e).attr("data-slick-index")-r.currentSlide)||1):r.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var n=this;t(n.$slider).hasClass("slick-initialized")||(t(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots(),n.checkResponsive(!0),n.focusHandler()),e&&n.$slider.trigger("init",[n]),!0===n.options.accessibility&&n.initADA(),n.options.autoplay&&(n.paused=!1,n.autoPlay())},e.prototype.initADA=function(){var e=this,n=Math.ceil(e.slideCount/e.options.slidesToShow),i=e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(n){var r=i.indexOf(n);if(t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+n,tabindex:-1}),-1!==r){var o="slick-slide-control"+e.instanceUid+r;t("#"+o).length&&t(this).attr({"aria-describedby":o})}}),e.$dots.attr("role","tablist").find("li").each(function(r){var o=i[r];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+r,"aria-controls":"slick-slide"+e.instanceUid+o,"aria-label":r+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var r=e.currentSlide,o=r+e.options.slidesToShow;r<o;r++)e.options.focusOnChange?e.$slides.eq(r).attr({tabindex:"0"}):e.$slides.eq(r).removeAttr("tabindex");e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){var e,n,i,r=this;function o(e){t("img[data-lazy]",e).each(function(){var e=t(this),n=t(this).attr("data-lazy"),i=t(this).attr("data-srcset"),o=t(this).attr("data-sizes")||r.$slider.attr("data-sizes"),a=document.createElement("img");a.onload=function(){e.animate({opacity:0},100,function(){i&&(e.attr("srcset",i),o&&e.attr("sizes",o)),e.attr("src",n).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,n])})},a.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,n])},a.src=n})}if(!0===r.options.centerMode?!0===r.options.infinite?i=(n=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(n=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),i=r.options.slidesToShow/2+1+2+r.currentSlide):(n=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,i=Math.ceil(n+r.options.slidesToShow),!0===r.options.fade&&(n>0&&n--,i<=r.slideCount&&i++)),e=r.$slider.find(".slick-slide").slice(n,i),"anticipated"===r.options.lazyLoad)for(var a=n-1,s=i,l=r.$slider.find(".slick-slide"),u=0;u<r.options.slidesToScroll;u++)a<0&&(a=r.slideCount-1),e=(e=e.add(l.eq(a))).add(l.eq(s)),a--,s++;o(e),r.slideCount<=r.options.slidesToShow?o(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?o(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&o(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(e){var n=this;n.unslicked||(n.$slider.trigger("afterChange",[n,e]),n.animating=!1,n.slideCount>n.options.slidesToShow&&n.setPosition(),n.swipeLeft=null,n.options.autoplay&&n.autoPlay(),!0===n.options.accessibility&&(n.initADA(),n.options.focusOnChange&&t(n.$slides.get(n.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var n,i,r,o,a,s=this,l=t("img[data-lazy]",s.$slider);l.length?(n=l.first(),i=n.attr("data-lazy"),r=n.attr("data-srcset"),o=n.attr("data-sizes")||s.$slider.attr("data-sizes"),(a=document.createElement("img")).onload=function(){r&&(n.attr("srcset",r),o&&n.attr("sizes",o)),n.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,n,i]),s.progressiveLazyLoad()},a.onerror=function(){e<3?setTimeout(function(){s.progressiveLazyLoad(e+1)},500):(n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,n,i]),s.progressiveLazyLoad())},a.src=i):s.$slider.trigger("allImagesLoaded",[s])},e.prototype.refresh=function(e){var n,i,r=this;i=r.slideCount-r.options.slidesToShow,!r.options.infinite&&r.currentSlide>i&&(r.currentSlide=i),r.slideCount<=r.options.slidesToShow&&(r.currentSlide=0),n=r.currentSlide,r.destroy(!0),t.extend(r,r.initials,{currentSlide:n}),r.init(),e||r.changeSlide({data:{message:"index",index:n}},!1)},e.prototype.registerBreakpoints=function(){var e,n,i,r=this,o=r.options.responsive||null;if("array"===t.type(o)&&o.length){for(e in r.respondTo=r.options.respondTo||"window",o)if(i=r.breakpoints.length-1,o.hasOwnProperty(e)){for(n=o[e].breakpoint;i>=0;)r.breakpoints[i]&&r.breakpoints[i]===n&&r.breakpoints.splice(i,1),i--;r.breakpoints.push(n),r.breakpointSettings[n]=o[e].settings}r.breakpoints.sort(function(t,e){return r.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,n){var i=this;if(t="boolean"==typeof t?!0===(e=t)?0:i.slideCount-1:!0===e?--t:t,i.slideCount<1||t<0||t>i.slideCount-1)return!1;i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(t).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,i.reinit()},e.prototype.setCSS=function(t){var e,n,i=this,r={};!0===i.options.rtl&&(t=-t),e="left"==i.positionProp?Math.ceil(t)+"px":"0px",n="top"==i.positionProp?Math.ceil(t)+"px":"0px",r[i.positionProp]=t,!1===i.transformsEnabled?i.$slideTrack.css(r):(r={},!1===i.cssTransitions?(r[i.animType]="translate("+e+", "+n+")",i.$slideTrack.css(r)):(r[i.animType]="translate3d("+e+", "+n+", 0px)",i.$slideTrack.css(r)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,n=this;n.$slides.each(function(i,r){e=n.slideWidth*i*-1,!0===n.options.rtl?t(r).css({position:"relative",right:e,top:0,zIndex:n.options.zIndex-2,opacity:0}):t(r).css({position:"relative",left:e,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,n,i,r,o,a=this,s=!1;if("object"===t.type(arguments[0])?(i=arguments[0],s=arguments[1],o="multiple"):"string"===t.type(arguments[0])&&(i=arguments[0],r=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)a.options[i]=r;else if("multiple"===o)t.each(i,function(t,e){a.options[t]=e});else if("responsive"===o)for(n in r)if("array"!==t.type(a.options.responsive))a.options.responsive=[r[n]];else{for(e=a.options.responsive.length-1;e>=0;)a.options.responsive[e].breakpoint===r[n].breakpoint&&a.options.responsive.splice(e,1),e--;a.options.responsive.push(r[n])}s&&(a.unload(),a.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,n,i,r,o=this;if(n=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),!0===o.options.centerMode){var a=o.options.slidesToShow%2==0?1:0;e=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t>=e&&t<=o.slideCount-1-e?o.$slides.slice(t-e+a,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(i=o.options.slidesToShow+t,n.slice(i-e+1+a,i+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?n.eq(n.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&n.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")}else t>=0&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=o.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?n.slice(i-(o.options.slidesToShow-r),i+r).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==o.options.lazyLoad&&"anticipated"!==o.options.lazyLoad||o.lazyLoad()},e.prototype.setupInfinite=function(){var e,n,i,r=this;if(!0===r.options.fade&&(r.options.centerMode=!1),!0===r.options.infinite&&!1===r.options.fade&&(n=null,r.slideCount>r.options.slidesToShow)){for(i=!0===r.options.centerMode?r.options.slidesToShow+1:r.options.slidesToShow,e=r.slideCount;e>r.slideCount-i;e-=1)n=e-1,t(r.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");for(e=0;e<i+r.slideCount;e+=1)n=e,t(r.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");r.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},e.prototype.selectHandler=function(e){var n=this,i=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),r=parseInt(i.attr("data-slick-index"));r||(r=0),n.slideCount<=n.options.slidesToShow?n.slideHandler(r,!1,!0):n.slideHandler(r)},e.prototype.slideHandler=function(t,e,n){var i,r,o,a,s,l,u=this;if(e=e||!1,!(!0===u.animating&&!0===u.options.waitForAnimate||!0===u.options.fade&&u.currentSlide===t))if(!1===e&&u.asNavFor(t),i=t,s=u.getLeft(i),a=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?a:u.swipeLeft,!1===u.options.infinite&&!1===u.options.centerMode&&(t<0||t>u.getDotCount()*u.options.slidesToScroll))!1===u.options.fade&&(i=u.currentSlide,!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(i)}):u.postSlide(i));else if(!1===u.options.infinite&&!0===u.options.centerMode&&(t<0||t>u.slideCount-u.options.slidesToScroll))!1===u.options.fade&&(i=u.currentSlide,!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(i)}):u.postSlide(i));else{if(u.options.autoplay&&clearInterval(u.autoPlayTimer),r=i<0?u.slideCount%u.options.slidesToScroll!=0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+i:i>=u.slideCount?u.slideCount%u.options.slidesToScroll!=0?0:i-u.slideCount:i,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,r]),o=u.currentSlide,u.currentSlide=r,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(l=(l=u.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(u.currentSlide),u.updateDots(),u.updateArrows(),!0===u.options.fade)return!0!==n?(u.fadeSlideOut(o),u.fadeSlide(r,function(){u.postSlide(r)})):u.postSlide(r),void u.animateHeight();!0!==n&&u.slideCount>u.options.slidesToShow?u.animateSlide(s,function(){u.postSlide(r)}):u.postSlide(r)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,n,i,r=this;return t=r.touchObject.startX-r.touchObject.curX,e=r.touchObject.startY-r.touchObject.curY,n=Math.atan2(e,t),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0?!1===r.options.rtl?"left":"right":i<=360&&i>=315?!1===r.options.rtl?"left":"right":i>=135&&i<=225?!1===r.options.rtl?"right":"left":!0===r.options.verticalSwiping?i>=35&&i<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,n,i=this;if(i.dragging=!1,i.swiping=!1,i.scrolling)return i.scrolling=!1,!1;if(i.interrupted=!1,i.shouldClick=!(i.touchObject.swipeLength>10),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(e),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,n,i,r,o,a,s=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||s.scrolling||o&&1!==o.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,s.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),a=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&a>4?(s.scrolling=!0,!1):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=a),n=s.swipeDirection(),void 0!==t.originalEvent&&s.touchObject.swipeLength>4&&(s.swiping=!0,t.preventDefault()),r=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(r=s.touchObject.curY>s.touchObject.startY?1:-1),i=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,!1===s.options.infinite&&(0===s.currentSlide&&"right"===n||s.currentSlide>=s.getDotCount()&&"left"===n)&&(i=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+i*r:s.swipeLeft=e+i*(s.$list.height()/s.listWidth)*r,!0===s.options.verticalSwiping&&(s.swipeLeft=e+i*r),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},e.prototype.swipeStart=function(t){var e,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return n.touchObject={},!1;void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,n.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,n,i=this,r=arguments[0],o=Array.prototype.slice.call(arguments,1),a=i.length;for(t=0;t<a;t++)if("object"==typeof r||void 0===r?i[t].slick=new e(i[t],r):n=i[t].slick[r].apply(i[t].slick,o),void 0!==n)return n;return i}});var substringMatcher=function(t){return function(e,n){var i;i=[],substrRegex=new RegExp(e,"i"),$.each(t,function(t,e){substrRegex.test(e)&&i.push({value:e})}),n(i)}};function submit_marcados(t){var e="";return $(".check_item").each(function(){$(this).is(":checked")&&(e=""==e?$(this).val():e+","+$(this).val())}),$('input[name="call_document_id"]').val(e),!0}function box_rason_star(t){var e="",n="";1!=t&&"Salvar"==$("#button_title").html()&&$("#button_title").html('<svg width="30px" height="40px" viewBox="0 0 30 48"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M25.5,20.8895495 C24.3246401,20.8895495 23.3684834,20.1715518 23.3684834,19.2891798 C23.3684834,18.4066846 24.3247585,17.6885637 25.5,17.6885637 C26.6753599,17.6885637 27.6315166,18.4066846 27.6315166,19.2891798 C27.6315166,19.8627647 28.1617016,20.3275472 28.8157583,20.3275472 C29.469815,20.3275472 30,19.8627647 30,19.2891798 C30,17.5962726 28.5926472,16.16804 26.6842417,15.7419484 L26.6842417,15.0384906 C26.6842417,14.4649057 26.1540567,14 25.5,14 C24.8459433,14 24.3157583,14.4649057 24.3157583,15.0384906 L24.3157583,15.7419484 C22.4072344,16.16804 21,17.5963958 21,19.2891798 C21,21.3167501 23.0187768,22.9664074 25.5,22.9664074 C26.6753599,22.9664074 27.6315166,23.6844051 27.6315166,24.5669003 C27.6315166,25.4493955 26.6753599,26.1673931 25.5,26.1673931 C24.3246401,26.1673931 23.3684834,25.4492722 23.3684834,24.5669003 C23.3684834,23.9933154 22.8382984,23.5284097 22.1842417,23.5284097 C21.530185,23.5284097 21,23.9933154 21,24.5669003 C21,26.2598075 22.4073528,27.68804 24.3157583,28.1140085 L24.3157583,28.9615094 C24.3157583,29.5350943 24.8459433,30 25.5,30 C26.1540567,30 26.6842417,29.5350943 26.6842417,28.9615094 L26.6842417,28.1140085 C28.5927656,27.68804 30,26.2598075 30,24.5669003 C30,22.53933 27.9812232,20.8895495 25.5,20.8895495" fill="#FFFFFF"></path></g></svg><span class="au-consulting-notes-write__send">Enviar Proposta</span>'),$("#button_title").show(),$(".box_esconde").hide(),$(".verify-required").removeClass("required"),$("#box_is_claimant").find(".verify-required").addClass("required"),$("#box_relationship_claimant").find(".verify-required").addClass("required"),1==t?(e='<select class="form-control" name="motivo" id="star_reason" autocomplete="off" required><option value="">Selecione</option><option value="Não tem direito">Não tem direito</option><option value="Contato errado">Contato errado</option></select>',$("#button_title").html("Salvar")):2==t?(e='<select class="form-control" name="motivo" id="star_reason" autocomplete="off" required><option value="">Selecione</option><option value="custo_alto">Custo Alto</option><option value="prazo_estimado">Prazo Estimado</option><option value="concorrente">Concorrente</option><option value="futuramente">Futuramente</option><option value="curiosidade">Curiosidade</option></select>',$("#box_honorary_corrections_quantity").show(),$("#box_honorary_gender").show(),$("#box_honorary_amount_honorary").show(),$("#box_honorary_paymentform").show(),$("#box_honorary_paydate").show(),$("#box_honorary_corrections_quantity").find(".verify-required").addClass("required"),$("#box_honorary_amount_honorary").find(".verify-required").addClass("required"),$("#box_honorary_paymentform").find(".verify-required").addClass("required"),$("#box_object_of_action").show(),$("#box_assets").show(),$("#box_descendants_quantity").show(),$("#box_custodian").show(),$("#box_fixed_food").show(),$("#box_percentage_food").show(),$("#box_unemployed_food").show(),$("#box_ex_spouse_pension").show(),$("#box_value_of_goods").show(),$("#box_court_costs").show()):3==t?(e='<select class="form-control" name="motivo" id="star_reason" autocomplete="off" required><option value="">Selecione</option><option value="Analisando Honorários">Analisando Honorários</option><option value="Aguardando Documentação">Aguardando Documentação</option><option value="Consultar família">Consultar família</option><option value="Retorno em Breve">Retorno em Breve</option></select>',$("#box_honorary_corrections_quantity").show(),$("#box_honorary_gender").show(),$("#box_honorary_date_birth").show(),$("#box_honorary_job").show(),$("#box_honorary_amount_honorary").show(),$("#box_honorary_paymentform").show(),$("#box_honorary_paydate").show(),$("#box_honorary_corrections_quantity").find(".verify-required").addClass("required"),$("#box_honorary_amount_honorary").find(".verify-required").addClass("required"),$("#box_honorary_paymentform").find(".verify-required").addClass("required"),$("#box_object_of_action").show(),$("#box_assets").show(),$("#box_descendants_quantity").show(),$("#box_custodian").show(),$("#box_fixed_food").show(),$("#box_percentage_food").show(),$("#box_unemployed_food").show(),$("#box_ex_spouse_pension").show(),$("#box_value_of_goods").show(),$("#box_court_costs").show()):4==t?(e='<select class="form-control" name="motivo" id="star_reason" autocomplete="off" required><option value="">Selecione</option><option value="Aguardando Documentação">Aguardando Documentação</option><option value="Consultar família">Consultar família</option><option value="Muito interessado">Muito interessado</option></select>',$("#box_honorary_corrections_quantity").show(),$("#box_honorary_gender").show(),$("#box_honorary_date_birth").show(),$("#box_honorary_job").show(),$("#box_honorary_amount_honorary").show(),$("#box_honorary_paymentform").show(),$("#box_honorary_paydate").show(),$("#box_honorary_corrections_quantity").find(".verify-required").addClass("required"),$("#box_honorary_amount_honorary").find(".verify-required").addClass("required"),$("#box_honorary_paymentform").find(".verify-required").addClass("required"),$("#box_honorary_date_birth").find(".verify-required").addClass("required"),$("#box_honorary_job").find(".verify-required").addClass("required"),$("#box_object_of_action").show(),$("#box_assets").show(),$("#box_descendants_quantity").show(),$("#box_custodian").show(),$("#box_fixed_food").show(),$("#box_percentage_food").show(),$("#box_unemployed_food").show(),$("#box_ex_spouse_pension").show(),$("#box_value_of_goods").show(),$("#box_court_costs").show()):5==t&&(n="",$("#box_honorary_corrections_quantity").show(),$("#box_honorary_gender").show(),$("#box_honorary_date_birth").show(),$("#box_honorary_job").show(),$("#box_honorary_amount_honorary").show(),$("#box_honorary_paymentform").show(),$("#box_honorary_paydate").show(),$("#box_honorary_corrections_quantity").find(".verify-required").addClass("required"),$("#box_honorary_amount_honorary").find(".verify-required").addClass("required"),$("#box_honorary_paymentform").find(".verify-required").addClass("required"),$("#box_honorary_date_birth").find(".verify-required").addClass("required"),$("#box_honorary_job").find(".verify-required").addClass("required"),$("#box_object_of_action").show(),$("#box_assets").show(),$("#box_descendants_quantity").show(),$("#box_custodian").show(),$("#box_fixed_food").show(),$("#box_percentage_food").show(),$("#box_unemployed_food").show(),$("#box_ex_spouse_pension").show(),$("#box_value_of_goods").show(),$("#box_court_costs").show()),n='<div class="col-sm-12 d-flex"><div class="task-list-table f-left pr-1 pt-2 text-grey fs-12 w-50 required">MOTIVO</div><div class="task-list-table f-left w-50">'+e+"</div></div>",5!=t&&""!=t||(n=""),$("#motivo_star").html(n)}$(document).ready(function(){load_step(),$("#crm-rating-star").change(function(){box_rason_star($(this).val())}),$(".check_item").click(function(){var t="nao";$(".check_item").each(function(){$(this).is(":checked")&&(t="sim")}),"sim"==t?($("#approve_checked").removeClass("disabled"),$("#approve_checked").removeAttr("disabled"),$("#reprove_checked").removeClass("disabled"),$("#reprove_checked").removeAttr("disabled"),$("#delete_checked").removeClass("disabled"),$("#delete_checked").removeAttr("disabled")):($("#approve_checked").addClass("disabled"),$("#approve_checked").attr("disabled","disabled"),$("#reprove_checked").addClass("disabled"),$("#reprove_checked").attr("disabled","disabled"),$("#delete_checked").addClass("disabled"),$("#delete_checked").attr("disabled","disabled"))}),$(()=>{$("#upload_link_comprovante").on("click",function(t){t.preventDefault(),$("#upload_comprovante:hidden").trigger("click"),$(document).on("change","#upload_comprovante",()=>{let t=document.getElementById("upload_comprovante").files,e=new FormData;e.append("upload_comprovante",t),$.ajax({url:"http://ratsbonemagri.local/manager-setup/cases/guide_anexo/22",method:"GET",data:e,processData:!1,success:function(t){console.log(t)}})})})}),$(()=>{$("#upload_link_comprovante").on("click",function(t){t.preventDefault(),$("#upload_comprovante:hidden").trigger("click"),$(document).on("change","#upload_guia",()=>{let t=document.getElementById("upload_guia").files,e=new FormData;e.append("upload_comprovante",t),$.ajax({url:"http://ratsbonemagri.local/manager-setup/cases/guide_download_anexo/22",method:"POST",data:e,processData:!1,success:function(t){console.log(t)}})})})}),$(".ng-pristine").keyup(function(){""!=$(this).val()?$(".btn-comment-register").removeClass("d-none"):$(".btn-comment-register").addClass("d-none")}),$(".js-basic-single").select2(),$("#addresscep").focusout(function(){$qtd=$(this).val(),$qtd=$qtd.replace("-",""),8==$qtd.length&&atualizacep($qtd)}),$("#step_by_step_clone").cloneya(),$(".clone-box-01").cloneya().on("before_append.cloneya",function(t,e,n){$(n).find(".money").mask("#.##0,00",{reverse:!0}),$(".money").mask("#.##0,00",{reverse:!0})}),$(".clone-box-02").cloneya(),setTimeout(function(){window.sizebox_comment()},2e3);$(".typeahead-job").typeahead({hint:!0,highlight:!0,minLength:1},{name:"job",displayKey:"value",source:substringMatcher(["Acabador de Mármore e Granito","ACONDICIONADOR","Acondicionador","Açougueiro","Acupunturista","Adestrador de Animais","Administrador","Administrador de Empresas","Administrador de Fazenda","Administrador Rural","Administrador Financeiro","ADMINISTRADOR RURAL","Advogado","Aeromodelista","Aeronauta","Aeroviário","Agenciador de Propaganda","AGENCIADOR DE PROPAGANDA","Agente Administrativo","Agente de Compras e Vendas","AGENTE DE COMPRAS/VENDAS","Agente de Saúde","Agente de Segurança","Agente de Seguros","Agente de Serviços Gerais","Agente de Turismo","Agente de Viagem","Agente Funerário","Agente Operacional","Agente Penitenciário","Agente Publicitário","AGENTE VISTOR","Agricultor","Agrimensor","Agrônomo","Agropecuarista","Ajudante de Cozinha","Ajudante de Eletricista","Ajudante de Motorista","Ajudante de Padeiro","Ajudante de Pedreiro","Ajudante de Pintor","Ajudante de Serralheiro","Ajudante Geral","Ajustador Mecânico","Alfaiate","Almoxarife","Ambulante","Amolador","Analista Contábil","Analista de Cargos e Salários","Analista de Desenvolvimento de Sistemas","ANALISTA DE ORG E METODOS","Analista de Organização e Métodos","Analista de Recursos Humanos","Analista de Suporte","Analista de Vendas","Analista Financeiro","Analista Químico","Anestesista","Antenista","ANTROPOLOGO","Antropólogo","Apicultor","APICULTOR","Apontador","Apontador de Mão de Obra","Aposentado","Apresentador de TV","APRESENTADOR DE TV","ARBITRO DESPORTIVO","Árbitro Desportivo","Armador","Armeiro","Arqueólogo","ARQUEOLOGO(A)","Arquiteto","Arquivista de Documentos","Arrumador","Artesão","Artífice","Artista","Artista Plástico","Ascensorista","Assessor","Assessor Legislativo","Assistente Administrativo","Assistente de Filmagem","Assistente de Finanças","Assistente de Marketing","Assistente de vendas","ASSISTENTE JUDICIARIO","Assistente Social","Assistente Técnico","Astrólogo","Astrônomo","Atendente","Atendente de Enfermagem","Atendente de Lanchonete","Atendente de Portaria de Hotel","Atleta Amador","Atleta Profissional","Ator","Atuário","Auditor","Autônomo","Autor-Roteirista","Auxiliar Administrativo","Auxiliar de Almoxarifado","Auxiliar de Biblioteca","Auxiliar de cartório","Auxiliar de Cobrança","Auxiliar de Contabilidade","Auxiliar de Cozinha","Auxiliar de Dentista","Auxiliar de Enfermagem","Auxiliar de Escritório","Auxiliar de Estatística","Auxiliar de Estoque","Auxiliar de Expedição","Auxiliar de Farmácia","Auxiliar de Garçom","Auxiliar de Laboratório","Auxiliar de lavanderia","Auxiliar de Limpeza","Auxiliar de Manutenção","Auxiliar de maquinista de trem","Auxiliar de Marceneiro","Auxiliar de Marketing","Auxiliar de Mecânico","Auxiliar de Montagem","Auxiliar de pessoal","Auxiliar de Produção","Auxiliar de Radiologia","Auxiliar de Serviço Extrajudicial","Auxiliar de Serviços Gerais","Auxiliar de Vendas","Auxiliar de Veterinário","Auxiliar Escolar","Auxiliar Financeiro","Auxiliar Operacional","Auxiliar Técnico de Informática","Auxiliar Técnico de Refrigeração","Avaliador","Avicultor","Azulejista","Babá","Bailarino","Balanceador","Balanceiro","Balconista","Bancário","Banqueiro","Barbeiro","Barman","Bedel","Bibliotecário","Biólogo","Biomédico","BIOQUIMICO","Bioquímico","Bolsista","Bombeiro","BORDADEIRA","BORDADOR","Bordador","Borracheiro","Botânico","Botoeiro","Cabeleireiro","Cabineiro","Cabista","Caixa","Caixeiro Viajante","CALCADISTA","Calceteiro","Caldeireiro","Camareiro","Camelô","Caminhoneiro","Cantor","Capataz","Capitalista","CAPITALISTA DE ATIVOS FINANC.","Capitalista de Ativos Financeiros","Capitão","Capoteiro","Carcereiro","Carpinteiro","CarregadorCarroceiro","Carteiro","Cartorário","Carvoeiro","Caseiro","Castrador","CASTRADOR","Catador de Material Reciclável","Cavalariço","Ceramista","Chacreiro","Chapa","CHAPEADOR","Chapeador","Chapeiro","Chapista","Chaveiro","Chefe","Chefe de Estação","Chefe de Seção","Chefe de Trem","Chefe Intermediário","Churrasqueiro","Cientista","Cientista Político","CINEASTA","Cinegrafista","Circuleiro","Cirurgião","Cirurgião Dentista","Cisterneiro","Citotécnico","Classificador","CLASSIFICADOR","Clicheiro","Cobrador","cocheiro","Colchoeiro","Coletor","Colocador de Carpetes","COLOCADOR DE CARPETES","Colunista Social","Comandante","Comentarista de Rádio e Televisão","COMENTARISTA DE RADIO E TV","Comerciante","Comerciário","Comissário de Polícia","Compositor","Comprador","Comunicador Visual","Comunicólogo","COMUNICOLOGO(A)","Confeiteiro","Conferente","Conferente de Carga e Descarga","Conselheiro Tutelar","Construtor","Consultor","Consultor Administrativo","Consultor de Empresas","Consultor de Informação","Consultor em Remuneração","Consultor Fiscal","CONSULTOR FISCAL","Consultor Jurídico","CONSULTOR TECNICO","Consultor Técnico","Contabilista","Contador","Contínuo","Contra-regra","Contramestre","Controlador de Qualidade","Coordenador","Coordenador Administrativo","Copeiro","Cordeiro","Coreógrafo","Coronel Bombeiro Militar","Corretor","Corretor de Imóveis","Corretor de Seguros","Corretor de Títulos e Valores","Cortador","Costurador de Lona","Costureiro","Coveiro","Cozinheiro","Crediarista","Criador","Cronoanalista","Dama de Companhia","Dançarino","Datilógrafo","DATILOGRAFO(A)","Datiloscopista","Decorador","Defensor Público","Degustador","DEGUSTADOR","Delegado de Polícia","Demonstrador","Dentista","Deputado Estadual","Deputado Federal","DEPUTADO FEDERAL","Desembargador","Desempregado","Desenhista","Desenhista Comercial","Desenhista Industrial","DESENHISTA TECNICO","Desenhista Técnico","Designer","Despachante","Despachante Policial","Desportista Amador","Desportista Profissional","Detetive","Diarista","Digitador","Diplomata","Diretor","Diretor Administrativo","Diretor de Cinema","Diretor de Empresas","Diretor de Escola","Diretor de Espetáculos","Diretor de Espetáculos Públicos","Diretor de Estabelecimento de Ensino","Diretor de Logística","Diretor de Serviços","DIRETOR(A) DE EMPRESAS","Discotecário","Do Comércio","DO LARDONA DE CASA","Doceiro","Domador","Economiário","Economista","Editor","Educador","Eletricista","Eletricista de Automóveis","Eletricitário","Eletrônico de Manutenção","Eletrotécnico","Embaixador","Embalador","Embalsamador","Empacotador","Empregado Doméstico","Empregado em Transportes e Cargas","Empregado Rural","EMPREGADO RURAL","Empreiteiro","Empresário","Empresário Comercial","Empresário Industrial","Encadernador","ENCADERNADOR(A)","Encanador","Encanador de Manutenção","Encanador Industrial","Encarregado","Encarregado Administrativo","ENCARREGADO DE COMPRAS","Encarregado de Compras","ENCARREGADO DE DEPOSITO","Encarregado de Depósito","ENCARREGADO DE LABORATORIO","Encarregado de Laboratório","Encarregado de Manutenção","Encarregado de Obras","Encarregado de Pintura","Encarregado de Produção","ENCARREGADO DE REFLORESTAMENTO","Encarregado de Reflorestamento","Encarregado do Setor de Tráfego","Enfermeiro","Enfestador de roupas","ENFESTADOR(A)","Engenheiro","Engenheiro Agrônomo","Engenheiro Civil","Engenheiro de Produção","Engenheiro Eletricista","Engenheiro Eletrônico","Engenheiro Florestal","Engenheiro Mecânico","Engenheiro Metalúrgico","Engenheiro Químico","Engraxate","Enlonador","ENLONADOR","Entregador","Entregador de Gás","Entregador de Jornal","Entregador de Pizza","Entrevistador","Ervateiro","Erveiro","Escrevente","Escrevente do Serviço Extrajudicial","Escritor","Escriturário","Escrivão","Escrivão de Polícia","Escultor","ESCULTOR(A)","Espelhador","Estagiário","Estampador","Estatístico","Estenógrafo","Esteticista","Estilista","Estivador","Estofador","Estopador","Estoquista","Estudante","Farmacêutico","Farmacologista","Faturista","Faxineiro","Fazendeiro","Feirante","Ferramenteiro","Ferreiro","Ferroviário","Fiandeiro","Fiel","Figurinista","Fiscal","Fiscal de Transportes Coletivos","Fiscal Rodoviário","Físico","Fisioterapeuta","Fitotecário (Cultiva Plantas)","Fitotecário (Informática)","FITOTERAPICO","Florista","Foguista","Fonoaudiólogo","Forneiro","Fotógrafo","Frentista","Fresador","Freteiro","Fruticultor","Funcionário Público Civil","Funcionário Público Civil Aposentado","Fundidor","Funileiro","Galvanizador","Garagista","Garçom","Gari","Garimpeiro","Gasista","Geofísico","Geógrafo","Geólogo","Gerente","Gerente Administrativo","Gerente Comercial","Gerente de Empresa","Gerente de Governança","Gerente de Logística","Gerente de Mercado","Gerente de Mercearia","GERENTE DE NEGOCIO","Gerente de Negócios","Gerente de Produção","Gerente de Vendas","Gerente Financeiro","Gesseiro","GESTOR AMBIENTAL","Governador de Estado","Governanta","Gráfico","Gravador","Guarda Florestal","Guarda Municipal","Guarda Urbano","Guarda Vigilante","Guardador de Carros","Guia Turístico","Guincheiro","Historiador","Hoteleiro","Iluminador","Impressor","Industrial","Industriário","Inseminador","Inspetor","Inspetor de Qualidade","Instalador","Instalador de Som","Instalador de telefones","Instrumentador Cirúrgico","Instrumentista","Instrutor","Intérprete","Inválido","Investigador de Polícia","Investigador Particular","Jardineiro","Joalheiro","Jogador de Futebol","Jóquei","Jornaleiro","Jornalista","Juiz de Direito","Jurista","Laboratorista","Lacrador de Embalagens","Lactarista","Ladrilheiro","Laminador","Lancheiro","Lanterneiro","Lapidador","Lavadeiro","Lavador de Veículos","Lavrador","Leiloeiro","Leiteiro","Leiturista","Lenhador","Lenheiro","Letrista","Limpador de vidros","Linotipista","Lixador","Lixeiro","Locutor","Lustrador","Maçariqueiro","Madeireiro","Magarefe","Maître","Manequim","Manicure","Manobrista","Maquilador","Maquinista","Marceneiro","Marinheiro","Marítimo","Marmiteiro","Marmorista","Massagista","Masseiro","Massoterapeuta","Matemático","Mecânico","Mecânico de Automóvel","Mecânico de Manutenção","Mecânico de Precisão","Mecânico de Refrigeração","Mecânico Eletricista","MECANICO(A) ELETRECISTA","Mecanógrafo","Médico","Médico Veterinário","Meio Oficial","Membro de Ordem Religiosa","Mensageiro","Merendeiro","Mergulhador","Mestre de Obras","Mestre em Produção Industrial","Metalúrgico","Meteorologista","Metroviário","Micro-Empresário","Militar","Militar Reformado","Mineiro","Minerador","Ministro de Culto Religioso","Ministro de Estado","Ministro de Tribunal Superior","Missionário","Modelista","Modelo artístico","Modelo de Modas","Modista","Moldador","Monitor","Montador","Montador de Automóveis","Montador de Móveis de Madeira","Mordomo","Motoboy","Motoqueiro","Motorista","Motorista de Ambulância","Motorista de ônibus urbano","Mototaxista","Museólogo","Músico","Navegador","Nutricionista","Ocupante de Cargo Político","Office-Boy","Oficial das Forças Armadas","Oficial de Cartório","Oficial de Justiça","Oficial Geral","Oleiro","Operador de Acabamento","OPERADOR DE AUDIO","Operador de áudio de continuidade (rádio)","Operador de Bombas","Operador de Caixa","Operador de Caldeira","Operador de Câmeras de Cinema e TV","OPERADOR DE CAMERAS TV/CINEMA","Operador de ceifadeira","Operador de cobrança bancária","Operador de Computador","Operador de Embalagem","Operador de Empilhadeira","Operador de escavadeira","Operador de Máquinas","Operador de Marketing","Operador de Moto Serra","Operador de Produção","Operador de Silkscreen","Operador de Telecomunicações","Operador de Telemarketing","Operador de torno automático","Operador de Tráfego","Operador de triagem e transbordo","OPERADOR DE TRIAGEM/TRASBORDO","Operário","Ordenador","Ordenhador","Orientador educacional","Ourives","Ouvidor do meio de comunicação","Overloquista","Padeiro","Padre","Paisagista","Panfleteiro","Pantografista","Papeleiro","Parlamentar","Parteiro","Passadeira","Pasteleiro","Pastor","Peão Boiadeiro","Pecuarista","Pedagogo","Pedicure","Pedreiro","Peixeiro","Peleteiro","Pensionista","Perfurador de Cartões","Perito","Perueiro","Pescador","Pesquisador Datiloscópico","Piloto","Pintor","Pintor de Automóveis","Pintor de Paredes","Pipoqueiro","Pizzaiolo","Plaineiro","Plaqueiro","Poceiro","Podólogo","Poeta","Policial Civil","Policial Federal","Policial Militar","POLICIAL MILITAR OUTRO ESTADO","Policial Rodoviário","Policial rodoviário Federal","Polidor de Metais","Polidor de Pedras","Polidor de Veículos","Porteiro","Praça da aeronáutica","Prático de Farmácia","Prefeito Municipal","Prendas do Lar","Prensista","Preparador de Máquinas","Preparador do Fumo","Presidente da República","Procurador","Procurador de Justiça","Produtor de Espetáculos Públicos","Produtor Musical","Produtor Rural","Professor","Profissional de Artefatos de Couro","Profissional de Letras/Artes","Programador","PROGRAMADOR CONTROLE PROD","Programador de Controle de Produção","Projetista","Promotor de Eventos","Promotor de Justiça","Promotor de Negócios","Promotor de Vendas","Propagandista","Proprietário","Prostituta","Protético","Protético dentário","Psicanalista","Psicólogo","Publicitário","Pugilista","Químico","Químico industrial","Radialista","Radiologista","Radiotécnico","Radiotelegrafista","Raspador","Recenseador","Recepcionista","Recreacionista","Redator","Relações Públicas","Relojoeiro","Repórter","Repórter Cinematográfico","REPORTER FOTOGRAFICO","Repositor","Repóter fotográfico","Representante Comercial","Restaurador","Retificador","Retificador de Fieiras","Retireiro","Revisor","Roteirista","Sacerdote","Salgadeiro","Salineiro","Salva - Vidas","Sapateiro","Secretário","Secretário de Estado","Secretário Municipal","Securitário","Segurança","Sem Profissão Definida","Senador da República","Separador de Sucata","Serigrafista","Seringueiro","Serrador","Serralheiro","Servente","Servente de Pedreiro","Serventuário da Justiça","Servidor Público","Servidor Público Estadual","Servidor Público Federal","Servidor Público Municipal","Siderúrgico","Síndico","Sitiante","Sociólogo","Soldado do Exército Brasileiro","Soldador","Sonoplasta","Suinocultor","Superintendente","Supervisor","Supervisor de Produção","Supervisor de Segurança","Supervisor de Vendas","SUPERVISOR(A) DE TELEMARKETING","Tabageiro","Tabelião","Tanoeiro","Tapeceiro","Taquígrafo","Tatuador","Taxista","Tecelão","Técnico","TECNICO DE AGRIMENSURA","Técnico de Copiadora","Técnico de Futebol","Técnico de Saneamento","Técnico de vendas","Técnico em Administração","Técnico em Agrimensura","Técnico em Agronomia","Técnico em Agropecuária","Técnico em Aparelhos Eletrodomésticos","Técnico em Biologia","Técnico em Bioterismo","Técnico em Contabilidade","Técnico em Desportos","Técnico em Edificações","Técnico em Eletricidade","Técnico em Eletrônica","Técnico em Enfermagem","Técnico em Engenharia","TECNICO EM ENGENHARIA CIVIL","Técnico em Estatística","Técnico em Farmácia","Técnico em Geologia","Técnico em Informática","Técnico em Laboratório","Técnico em Manutenção","Técnico em Mecânica","Técnico em Mecânica de Produção","Técnico em Metalurgia","Técnico em Mineração","Técnico em Nutrição","Técnico em Piscicultura","Técnico em Plástico","Técnico em Processamento de Dados","Técnico em Produção Industrial","Técnico em Química","Técnico em Radiologia","Técnico em Raios X","Técnico em Refrigeração","Técnico em Segurança do Trabalho","Técnico em Telecomunicações","Técnico em Telefonia","Técnico em Veterinária","Técnico Fiscal em Arrecadação","Técnico Fiscal em Tributação","Técnico Industrial","Técnico Têxtil","TÉCNICO(A) OPTICO","Tecnólogo","Telefonista","Telegrafista","Teletipista","Terapeuta Ocupacional","Tesoureiro","Tintureiro","Tipógrafo","Torneiro Ferramenteiro","Torneiro Mecânico","Trabalhador Agrícola","TRABALHADOR CONSTR CIVIL","Trabalhador em Fábrica de Alimentos","Trabalhador em Fábrica de Calçados","Trabalhador em Fábrica de Papel","Trabalhador em Fábrica Têxteis","TRABALHADOR FABR PAPEL","Trabalhador na Construção Civil","Trabalhador Rural","Tradutor","Transportador","Trapezista","Tratador","Tratorista","Urbanista","Usineiro","Vacinador","Vaqueiro","Varredor de Ruas","Vendedor","Verdureiro","Vereador","Veterinário","Viajante","Vice-Diretor","Vice-Prefeito","Vice-Presidente","Vidraceiro","Vigilante","Vigilante Bancário","Vigilante noturno","Vimeiro","Zelador","Zoólogo","Zootecnista"])});$(".typeahead-nacionality").typeahead({hint:!0,highlight:!0,minLength:1},{name:"nacionality",displayKey:"value",source:substringMatcher(["albanês","albanesa","alemão","alemã","austríaco","austríaca","belga","belga","búlgaro","búlgara","croata","croata","cipriota","cipriota","dinamarquês","dinamarquesa","eslovaco","eslovaca","esloveno","eslovena","espanhol","espanhola","francês","francesa","finlandês","finlandesa","grego","grega","húngaro","húngara","islandês","islandesa","irlandês","irlandesa","italiano","italiana","kosovar","kosovar","lituano","lituana","luxemburguês","luxemburguesa","montenegrino","montenegrina","holandês","holandesa","norueguês","norueguesa","polaco","polaca","português","portuguesa","inglês","inglesa","romenos","romena","russo","russa","sueco","sueca","suíço","suíça","turco","turca","ucraniano","ucraniana","argentino","argentina","brasileiro","brasileira","canadiano","canadiana","chileno","chilena","colombiano","colombiana","cubano","cubana","americano","americana","mexicano","mexicana","venezuelano","venezuelana","afegão","afegã","chinês","chinesa","norte-coreano","norte-coreana","sul-coreano","sul-coreana","indiano","indiana","indoneso","indonesa","iraniano","iraniana","iraquiano","iraquiana","israelita","israelita","japonês","japonesa","jordano","jordana","libanês","libanesa","paquistanês","paquistanesa","sírio","síria","tailandês","tailandesa","timorense","timorense","vietnamita","vietnamita","sul-africano","sul-africana","argelino","argelina","angolano","angolana","cabo-verdiano","cabo-verdiana","guineense","guineense","queniano","queniana","líbio","líbia","marroquino","marroquina","moçambicano","moçambicana","nigeriano","nigeriana","ruandês","ruandesa","santomense","santomense","senegalês","senegalesa","somalí","somalí","sudanês","sudanesa","tunisino","tunisina","australiano","australiana","neozelandês","neozelandesa"])});$(".typeahead-vara").typeahead({hint:!0,highlight:!0,minLength:1},{name:"vara",displayKey:"value",source:substringMatcher(["Vara Cí­vel","Vara de Registros Públicos"])});$(".typeahead-foro").typeahead({hint:!0,highlight:!0,minLength:1},{name:"foro",displayKey:"value",source:substringMatcher(["Foro Regional I - Santana","Foro Regional II - Santo Amaro","Foro Regional III - Jabaquara","Foro Regional IV - Lapa","Foro Regional V - São Miguel Paulista","Foro Regional VI - Penha de França","Foro Regional VII - Itaquera","Foro Regional VIII - Tatuapé","Foro Regional IX - Vila Prudente","Foro Regional X - Ipiranga","Foro Regional XI - Pinheiros","Foro das Execuções Fiscais Estaduais","Foro Especial da Infância e Juventude","Foro Central Juizados Especiais Cí­veis","Foro de Americana","Foro Regional XII - Nossa Senhora do Ó","Setor de Cartas Precatárias Cí­veis - Cap","Foro de Amparo","Foro de Andradina","Foro de Angatuba","Bauru/DEECRIM UR3","Foro de Iacanga","Foro de Aparecida","Foro de Apiaí­","Foro de Araçatuba","Foro de Águas de Lindoia","Foro de Araraquara","Foro de Araras","Foro de Américo Brasiliense","São Paulo/DEECRIM UR1","Foro de Altinópolis","Foro de Arujá","Foro de Assis","Foro de Atibaia","Foro Central Criminal Barra Funda","Foro Central Criminal - Juri","Foro Central - Fazenda Pública/Acidentes","Foro de Agudos","Foro de Bananal","Foro de Auriflama","Foro de Bariri","Foro de Barra Bonita","Foro de Barretos","Foro de Borborema","Foro de Barueri","Foro de Bastos","Foro de Batatais","Foro de Bauru","Foro de Bebedouro","Foro de Avaré","Foro de Bertioga","Foro de Bilac","Foro de Birigui","Foro de Botucatu","Foro de Cabreúva","Foro de Adamantina","Foro de Boituva","Foro de Aguaí","Foro Regional de Vila Mimosa","Foro das Execuções Fiscais Municipais","ANTIGO Foro Distrital de Brás Cubas","Foro de Brodowski","Foro de Brotas","Foro de Buritama","Foro de Bragança Paulista","Foro Central Cível","Foro de Caçapava","Foro de Cachoeira Paulista","Foro de Caconde","Foro de Cafelândia","Foro de Caieiras","Foro de Cajamar","Foro de Cajuru","Foro de Campinas","Foro de Campo Limpo Paulista","Foro de Campos do Jordão","Foro de Cananéia","Foro de Cândido Mota","Foro de Capão Bonito","Foro de Capivari","Foro de Caraguatatuba","Foro de Carapicuíba","Foro de Cardoso","Foro de Casa Branca","Foro de Catanduva","Foro de Cerqueira César","Foro de Cerquilho","Foro de Chavantes","Foro de Colina","Foro de Conchal","Foro de Conchas","Foro de Cordeirópolis","Foro de Cosmópolis","Foro de Cotia","Foro de Cravinhos","São José do Rio Preto/DEECRIM UR8","Foro de Cruzeiro","Foro de Cubatão","Santos/DEECRIM UR7","Foro de Cunha","Foro de Descalvado","Foro de Diadema","Foro de Dois Córregos","Foro de Dracena","Foro de Duartina","Foro de Eldorado Paulista","Foro de Embu das Artes","Foro de Embu-Guaçu","Foro de Espírito Santo do Pinhal","Foro de Estrela D Oeste","Foro de Fartura","Foro de Fernandópolis","Foro de Ferraz de Vasconcelos","Foro de Franca","Foro de Francisco Morato","Foro de Franco da Rocha","Foro de Gália","Foro de Garça","Foro de General Salgado","Foro de Getulina","Foro de Guaíra","Foro de Guará","Foro de Guararapes","Foro de Guararema","Foro de Guaratinguetá","Foro de Guariba","Foro de Guarujá","Foro de Guarulhos","Foro Plantão - 00ª CJ - Capital","Foro de Hortolândia","Foro de Cesário Lange","Foro de Ibaté","Foro de Ibitinga","Foro de Ibiúna","Foro de Iepê","Foro de Igarapava","Foro de Iguape","Foro de Ilha Solteira","Foro de Ilhabela","Foro de Indaiatuba","Foro de Ipauçu","Foro de Ipuã","Foro de Itaberá","Foro de Itaí","Foro de Itajobi","Foro de Itanhaém","Foro de Itapecerica da Serra","Foro de Itapetininga","Foro de Itapeva","Foro de Itapevi","Foro de Itapira","Foro de Itápolis","Foro de Itaporanga","Foro de Itaquaquecetuba","Foro de Itararé","Foro de Itariri","Foro de Itatiba","Foro de Itatinga","Foro de Itirapina","Foro de Itu","Foro de Ituverava","Foro de Jaboticabal","Foro de Jacareí","Foro de Jacupiranga","Foro de Jaguariúna","Foro de Jales","Foro de Jandira","Foro de Jardinópolis","Foro de Jarinu","Foro de Jaú","Foro de José Bonifácio","Foro de Jundiaí","Foro de Junqueirópolis","Foro de Juquiá","Foro de Laranjal Paulista","Foro de Leme","Foro de Lençóis Paulista","Foro de Limeira","Foro de Lins","Foro de Lorena","Foro de Lucélia","Foro de Macatuba","Foro de Macaubal","Foro de Mairinque","Foro de Mairiporã","Foro de Maracaí","Foro de Marília","Foro de Martinópolis","Foro de Matão","Foro de Mauá","Foro de Miguelópolis","Foro de Miracatu","Foro de Mirandópolis","Foro de Mirante do Paranapanema","Foro de Mirassol","Foro de Mococa","Foro de Mogi das Cruzes","Foro de Mogi Guaçu","Foro de Mogi Mirim","Foro de Mongaguá","Foro de Monte Alto","Foro de Monte Aprazível","Foro de Monte Azul Paulista","Foro de Monte Mor","Foro de Morro Agudo","Foro de Neves Paulista","Foro de Nhandeara","Foro de Nova Granada","Foro de Nova Odessa","Foro de Novo Horizonte","Foro de Nuporanga","Foro de Olímpia","Foro de Orlândia","Foro de Osasco","Foro de Osvaldo Cruz","Foro de Ourinhos","Foro de Pacaembu","Foro de Palestina","Foro de Palmeira D Oeste","Foro de Palmital","Foro de Panorama","Foro de Paraguaçu Paulista","Foro de Paraibuna","Foro de Paranapanema","Foro de Pariquera-Açu","Foro de Patrocínio Paulista","Foro de Paulínia","Foro de Paulo de Faria","Foro de Pederneiras","Foro de Pedregulho","Foro de Pedreira","Foro de Penápolis","Foro de Pereira Barreto","Foro de Peruíbe","Foro de Piedade","Foro de Pilar do Sul","Foro de Pindamonhangaba","Foro de Pinhalzinho","Foro de Piquete","Foro de Piracaia","Foro de Piracicaba","Foro de Piraju","Foro de Pirajuí","Foro de Pirapozinho","Foro de Pirassununga","Foro de Piratininga","Foro de Pitangueiras","Foro de Poá","Foro de Pompéia","Foro de Pontal","Foro de Porangaba","Foro de Porto Feliz","Foro de Porto Ferreira","Foro de Potirendaba","Foro de Praia Grande","Foro de Presidente Bernardes","Foro de Presidente Epitácio","Foro de Presidente Prudente","Foro de Presidente Venceslau","Foro de Promissão","Foro de Quatá","Foro de Queluz","Foro de Rancharia","Foro de Regente Feijó","Foro de Registro","Ribeirão Preto/DEECRIM UR6","Foro de Ribeirão Bonito","DEPRE","Campinas/DEECRIM UR4","Foro de Ribeirão Pires","Foro de Ribeirão Preto","Araçatuba/DEECRIM UR2","Foro de Rio Claro","Foro de Rio das Pedras","Foro de Rio Grande da Serra","Foro de Itupeva","Foro de Rosana","Foro de Roseira","São José dos Campos/DEECRIM UR9","Sorocaba/DEECRIM UR10","Foro de Salesópolis","Foro de Salto","Foro de Santana de Parnaíba","Foro Plantão - 41ª CJ - Ribeirão Preto","Foro de Santa Adélia","Foro de Santa Bárbara D Oeste","Foro de Santa Branca","Foro Plantão - 44ª CJ - Guarulhos","Foro Plantão - 01ª CJ - Santos","Foro Plantão - 02ª CJ - São Be. Campo","Foro de Santa Cruz das Palmeiras","Foro de Santa Cruz do Rio Pardo","Foro Plantão - 03ª CJ - Santo André","Foro de Santa Fé do Sul","Foro Plantão - 04ª CJ - Osasco","Foro de Santa Isabel","Foro Plantão - 05ª CJ - Jundiaí","Foro Plantão - 06ª CJ - Brag. Paulista","Foro Plantão - 07ª CJ - Mogi Mirim","Foro de Santa Rita do Passa Quatro","Foro Plantão - 08ª CJ - Campinas","Foro de Santa Rosa de Viterbo","Foro Plantão - 09ª CJ - Rio Claro","Foro Plantão - 10ª CJ - Limeira","Foro Plantão - 11ª CJ - Pirassununga","Foro de Santo Anastácio","Foro de Santo André","Foro Plantão - 12ª CJ - São Carlos","Foro Plantão - 13ª CJ - Araraquara","Foro Plantão - 14ª CJ - Barretos","Foro Plantão - 15ª CJ - Catanduva","Foro Plantão - 16ª CJ - S. J. Rio Preto","Foro Plantão - 17ª CJ - Votuporanga","Foro Plantão - 18ª CJ - Fernandópolis","Foro de Santos","Foro de São Bento do Sapucaí","Foro de São Bernardo do Campo","Foro de São Caetano do Sul","Foro de São Carlos","Foro Plantão - 19ª CJ - Sorocaba","Foro de São João da Boa Vista","Foro Plantão - 20ª CJ - Itu","Foro Plantão - 21ª CJ - Registro","Foro Plantão - 22ª CJ - Itapetininga","Foro de São Joaquim da Barra","Foro Plantão - 23ª CJ - Botucatu","Foro Plantão - 24ª CJ - Avaré","Foro de São José do Rio Pardo","Foro de São José do Rio Preto","Foro de São José dos Campos","Foro Plantão - 25ª CJ - Ourinhos","Foro de São Luiz do Paraitinga","Foro Plantão - 26ª CJ - Assis","Foro de São Manuel","Foro de São Miguel Arcanjo","Foro Plantão - 27ª CJ - Pre. Prudente","Foro de São Pedro","Foro Plantão - 28ª CJ - Pre. Venceslau","Foro de São Roque","Foro de São Sebastião","Foro de São Sebastião da Grama","Foro de São Simão","Foro de São Vicente","Foro Plantão - 29ª CJ - Dracena","Foro Plantão - 30ª CJ - Tupã","Foro Plantão - 31ª CJ - Marília","Foro Plantão - 32ª CJ - Bauru","Foro de Serra Negra","Foro de Serrana","Foro de Sertãozinho","Foro Plantão - 33ª CJ - Jaú","Foro Plantão - 34ª CJ - Piracicaba","Foro Plantão - 35ª CJ - Lins","Foro de Socorro","Foro de Sorocaba","Foro Plantão - 36ª CJ - Araçatuba","Foro de Sumaré","Foro Plantão - 37ª CJ - Andradina","Foro de Suzano","Foro de Tabapuã","Foro Plantão - 38ª CJ - Franca","Foro de Taboão da Serra","Foro Plantão - 39ª CJ - Batatais","Foro Plantão - 40ª CJ - Ituverava","Foro Plantão - 42ª CJ - Jaboticabal","Foro Plantão - 43ª CJ - Casa Branca","Foro de Tambaú","Foro de Tanabi","Foro Plantão - 45ª CJ - Mogi das Cruzes","Foro Plantão - 46ª CJ - S. J. dos Campos","Foro Plantão - 47ª CJ - Taubaté","Foro de Taquaritinga","Foro de Taquarituba","Foro Plantão - 48ª CJ - Guaratinguetá","Foro Plantão - 49ª CJ - Itapeva","Foro Plantão - 50ª CJ - S. J. Boa Vista","Foro de Tatuí","Foro de Taubaté","Foro Plantão - 51ª CJ - Caraguatatuba","Foro de Teodoro Sampaio","Foro Plantão - 52ª CJ - Itapec. da Serra","Foro de Tietê","Foro Plantão - 53ª CJ - Americana","Foro Plantão - 54ª CJ - Amparo","Foro Plantão - 55ª CJ - Jales","Foro Plantão - 56ª CJ - Itanhaém","Foro de Tremembé","Foro de Tupã","Foro de Tupi Paulista","Foro de Ubatuba","Foro de Urânia","Foro de Urupês","Foro de Valinhos","Foro de Valparaíso","Foro de Vargem Grande do Sul","Foro de Vargem Grande Paulista","Foro de Várzea Paulista","Foro de Vinhedo","Foro de Viradouro","Foro de Votorantim","Foro de Votuporanga","Foro de Artur Nogueira","Foro de Flórida Paulista","Foro de Louveira","Foro de Buri","Foro de Nazaré Paulista","Foro de Ouroeste","Foro de Pirangi","Foro de Salto de Pirapora","Foro Teste Peticionamento","Foro Regional XV - Butantã","Foro da Comissão Processante Permanente","Presidente Prudente/DEECRIM UR5"])});let t=document.getElementById("guias-case-value");void 0!==t&&null!=t&&("Guias Judiciais"==t.value?($("#guias-judiciais").addClass("show active").show(),$("#justica-gratuita").hide()):"Justiça Gratuita"==t.value?($("#guias-case").attr("checked",!0),$("#justica-gratuita").addClass("show active").show(),$("#guias-judiciais").hide()):($("#guias-judiciais").addClass("show active").show(),$("#justica-gratuita").hide()),$("#guias-case").on("change",function(){$(this).is(":checked")?($(this).attr("value","true"),$("#justica-gratuita").addClass("show active").show(),$("#guias-judiciais").removeClass("show active").hide()):($(this).attr("value","false"),$("#guias-judiciais").addClass("show active").show(),$("#justica-gratuita").removeClass("show active").hide())})),$(".js-basic-multiple").select2(),$(".rating-star").barrating({theme:"css-stars",showSelectedRating:!1})});
